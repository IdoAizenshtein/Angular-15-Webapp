/*!
* Dynamsoft JavaScript Library
* Product: Dynamsoft Web Twain
* Web Site: http://www.dynamsoft.com
*
* Copyright 2020, Dynamsoft Corporation 
* Author: Dynamsoft R&D Department
*
* Version: 16.0
*
* Module: addon/pdf
* final js: build\addon\dynamsoft.webtwain.addon.pdf.js
*/
;var Dynamsoft=self.Dynamsoft||{WebTwainEnv:{}};Dynamsoft.aryAddonReadyFun=Dynamsoft.aryAddonReadyFun||[];Dynamsoft.AddonReady=Dynamsoft.AddonReady||function(a){Dynamsoft.aryAddonReadyFun.push(a)};var EnumDWT_ConvertMode={CM_RENDERALL:1,CM_IMAGEONLY:2,CM_AUTO:3};var EnumDWT_PDFCompressionType={PDF_AUTO:0,PDF_FAX3:1,PDF_FAX4:2,PDF_LZW:3,PDF_RLE:4,PDF_JPEG:5,PDF_JP2000:6,PDF_JBig2:7};(function(c){var d=[c,Dynamsoft],b=0;for(;b<2;b++){var a=d[b];a.EnumDWT_ConvertMode=EnumDWT_ConvertMode;a.EnumDWT_PDFCompressionType=EnumDWT_PDFCompressionType}})(typeof window!=="undefined"?window:this);Dynamsoft.AddonReady(function(c,b){if(!c.product.bHTML5Edition){return}var a;var d=function(f){var g=c.html5.Funs,e;if(c.env.bMac){if(Dynamsoft.dcp.b64bit){a="libDynamicPdfCorex64_"+Dynamsoft.WebTwainEnv.PdfVersion+".dylib"}else{a="libDynamicPdfCore_"+Dynamsoft.WebTwainEnv.PdfVersion+".dylib"}}else{if(c.env.bLinux){a="libDynamicPdfCore_"+Dynamsoft.WebTwainEnv.PdfVersion+".so"}else{if(Dynamsoft.dcp.b64bit){a="DynamicPdfCorex64_"+Dynamsoft.WebTwainEnv.PdfVersion+".dll"}else{a="DynamicPdfCore_"+Dynamsoft.WebTwainEnv.PdfVersion+".dll"}}}if(!f._isMobileMode()){f._innerSend("GetAddOnVersion",g.makeParams("pdf",a),true,false,false)}e={PDF:{IsModuleInstalled:function(){var i=f;i._resetErr();if(i._isMobileMode()){if(dynamsoft.pdf){return dynamsoft.pdf.IsModuleInstalled()}return false}var h=i._innerFun("GetAddOnVersion",g.makeParams("pdf",a));return(h!="")},ConvertToImage:function(k,i,p,j){var o=g.replaceLocalFilename(k);var h="ConvertPDFToImage";var l=function(m){g.hideMask(h);if(p){p()}return true},q=function(m){g.hideMask(h);if(j){j()}return false};var n=f;n._resetErr();if(n._isMobileMode()){return true}g.showMask(h);n._innerSend(h,g.makeParams(o,i),true,l,q);return true},SetPassword:function(h){var i=f;i._resetErr();if(i._isMobileMode()){i._pdfPassword=h;return true}return i._innerFun("SetPDFPassword",g.makeParams(h))},SetConvertMode:function(h){var i=f;return i._setConvertMode(h)},GetConvertMode:function(){var h=f;h._resetErr();return h._pdfConvertMode},SetResolution:function(h){var i=f;i._resetErr();if(i._isMobileMode()){i._pdfResolution=1*h;return true}return f._innerFun("SetPDFResolution",g.makeParams(h))},IsTextBasedPDF:function(l,j,i){var m=f;m._resetErr();if(m._isMobileMode()){return m._mobileNotSupport("IsTextBasedPDF",i)}var k=g.replaceLocalFilename(l);var h=f._innerFun("IsTextBasedPDF",g.makeParams(k));if(m.ErrorCode==0){if(c.isFunction(j)){j(h)}}else{if(c.isFunction(i)){i(m.ErrorCode,m.ErrorString)}}return h},Write:{Setup:function(h){var j=h;if(!j){j={version:15}}if(!c.isNumber(j.version)){j.version=15}else{if(j.version>1&&j.version<2){j.version=parseInt(10*j.version)}}if(c.isNumber(j.compression)&&(j.compression==EnumDWT_PDFCompressionType.PDF_FAX3)){j.compression=EnumDWT_PDFCompressionType.PDF_FAX4}var k=f;k._resetErr();if(k._isMobileMode()){k._pdfWriteSetting=j;return true}var i=c.stringify(j);i=c.replaceAll(i,'"','\\"');return k._innerFun("SetPDFSettings",['["',i,'"]'].join(""))}}}};f.__addon=f.__addon||{};c.mix(f.__addon,e)};if(c.DynamicLoadAddonFuns){c.DynamicLoadAddonFuns.push(d)}});Dynamsoft.AddonReady(function(b,a){if(!b.product.bPluginEdition&&!b.product.bActiveXEdition){return}var c=function(h){var f,i,e;if(h.getSWebTwain()&&h.getSWebTwain().Addon){}else{return false}if(b.env.bWin){var g=navigator.userAgent.toLowerCase(),d=!Dynamsoft.navInfo.isX64||(g.indexOf("wow64")>=0);if(d){e="DynamicPdfCore_"+Dynamsoft.WebTwainEnv.PdfVersion+".dll"}else{e="DynamicPdfCorex64_"+Dynamsoft.WebTwainEnv.PdfVersion+".dll"}}else{}i=h.getSWebTwain();f={PDF:{IsModuleInstalled:function(){var j=i.GetAddOnVersion("pdf",e);b.setErrorString(h);return(j!="")},ConvertToImage:function(k,n,j,m){var l=i.ConvertPDFToImage(k,n);return b.wrapperRet(h,l,j,m)},SetPassword:function(j){var k=i.SetPDFPassword(j);return b.wrapperRet(h,k)},SetConvertMode:function(k){var l=k*1;if(isNaN(l)){b.Errors.ParameterCannotEmpty(h);return false}if(l==0){l=EnumDWT_ConvertMode.CM_IMAGEONLY}if(l==EnumDWT_ConvertMode.CM_RENDERALL){if(!b.License.checkProductKey(h,{PDFRasterizer:true},true)){return false}}var j=i.SetPDFConvertMode(l);return b.wrapperRet(h,j)},GetConvertMode:function(){var j=i.GetPDFConvertMode();return b.wrapperRet(h,j)},SetResolution:function(k){var j=i.SetPDFResolution(k);return b.wrapperRet(h,j)},IsTextBasedPDF:function(j){var k=i.IsTextBasedPDF(j);return b.wrapperRet(h,k)}}};h.Addon=h.Addon||{};b.mix(h.Addon,f)};if(b.DynamicLoadAddonFuns){b.DynamicLoadAddonFuns.push(c)}});