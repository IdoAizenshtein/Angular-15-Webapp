<div #headerPage></div>
<!--(click)="(accountsBarRes && accountsBarRes.dataReadyEnd) ? accountsBarRes.dataReadyEnd = false : null"-->
<div *ngIf="(accountsBarRes && accountsBarRes.dataReady === false) || (accountsBarRes && accountsBarRes.dataReadyEnd)"
     [ngStyle]="{'height': (getPageHeightFunc(headerPage.getBoundingClientRect().bottom)) +'px'}"
     class="sq_dataReady_wr">
    <div (click)="$event.stopPropagation()" [class.hideShadow]="!accountsBarRes" class="sq_dataReady_pr">
        <div class="icon">
            <img *ngIf="(accountsBarRes && accountsBarRes.dataReadyEnd)" src="/assets/images/dataReadyEnd.png"/>

            <img *ngIf="!(accountsBarRes && accountsBarRes.dataReadyEnd)" src="/assets/images/dataReadyLoader.gif"/>

            <!--            <div *ngIf="!(accountsBarRes && accountsBarRes.dataReadyEnd)"-->
            <!--                 class="loader">-->
            <!--                <div class="circle"></div>-->
            <!--            </div>-->
        </div>

        <div *ngIf="accountsBarRes" class="text">
            <div class="title">
                {{(accountsBarRes && accountsBarRes.dataReadyEnd) ?
                'הנתונים עודכנו בהצלחה' :
                'המערכת מכינה את הנתונים'}}
            </div>
            <div *ngIf="!(accountsBarRes && accountsBarRes.dataReadyEnd)" class="subTitle">
                זה עשוי לקחת מספר דקות, בינתיים אפשר להמשיך לעבוד
                <br>
                על חברות אחרות.
            </div>

            <div *ngIf="(accountsBarRes && accountsBarRes.dataReadyEnd)"
                 style="
    display: flex;
    margin-top: 50px;
">
                <button (click)="updateDataReadyPopup(); accountsBarRes.dataReadyEnd = false"

                        style="width: 70px;
height: 40px;
font-family: 'Assistant';
font-style: normal;
font-weight: 600;
font-size: 17px;
line-height: 22px;
    margin: 0 auto;
text-align: center;
color: #FFFFFF;
background: #02225C;
border: none;
outline: none;
cursor: pointer;
border-radius: 4px;">
                    הבנתי
                </button>
            </div>
        </div>
    </div>
</div>

<ng-container
        *ngIf="accountsBarRes && (accountsBarRes.dataReady || accountsBarRes.dataReady === null) && !accountsBarRes.dataReadyEnd">
    <div
            *ngIf="this.accountsBarData || accountsBarDataError"
            class="filterRow suppliersAndCustomersTitles"
            style="
    margin-top: 15px;
    margin-bottom: 15px;
    justify-content: space-between;
    align-items: flex-end;
  ">
        <div style="display: flex">
            <ul class="tabs bankAndCreditTabs">
                <li (click)="sharedComponent.mixPanelEvent('bank');setStatus('BANK')"
                    [class.active]="fileStatus === 'BANK'">
                    בנק
                </li>
                <li
                        (click)="sharedComponent.mixPanelEvent('credit');setStatus('CREDIT')"
                        [class.active]="fileStatus === 'CREDIT'"
                >
                    אשראי
                </li>
                <li
                        (click)="sharedComponent.mixPanelEvent('hatamot'); tabMatched = 1; setStatus('BANK_MATCH');"
                        *ngIf="!accountsBarDataError"
                        [class.active]="fileStatus === 'BANK_MATCH' && tabMatched === 1"
                >
                    התאמות בנק ואשראי
                </li>
                <li
                        (click)="sharedComponent.mixPanelEvent('hutam'); tabMatched = 2; setStatus('BANK_MATCH')"
                        *ngIf="!accountsBarDataError"
                        [class.active]="fileStatus === 'BANK_MATCH' && tabMatched === 2"
                >
                    תנועות שהותאמו
                </li>
                <li
                        (click)="sharedComponent.mixPanelEvent('pkudotYoman'); setStatus('CREATE_JOURNAL_TRANS')"
                        [class.active]="fileStatus === 'CREATE_JOURNAL_TRANS'"
                >
                    יצירת פקודות יומן
                    <ng-container
                            *ngIf="
            countStatusData && countStatusData?.journalBankCredit !== undefined
          "
                    >
                        ({{(!(!userService?.appData?.userData?.companySelect
                        ?.bankJournalItem && !userService?.appData?.userData?.companySelect
                        ?.creditJournalItem)) ? countStatusData?.journalBankCredit : '0' }})
                    </ng-container>
                </li>

            </ul>
            <ng-container *ngIf="fileStatus === 'CREATE_JOURNAL_TRANS'">
                <div
                        (click)="handleClick($event)"
                        class="filterRow"
                        style="
        justify-content: space-between;
        align-items: flex-end;
        margin-bottom: 10px;
      "
                >
                    <div style="display: flex">
                        <div class="search" style="width: 250px">
                            <input
                                    [formControl]="filterInput"
                                    [value]="queryString"
                                    autocomplete="off"
                                    id="containTextFilter"
                                    placeholder="{{ 'filters.search' | translate }}"
                                    type="text"
                            />
                        </div>
                        <mat-icon
                                [escape]="false"
                                [pTooltip]="iconSupportTooltip()"
                                [svgIcon]="'icon_support'"
                                style="width: 25px;height: 25px;display: block;margin-top: 7px;margin-right: 40px;cursor:pointer"
                                tooltipPosition="top"
                                tooltipStyleClass="iconSupportTooltip">
                        </mat-icon>
                    </div>

                    <div class="btnChangeView" style="display: flex; flex-direction: column">
                        <div class="exports">
                            <button
                                    (click)="printPage('all')"
                                    [matTooltip]="'appWalk.customers.report.printBtn' | translate"
                                    matTooltipPosition="above"
                                    style="margin-left: 3px"
                            >
                                <img height="21" ngSrc="/assets/images/to-printer.png" width="24"/>
                            </button>
                        </div>
                    </div>
                </div>
            </ng-container>
        </div>
        <ng-container *ngIf="fileStatus === 'CREATE_JOURNAL_TRANS'">
            <div class="btnNav_exportFileStatusFilter">
                <button (click)="exportFileStatusFilter !== 'IN_PROCESS' ? exportFileStatusFilterClick('IN_PROCESS') : null"
                        [class.active]="exportFileStatusFilter === 'IN_PROCESS'"
                        class="btnNav">
                    קבצים בתהליך
                </button>
                <button #elementDD
                        (click)="exportFileStatusFilter !== 'DONE_PROCESS' ? exportFileStatusFilterClick('DONE_PROCESS') : showPanelDD = !showPanelDD"
                        [class.active]="exportFileStatusFilter === 'DONE_PROCESS'"
                        [class.notActive]="!(exportFileStatusFilters.date_from || exportFileStatusFilters.date_till || exportFileStatusFilters.mana_num_min || exportFileStatusFilters.mana_num_max)"
                        [class.opened]="showPanelDD"
                        class="btnNav DONE_PROCESSBTN">
                    קבצים שנקלטו

                    <ng-container *ngIf="exportFileStatusFilter === 'DONE_PROCESS'">
                        <mat-icon
                                [class.filterIconBtnBaseActive]="(exportFileStatusFilters.date_from || exportFileStatusFilters.date_till || exportFileStatusFilters.mana_num_min || exportFileStatusFilters.mana_num_max)"
                                [svgIcon]="(exportFileStatusFilters.date_from || exportFileStatusFilters.date_till || exportFileStatusFilters.mana_num_min || exportFileStatusFilters.mana_num_max) ? 'filterIconBtnBaseActive' : 'filterIconBtnBase'"
                                class="filterIconBtnBase">
                        </mat-icon>
                        <mat-icon
                                [svgIcon]="'filterIconBtnHover'"
                                class="filterIconBtnHover">
                        </mat-icon>
                    </ng-container>


                    <div (click)="$event.stopPropagation()"
                         *ngIf="showPanelDD"
                         [@slideInOutDD]="showPanelDD"
                         class="panelDD_exportFileStatusFilter">
                        <div class="btnsSort" style="height: 91px; border-bottom: 1px solid #BDBDBD;">
                            <button (click)="toggleFilesOrderToJOURNALTop('dateLastModified')"
                                    [class.active]="exportFileStatusFilters.orderBy === 'dateLastModified'"
                                    class="btnSort">
                                תאריך קליטה

                                <mat-icon
                                        [class.active]="exportFileStatusFilters.orderBy === 'dateLastModified'"
                                        [svgIcon]="(exportFileStatusFilters.orderBy === 'dateLastModified'? exportFileStatusFilters.order: null) | sortIcon"
                                        class="sort-icon">
                                </mat-icon>
                            </button>
                            <button (click)="toggleFilesOrderToJOURNALTop('batchNumber')"
                                    [class.active]="exportFileStatusFilters.orderBy === 'batchNumber'"
                                    class="btnSort">
                                מספר מנה

                                <mat-icon
                                        [class.active]="exportFileStatusFilters.orderBy === 'batchNumber'"
                                        [svgIcon]="(exportFileStatusFilters.orderBy === 'batchNumber'? exportFileStatusFilters.order: null) | sortIcon"
                                        class="sort-icon">
                                </mat-icon>
                            </button>
                        </div>
                        <div class="ddFilterCalendar" style="height: 129px; border-bottom: 1px solid #BDBDBD;">
                            <div>
                                <p>
                                    מתאריך
                                </p>
                                <div>
                                    <p-calendar
                                            (onBlur)="selectDate_exportFileStatusFilters($event)"
                                            (onSelect)="selectDate_exportFileStatusFilters($event)"
                                            [(ngModel)]="exportFileStatusFilters.date_from"
                                            [dateFormat]="'dd/mm/y'"
                                            [locale]="'langCalendar' | translate"
                                            [maxDate]="exportFileStatusFilters.date_till ? exportFileStatusFilters.date_till : exportFileStatusFilters.max"
                                            [minDate]="exportFileStatusFilters.minDate"
                                            [showIcon]="false"
                                            [style]="{ width: '125px' }"
                                            appendTo="parent"
                                            panelStyleClass="panel_exportFileStatusFilter"
                                            placeholder="DD/MM/YY"
                                            styleClass="calendarInputs_exportFileStatusFilter"
                                    ></p-calendar>
                                </div>
                            </div>
                            <div>
                                <p>
                                    עד תאריך
                                </p>
                                <div>
                                    <p-calendar
                                            (onBlur)="selectDate_exportFileStatusFilters($event)"
                                            (onSelect)="selectDate_exportFileStatusFilters($event)"
                                            [(ngModel)]="exportFileStatusFilters.date_till"
                                            [dateFormat]="'dd/mm/y'"
                                            [locale]="'langCalendar' | translate"
                                            [maxDate]="exportFileStatusFilters.max"
                                            [minDate]="exportFileStatusFilters.date_from"
                                            [showIcon]="false"
                                            [style]="{ width: '125px' }"
                                            appendTo="parent"
                                            panelStyleClass="panel_exportFileStatusFilter_left"
                                            placeholder="DD/MM/YY"
                                            styleClass="calendarInputs_exportFileStatusFilter"
                                    ></p-calendar>
                                </div>
                            </div>
                        </div>
                        <div class="manaNumFilter">
                            <p>
                                ממנה
                            </p>
                            <input
                                    (keyup)="keyup_exportFileStatusFilters()"
                                    [(ngModel)]="exportFileStatusFilters.mana_num_min"
                                    appNumbersOnly="regexPositiveInt"
                                    autocomplete="off"
                                    type="text"
                            />

                            <p style="margin-right: 35px">
                                עד מנה
                            </p>
                            <input
                                    (keyup)="keyup_exportFileStatusFilters()"
                                    [(ngModel)]="exportFileStatusFilters.mana_num_max"
                                    appNumbersOnly="regexPositiveInt"
                                    autocomplete="off"
                                    type="text"
                            />

                        </div>
                    </div>
                </button>

            </div>
        </ng-container>
    </div>
    <div
            [ngStyle]="{
    display:
(     ( (showScreen === true &&
        (fileStatus === 'BANK' || fileStatus === 'CREDIT')) ||
      (showScreen === null &&
        ((fileStatus === 'BANK' &&
          userService.appData?.userData?.accountSelect &&
          !userService.appData?.userData?.accountSelect.length &&
          userService.appData?.userData?.accounts?.length) ||
          (fileStatus === 'CREDIT' &&
            userService.appData?.userData?.creditCards &&
            userService.appData?.userData?.creditCards.length &&
            !(
              cardsSelector &&
              cardsSelector.selectedCards &&
              cardsSelector.selectedCards.length
            ) && (
            cardsSelector &&
cardsSelector.creditCardsSrc &&
cardsSelector.creditCardsSrc.length
            )

            ))) ||
      (!(!userService?.appData?.userData?.companySelect?.bankJournalItem && !userService?.appData?.userData?.companySelect?.creditJournalItem) && fileStatus === 'CREATE_JOURNAL_TRANS') ||
      (fileStatus === 'BANK_MATCH' &&
        accountsBarData &&
        accountsBarData.accountsBarDto &&
        accountsBarData.accountsBarDto.length)) &&
         (this.accountsBarData || accountsBarDataError) && !((fileStatus === 'BANK' && !userService?.appData?.userData?.companySelect?.bankJournalItem)||(fileStatus === 'CREDIT' && !userService?.appData?.userData?.companySelect?.creditJournalItem) || (!userService?.appData?.userData?.companySelect?.bankJournalItem && !userService?.appData?.userData?.companySelect?.creditJournalItem && fileStatus === 'CREATE_JOURNAL_TRANS'))

         )
       &&
         (!(!userService?.appData?.userData?.companySelect
?.bankJournalItem &&!userService?.appData?.userData?.companySelect
?.creditJournalItem))
        ? 'block'
        : 'none'
  }"
    >
        <ng-container *ngIf="fileStatus === 'BANK'">
            <div
                    class="filterRow"
                    style="justify-content: space-between; align-items: flex-start"
            >
                <div style="display: flex">
                    <app-acc-select-by-currency
                        #accountSelector
                        (changedTrigger)="changeAcc($event)"
                        *ngIf="childDates"
                        [accounts]="userService.appData.userData.accounts"
                        [isBankAndCreditScreen]="true">
                    </app-acc-select-by-currency>
                    <app-account-dates [byChecked]="true" [isAccSelected]="isAccSelected"></app-account-dates>
                    <ul
                            class="tabs tabs-export"
                            style="
            height: 30px;
            font-size: 15px;
            line-height: 30px;
            border: none;
            align-self: self-end;
            margin-left: 40px;
            margin-right: 30px;
          "
                    >
                        <li
                                (click)="sharedComponent.mixPanelEvent('zhut'); typeOfFlow = 'zhut'; filtersAll()"
                                [class.active]="typeOfFlow === 'zhut'"
                        >
                            זכות
                        </li>
                        <li
                                (click)="sharedComponent.mixPanelEvent('hova'); typeOfFlow = 'hova'; filtersAll()"
                                [class.active]="typeOfFlow === 'hova'"
                        >
                            חובה
                        </li>
                        <li
                                (click)="sharedComponent.mixPanelEvent('all'); typeOfFlow = 'all'; filtersAll()"
                                [class.active]="typeOfFlow === 'all'"
                        >
                            הכל
                        </li>
                    </ul>
                    <div class="search" style="width: 250px">
                        <input
                                [formControl]="filterInput"
                                [value]="queryString"
                                autocomplete="off"
                                id="containTextFilter"
                                placeholder="{{ 'filters.search' | translate }}"
                                type="text"
                        />
                    </div>

                    <mat-icon
                            [escape]="false"
                            [pTooltip]="iconSupportTooltip()"
                            [svgIcon]="'icon_support'"
                            style="width: 25px;height: 25px;display: block;margin-top: 7px;margin-right: 40px;cursor:pointer"
                            tooltipPosition="top"
                            tooltipStyleClass="iconSupportTooltip">
                    </mat-icon>

                    <!--            <div style="-->
                    <!--    display: flex;-->
                    <!--    flex-direction: column;-->
                    <!--    justify-content: flex-end;-->
                    <!--">-->
                    <!--                <app-journal-trans-advanced-search [title]="'מתקדם'"-->
                    <!--                                                   [advancedSearchParams]="advancedSearchParams"-->
                    <!--                                                   (selectedParamsForSearch)="selectedParamsForSearch($event)"></app-journal-trans-advanced-search>-->

                    <!--            </div>-->
                </div>

                <div class="btnChangeView" style="display: flex; flex-direction: column; margin-left: 0;">
                    <!--                    <div class="exports">-->
                    <!--                        <button-->
                    <!--                                [matTooltip]="'appWalk.customers.report.printBtn' | translate"-->
                    <!--                                matTooltipPosition="above"-->
                    <!--                        >-->
                    <!--                            <img height="21" ngSrc="/assets/images/to-printer.png" width="24"/>-->
                    <!--                        </button>-->
                    <!--                        <button-->
                    <!--                                [matTooltip]="'appWalk.customers.report.mailBtn' | translate"-->
                    <!--                                matTooltipPosition="above"-->
                    <!--                        >-->
                    <!--                            <img height="21" ngSrc="/assets/images/to-mail.png" width="24"/>-->
                    <!--                        </button>-->
                    <!--                        <button [matTooltip]="'הורדה'" matTooltipPosition="above">-->
                    <!--                            <img height="21" ngSrc="/assets/images/download.png" width="21"/>-->
                    <!--                        </button>-->
                    <!--                    </div>-->

                    <!--                    <div class="filterTrans">-->
                    <!--                        <p-->
                    <!--                                (click)="sharedComponent.mixPanelEvent('tnuot letipul'); filterLink = 'care'; filtersAll()"-->
                    <!--                                [class.active]="filterLink === 'care'"-->
                    <!--                                class="filterLink"-->
                    <!--                        >-->
                    <!--                            הצגת תנועות לטיפול-->
                    <!--                        </p>-->
                    <!--                        <p>|</p>-->
                    <!--                        <p-->
                    <!--                                (click)="sharedComponent.mixPanelEvent('kol hatnuot');  filterLink = 'all'; filtersAll()"-->
                    <!--                                [class.active]="filterLink === 'all'"-->
                    <!--                                class="filterLink"-->
                    <!--                        >-->
                    <!--                            הצגת כל התנועות-->
                    <!--                        </p>-->
                    <!--                    </div>-->

                    <app-statuses (changedTrigger)="changeStatus($event)" [type]="'bank'"></app-statuses>
                </div>
            </div>
            <!--    class="bankAndCreditTable"-->
            <div
                    *ngIf="
        isAccSelected;
        else notSelectedAccounts
      "
                    [class.bankProcessTransType]="bankProcessTransType"
                    class="table-bankDetails"
                    style="position: relative; margin-top: 15px"
            >
                <div *ngIf="loader" class="loader">
                    <div class="circle"></div>
                </div>
                <div #header class="header">
                    <div class="column1">
                        <div style="padding-right: 8px">
                            <p-checkbox (onChange)="
                selcetAllFiles = !selcetAllFiles; selecteAllFilesEvent()
              "
                                        *ngIf="bankDetails && bankDetails.length"
                                        [binary]="true"
                                        [disabled]="isSelecteAllDisabled()"
                                        [ngModel]="selcetAllFiles"
                                        checkboxIcon="fa fa-check"
                            >
                            </p-checkbox>
                        </div>
                    </div>
                    <div class="column2">
                        <div>
                            <div>
                                <div (click)="toggleCompanyFilesOrderTo('transDate')">
                                    תאריך

                                    <mat-icon
                                            *ngIf="bankDetails && bankDetails.length"
                                            [class.active]="
                    companyFilesSortControl.value?.orderBy === 'transDate'
                  "
                                            [svgIcon]="
                    (companyFilesSortControl.value?.orderBy === 'transDate'
                      ? companyFilesSortControl.value.order
                      : null
                    ) | sortIcon
                  "
                                            class="sort-icon"
                                    >
                                    </mat-icon>
                                </div>
                                <div>ח-ן</div>
                            </div>
                        </div>
                    </div>
                    <div class="column3">
                        <div>
                            <div>&nbsp;</div>
                            <div (click)="toggleCompanyFilesOrderTo('mainDesc')">
                                תיאור/ פרטים

                                <mat-icon
                                        *ngIf="bankDetails && bankDetails.length"
                                        [class.active]="
                  companyFilesSortControl.value?.orderBy === 'mainDesc'
                "
                                        [svgIcon]="
                  (companyFilesSortControl.value?.orderBy === 'mainDesc'
                    ? companyFilesSortControl.value.order
                    : null
                  ) | sortIcon
                "
                                        class="sort-icon"
                                >
                                </mat-icon>
                            </div>
                            <div [class.bankProcessTransTypeCol]="bankProcessTransType">
                                <div *ngIf="!bankProcessTransType" style="text-align: center">
                                    ניכוי
                                </div>

                                <ng-container *ngIf="bankProcessTransType">
                                    <div style="width: 22px; display: flex">&nbsp;</div>
                                    <app-tooltip-category
                                            (changed)="sharedComponent.mixPanelEvent('sug tnua filter', {
            value: $event.checked
        }); filterCategory($event)"
                                            [data]="transTypeCodeArr"
                                            [title]="'ס.ת'"
                                            [type]="'transTypeCode'"
                                    >
                                    </app-tooltip-category>
                                </ng-container>
                            </div>
                            <div>&nbsp;</div>
                            <div>
                                <app-tooltip-category
                                        (changed)="sharedComponent.mixPanelEvent('payment type filter', {
            value: $event.checked
        }); filterCategory($event)"
                                        [data]="paymentDescArr"
                                        [title]="'סוג תשלום'"
                                        [type]="'paymentDesc'"
                                >
                                </app-tooltip-category>
                            </div>
                            <div (click)="toggleCompanyFilesOrderTo('asmachta')">
                                אסמכתא

                                <mat-icon
                                        *ngIf="bankDetails && bankDetails.length"
                                        [class.active]="
                  companyFilesSortControl.value?.orderBy === 'asmachta'
                "
                                        [svgIcon]="
                  (companyFilesSortControl.value?.orderBy === 'asmachta'
                    ? companyFilesSortControl.value.order
                    : null
                  ) | sortIcon
                "
                                        class="sort-icon"
                                >
                                </mat-icon>
                            </div>
                            <div (click)="toggleCompanyFilesOrderTo('totalFull')">
                                <!--                            <app-tooltip-category-->
                                <!--                                    [title]="'זכות/חובה'"-->
                                <!--                                    [type]="'hova'"-->
                                <!--                                    [data]="hovaArr"-->
                                <!--                                    (changed)="filterCategory($event)">-->
                                <!--                            </app-tooltip-category>-->

                                זכות/חובה

                                <mat-icon
                                        *ngIf="bankDetails && bankDetails.length"
                                        [class.active]="
                  companyFilesSortControl.value?.orderBy === 'totalFull'
                "
                                        [svgIcon]="
                  (companyFilesSortControl.value?.orderBy === 'totalFull'
                    ? companyFilesSortControl.value.order
                    : null
                  ) | sortIcon
                "
                                        class="sort-icon"
                                >
                                </mat-icon>
                            </div>
                            <div style="display: flex; justify-content: space-between">
                                <div
                                        (click)="toggleCompanyFilesOrderTo('custId')"
                                        style="display: flex; align-items: center"
                                >
                                    כרטיס נגדי

                                    <mat-icon
                                            *ngIf="bankDetails && bankDetails.length"
                                            [class.active]="
                    companyFilesSortControl.value?.orderBy === 'custId'
                  "
                                            [svgIcon]="
                    (companyFilesSortControl.value?.orderBy === 'custId'
                      ? companyFilesSortControl.value.order
                      : null
                    ) | sortIcon
                  "
                                            class="sort-icon"
                                    >
                                    </mat-icon>
                                </div>

                                <div>
                                    <app-tooltip-category
                                            (changed)="sharedComponent.mixPanelEvent('note filter', {
            value: $event.checked
        }); filterCategory($event)"
                                            [data]="editArr"
                                            [filter]="false"
                                            [type]="'note'"
                                            style="margin-left: 8px"
                                    >
                                        <img
                                                height="18"
                                                src="/assets/images/note.png"
                                                style="
                      height: 18px !important;
                      width: 18px !important;
                      vertical-align: middle;
                    "
                                                width="18"
                                        />
                                    </app-tooltip-category>
                                </div>
                            </div>
                            <div class="tooltip-status-bank-credit">
                                <!--                                <app-tooltip-category-->
                                <!--                                        (changed)="sharedComponent.mixPanelEvent('status filter', {-->
                                <!--            value: $event.checked-->
                                <!--        }); filterCategory($event)"-->
                                <!--                                        [data]="statusArr"-->
                                <!--                                        [filter]="false"-->
                                <!--                                        [type]="'status'"-->
                                <!--                                >-->
                                <!--                                    <img-->
                                <!--                                            height="20"-->
                                <!--                                            src="/assets/images/matching-big.png"-->
                                <!--                                            style="-->
                                <!--                    height: 20px !important;-->
                                <!--                    width: 20px !important;-->
                                <!--                    vertical-align: middle;-->
                                <!--                  "-->
                                <!--                                            width="20"-->
                                <!--                                    />-->
                                <!--                                </app-tooltip-category>-->

                                סטטוס
                            </div>
                        </div>
                    </div>
                </div>
                <div #scrollContainer
                     (scroll)="onScrollCubes()"
                     [appScrollHeight]="header.getBoundingClientRect().bottom + (paginator?.pageLinks?.length > 1 ? 45 : 10) + 30"
                     class="scrollbar-dynamic containerList1"
                     style="position: relative">
                    <div *ngIf="bankDetails && bankDetails.length" class="body">
                        <div
                                *ngIf="setHoverOffset !== false"
                                [ngStyle]="{ top: setHoverOffset + 'px', right: '0px' }"
                                class="setHoverOffset"
                        ></div>
                        <div
                                *ngIf="setHoverOffset !== false"
                                [ngStyle]="{ top: setHoverOffset + 35 + 'px', right: '0px' }"
                                class="setHoverOffset"
                        ></div>

                        <div
                                *ngIf="setHoverOffset !== false"
                                [ngStyle]="{ top: setHoverOffset + 'px' }"
                                class="setHoverOffsetRightSide"
                        ></div>
                        <div
                                *ngIf="setHoverOffset !== false"
                                [ngStyle]="{ top: setHoverOffset + 'px' }"
                                class="setHoverOffsetLeftSide"
                        ></div>
                        <div class="column1">
                            <ng-container
                                    *ngFor="
                let row of bankDetailsSlice;
                let i = index;
                trackBy: trackById
              "
                            >
                                <div
                                        (click)="
                  activeDD = row.paymentId;
                  row['activeDD'] = true;
                  selectedTransaction = row;
                  setHover($event, i)
                "
                                        (focus)="
                  activeDD = row.paymentId;
                  row['activeDD'] = true;
                  selectedTransaction = row;
                  setHover($event, i)
                "
                                        (mouseover)="
                  activeDD = !activeDDOpen ? row.paymentId : activeDD;
                  row['activeDD'] = true;
                  selectedTransaction = row;
                  setHover($event, i)
                "
                                        [class.DISABLED]="row['status'] === 'DISABLED'"
                                        [class.IGNORE]="
                  row['status'] === 'ADD_ITEM_IGNORE' ||
                  row['status'] === 'HASH_MATCH_IGNORE' ||
                  row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                                    row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                  row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE'
                "
                                        [class.activeBg]="activeDD === row.paymentId"
                                        [class.active]="selectedTransaction === row"
                                        [class.disabledEdit]="
                  row['status'] === 'ADD_ITEM_IGNORE' ||
                  row['status'] === 'HASH_MATCH_IGNORE' ||
                  row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                  row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                  row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE' ||
                  row['status'] === 'TEMP_COMMAND' ||
                  row['status'] === 'PERMANENT_COMMAND'
                "
                                        class="row"
                                        tabindex="1"
                                >
                                    <p-checkbox (onChange)="
                    row['selcetFile'] = !row['selcetFile']; checkSelected()
                  "
                                                [binary]="true"
                                                [disabled]="row['disabled']"
                                                [ngModel]="row['selcetFile']"
                                                checkboxIcon="fa fa-check"
                                    >
                                    </p-checkbox>
                                </div>
                            </ng-container>
                        </div>
                        <div class="column2">
                            <ng-container
                                    *ngFor="
                let row of bankDetailsSlice;
                let i = index;
                trackBy: trackById2
              "
                            >
                                <div
                                        (click)="
                  activeDD = row.paymentId;
                  row['activeDD'] = true;
                  selectedTransaction = row;
                  setHover($event, i)
                "
                                        (focus)="
                  activeDD = row.paymentId;
                  row['activeDD'] = true;
                  selectedTransaction = row;
                  setHover($event, i)
                "
                                        (mouseover)="
                  activeDD = !activeDDOpen ? row.paymentId : activeDD;
                  row['activeDD'] = true;
                  selectedTransaction = row;
                  setHover($event, i)
                "
                                        *ngIf="!row.splitArrayBase"
                                        [class.DISABLED]="row['status'] === 'DISABLED'"
                                        [class.IGNORE]="
                  row['status'] === 'ADD_ITEM_IGNORE' ||
                  row['status'] === 'HASH_MATCH_IGNORE' ||
                  row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                                    row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                  row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE'
                "
                                        [class.activeBg]="activeDD === row.paymentId"
                                        [class.active]="selectedTransaction === row"
                                        [class.disabledEdit]="
                  row['status'] === 'ADD_ITEM_IGNORE' ||
                  row['status'] === 'HASH_MATCH_IGNORE' ||
                  row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                                    row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||

                  row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE' ||
                  row['status'] === 'TEMP_COMMAND' ||
                  row['status'] === 'PERMANENT_COMMAND'
                "
                                        class="row"
                                        style="flex: 1"
                                        tabindex="1"
                                >
                                    <div>
                                        <div class="text-ellipsis">
                                            <div
                                                    [innerHTML]="
                        (row['transDate'] | date: 'dd/MM/yy') || '-'
                          | highlight: queryString
                      "
                                                    [ngStyle]="{
                        'margin-right': row['transDate'] !== null ? '0' : '12%'
                      }"
                                                    [pTooltip]="row['transDate'] | date: 'dd/MM/yy'"
                                                    class="text-ellipsis"
                                            ></div>
                                        </div>

                                        <div
                                                style="
                      display: flex;
                      overflow: hidden;
                      white-space: nowrap;
                      text-overflow: ellipsis;
                    "
                                        >
                                            <img
                                                    [alt]="row.accountNickname"
                                                    [src]="
                        row.account.bankId
                          ? (row.account.bankId | toIconSrc: 'bank')
                          : ''
                      " class="bankIdIcon"

                                                    style="
												height: auto; width: auto; position: relative;
                        align-self: center;
                        flex: 0 0 auto;
                        -ms-flex: 0 0 auto;
                        margin-left: 4px;
                        margin-right: -2px;
                      "
                                            />
                                            <p
                                                    [innerHTML]="
                        row.account?.bankAccountId | highlight: queryString
                      "
                                                    style="
                        overflow: hidden;
                        white-space: nowrap;
                        text-overflow: ellipsis;
                      "
                                            ></p>
                                        </div>
                                    </div>
                                </div>
                                <div
                                        *ngIf="row.splitArrayBase && (row.firstSplit || i === 0)"
                                        [class.IGNORE]="
                  row['status'] === 'ADD_ITEM_IGNORE' ||
                  row['status'] === 'HASH_MATCH_IGNORE' ||
                  row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                                    row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                  row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE'
                "
                                        [class.isActive]="
                  selectedTransaction &&
                  selectedTransaction?.idGroup &&
                  row.idGroup === selectedTransaction.idGroup
                "
                                        [class.smaller]="row.calcFlex === 35"
                                        [ngStyle]="{
                  flex: row.calcFlex + 'px',
                  'max-height': row.calcFlex + 'px'
                }"
                                        class="firstSplit"
                                        style="position: relative"
                                >
                                    <!--                            [ngStyle]="{'flex': ((i === 0 && !row.firstSplit) ? calcFlex(row, i) : row.calcFlex) + 'px'}">-->

                                    <div class="showTextUp">
                                        <div>
                                            <div class="text-ellipsis" style="text-align: left">
                                                <div
                                                        [innerHTML]="
                          (row['transDate'] | date: 'dd/MM/yy') || '-'
                            | highlight: queryString
                        "
                                                        [ngStyle]="{
                          'margin-right':
                            row['transDate'] !== null ? '0' : '12%'
                        }"
                                                        [pTooltip]="row['transDate'] | date: 'dd/MM/yy'"
                                                        class="text-ellipsis"
                                                        style="margin-left: 5px"
                                                ></div>
                                            </div>

                                            <div style="display: flex">
                                                <img
                                                        [alt]="row.accountNickname"
                                                        [src]="
                          row.account.bankId
                            ? (row.account.bankId | toIconSrc: 'bank')
                            : ''
                        " class="bankIdIcon"
                                                        style="
													height: auto; width: auto; position: relative;
                          align-self: center;
                          flex: 0 0 auto;
                          -ms-flex: 0 0 auto;
                          margin-left: 4px;
                          margin-right: -2px;
                        "
                                                />
                                                <p
                                                        [innerHTML]="
                          row.account?.bankAccountId | highlight: queryString
                        "
                                                        style="
                          overflow: hidden;
                          white-space: nowrap;
                          text-overflow: ellipsis;
                        "
                                                ></p>
                                            </div>
                                        </div>
                                        <div>
                                            {{ row.splitArrayLength }}

                                            {{
                                            row.splitArrayBase.paymentDesc === 'BankTransfer'
                                                ? 'העברות'
                                                : 'שיקים'
                                            }}
                                            ע״ס

                                            <app-sum-view
                                                    [highlight]="queryString"
                                                    [ngStyle]="{ 'margin-right': '5px' }"
                                                    [sum]="row.splitArrayBase.total"
                                            ></app-sum-view>
                                        </div>
                                    </div>

                                    <div *ngIf="setHoverOffset !== false" class="square"></div>

                                    <div *ngIf="setHoverOffset !== false" class="topLine"></div>
                                    <div *ngIf="setHoverOffset !== false" class="bottomLine"></div>
                                    <div *ngIf="setHoverOffset !== false" class="rightLine"></div>
                                    <div *ngIf="setHoverOffset !== false" class="leftLine"></div>

                                    <div
                                            *ngIf="setHoverOffset !== false"
                                            [ngStyle]="{
                    top: selectedTransaction?.indexInGroup * 35 + 'px'
                  }"
                                            class="whiteLine"
                                    ></div>
                                </div>
                            </ng-container>
                        </div>
                        <div class="column3">
                            <ng-container
                                    *ngFor="
                let row of bankDetailsSlice;
                let i = index;
                trackBy: trackById3
              "
                            >
                                <div
                                    #clickParentLink
                                    (click)="
                  activeDD = row.paymentId;
                  row['activeDD'] = true;
                  selectedTransaction = row;
                  setHover($event, i)
                "
                                    (focus)="
                  activeDD = row.paymentId;
                  row['activeDD'] = true;
                  selectedTransaction = row;
                  setHover($event, i)
                "
                                    (mouseover)="
                  activeDD = !activeDDOpen ? row.paymentId : activeDD;
                  row['activeDD'] = true;
                  selectedTransaction = row;
                  setHover($event, i)
                "
                                    [class.DISABLED]="row['status'] === 'DISABLED'"
                                    [class.IGNORE]="
                  row['status'] === 'ADD_ITEM_IGNORE' ||
                  row['status'] === 'HASH_MATCH_IGNORE' ||
                  row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                                    row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                  row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE'
                "
                                    [class.activeBg]="activeDD === row.paymentId"
                                    [class.active]="selectedTransaction === row"
                                    [class.disabledEdit]="
                  row['status'] === 'ADD_ITEM_IGNORE' ||
                  row['status'] === 'HASH_MATCH_IGNORE' ||
                  row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                                    row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                  row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE' ||
                  row['status'] === 'TEMP_COMMAND' ||
                  row['status'] === 'PERMANENT_COMMAND'
                "
                                    class="row"
                                    tabindex="1"
                                >
                                    <div>
                                        <i
                                                [class.fa-info-circle]="
                      row['secDesc'] && row['secDesc'] !== row['mainDesc']
                    "
                                                [escape]="false"
                                                [pTooltip]="appearsInBankTooltip(row)"
                                                class="fa fa-fw"
                                                style="
                      flex: 0 0 16px;
                      -ms-flex: 0 0 16px;
                      color: #5c728c;
                      font-size: 80%;
                    "
                                                tooltipPosition="bottom"
                                        ></i>
                                    </div>
                                    <div class="text-ellipsis">
                                        <div
                                            #transDesc
                                            [class.seamless-edit-prepare]="
                      row['status'] !== 'ADD_ITEM_IGNORE' &&
                      row['status'] !== 'HASH_MATCH_IGNORE' &&
                      row['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                                            row['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                      row['status'] !== 'CUSTOMER_IGNORE' && row['status'] !== 'COMPANY_IGNORE' &&
                      row['status'] !== 'TEMP_COMMAND' &&
                      row['status'] !== 'PERMANENT_COMMAND'
                    "
                                            [innerHTML]="row['mainDesc'] | highlight: queryString"
                                            [pTooltip]="row['mainDesc']"
                                            class="text-ellipsis"
                                            style="flex: 1"
                                            tooltipPosition="top"
                                        ></div>
                                        <input
                                            #descInputRef
                                            (blur)="sharedComponent.mixPanelEvent('change description'); submitChanges(row)"
                                            (focus)="startDescriptionEditAt(row, descInputRef)"
                                            (keyup.enter)="sharedComponent.mixPanelEvent('change description'); submitChanges(row)"
                                            (keyup.esc)="cancelChanges(); descInputRef.blur()"
                                            *ngIf="
                      row['status'] !== 'ADD_ITEM_IGNORE' &&
                      row['status'] !== 'HASH_MATCH_IGNORE' &&
                      row['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                     row['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                      row['status'] !== 'CUSTOMER_IGNORE' && row['status'] !== 'COMPANY_IGNORE' &&
                      row['status'] !== 'TEMP_COMMAND' &&
                      row['status'] !== 'PERMANENT_COMMAND'
                    "
                                            [(ngModel)]="row['mainDesc']"
                                            [pTooltip]="row['mainDesc']"
                                            [showDelay]="300"
                                            appendTo="body"
                                            placeholder="{{
                      'expressions.transactionDescription' | translate
                    }}"
                                            style="flex: 1; width: 100%"
                                            tooltipPosition="top"
                                            type="text"
                                        />
                                    </div>
                                    <div>
                                        <div
                                                *ngIf="!bankProcessTransType"
                                                [ngStyle]="{ 'margin-right': '12%' }"
                                        >
                                            -
                                        </div>
                                        <div
                                                *ngIf="bankProcessTransType"
                                                class="bankProcessTransTypeCol"
                                        >
                                            <ng-container *ngIf="row['splitMultiPayment']; else showDD">
                                                <div style="display: flex; align-items: center">
                                                    <div style="width: 22px; display: flex">&nbsp;</div>
                                                    <div
                                                            style="
                            color: #9b9a9a !important;
                            position: relative;
                            margin-left: 30px;
                            overflow: hidden;
                          "
                                                    >
                                                        פ.מפוצלת
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <ng-template #showDD>
                                                <div style="display: flex; align-items: center">
                                                    <div style="width: 22px; display: flex">
                                                        <img
                                                                *ngIf="row['transTypeDefaultAlert']"
                                                                [matTooltip]="'ברירת מחדל, לא ע״פ היסטוריה'"
                                                                class="infoTooltip"
                                                                height="15"
                                                                matTooltipClass="allow-cr"
                                                                matTooltipPosition="below"
                                                                src="/assets/images/infoTooltip.png"
                                                                style="margin-left: 5px"
                                                                width="15"
                                                        />
                                                    </div>


                                                    <ng-container
                                                            *ngIf="activeDD === row.paymentId">

                                                        <p-dropdown
                                                            #formDropdowns
                                                            (onChange)="sharedComponent.mixPanelEvent('change sug tnua'); selectTransTypeCode(row)"
                                                            [(ngModel)]="row['transTypeCode']"
                                                            [autoDisplayFirst]="false"
                                                            [disabled]="
                            row['status'] === 'TEMP_COMMAND' ||
                            row['status'] === 'PERMANENT_COMMAND' ||
                            row['status'] === 'ADD_ITEM_IGNORE' ||
                            row['status'] === 'HASH_MATCH_IGNORE' ||
                            row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                            row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                            row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE'
                          "

                                                            [dropdownIcon]="'fa fa-fw fa-caret-down'"
                                                            [options]="row['transTypeDefinedArr']"

                                                            [scrollHeight]="'185px'"

                                                            [styleClass]="'cardsDDInputStyle'"
                                                            appendTo="body"
                                                            panelStyleClass="company-customer-dropdown-panel cardsDD card195"
                                                            placeholder="בחירה">
                                                            <ng-template let-item pTemplate="selectedItem">
                            <span
                                #spanElement
                                [innerHTML]="
                                (item.onlyName ? item.label : item.value)
                                  | highlight: queryString
                              "
                                [pTooltip]="item.label + ' ' + item.value"
                                [tooltipDisabled]="
                                spanElement.offsetWidth >=
                                spanElement.scrollWidth
                              "
                                style="
                                vertical-align: middle;
                                display: block;
                                white-space: nowrap;
                                overflow: hidden;
                                text-overflow: ellipsis;
                              "
                                tooltipPosition="top"
                            ></span>
                                                            </ng-template>
                                                            <ng-template let-item pTemplate="item">
                                                                <div class="p-helper-clearfix cust-item">
                                                                    <div
                                                                            style="
                                  display: flex;
                                  align-items: center;
                                  flex-direction: row;
                                  justify-content: space-between;
                                "
                                                                    >
                                <span class="text-ellipsis">{{
                                    item.label
                                    }}</span>
                                                                        <span
                                                                                *ngIf="!item.onlyName"
                                                                                class="text-ellipsis"
                                                                                style="
                                    width: 60px;
                                    display: inline-block;
                                    margin-right: 10px;
                                  "
                                                                        >{{ item.value }}</span>
                                                                    </div>
                                                                </div>
                                                            </ng-template>
                                                            <ng-template pTemplate="empty">
                                                                <div
                                                                        class="p-helper-clearfix" style="display: block;
    white-space: nowrap;
    overflow: hidden;
    line-height: 33px;
    text-overflow: ellipsis;
    margin: 0px 14px !important;">
                                                                    לא נמצאו תוצאות
                                                                </div>
                                                            </ng-template>
                                                            <ng-template pTemplate="emptyfilter">
                                                                <div
                                                                        class="p-helper-clearfix" style="display: block;
    white-space: nowrap;
    overflow: hidden;
    line-height: 33px;
    text-overflow: ellipsis;
    margin: 0px 14px !important;">
                                                                    לא נמצאו תוצאות
                                                                </div>
                                                            </ng-template>
                                                        </p-dropdown>
                                                    </ng-container>
<div *ngIf="
                       activeDD !== row.paymentId
                        ">
    <div
            [class.p-disabled]="
                            row['status'] === 'TEMP_COMMAND' ||
                            row['status'] === 'PERMANENT_COMMAND' ||
                            row['status'] === 'ADD_ITEM_IGNORE' ||
                            row['status'] === 'HASH_MATCH_IGNORE' ||
                            row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                            row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                            row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE'
                          "

            class="p-dropdown cardsDDInputStyle">

                                                        <span class="p-element p-dropdown-label p-inputtext">
                                                            <span class="p-element"
                                                                  style="vertical-align: middle; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"
                                                                  #nicknameInp2

                                                                  [innerHTML]="
                            row['transTypeCode'] || 'בחירה' | highlight: queryString
                          "
                                                                  [pTooltip]="row['transTypeCode']"
                                                                  [tooltipDisabled]="nicknameInp2.clientWidth >= nicknameInp2.scrollWidth"
                                                                  tooltipPosition="top"
                                                            ></span>
</span>

        <div role="button"  class="p-dropdown-trigger" aria-expanded="true"><span class="p-dropdown-trigger-icon fa fa-fw fa-caret-down"></span></div>
    </div>
</div>

                                                </div>
                                            </ng-template>
                                        </div>
                                    </div>
                                    <div class="text-ellipsis">
                                        <div class="text-ellipsis"
                                             style="display: flex; justify-content: space-between; align-items: center;">
                                            <ng-container *ngIf="row['fileId'] === null; else fileId">
                                                <mat-icon
                                                        (click)="
                        row['status'] !== 'TEMP_COMMAND' &&
                        row['status'] !== 'PERMANENT_COMMAND'
                          ? (showArchiveModal = {
                              paymentType: row['paymentType'],
                              paymentId: row.paymentId
                            })
                          : null
                      "
                                                        style="
                        width: 14px;
                        vertical-align: middle;
                        color: #141414;
                      "
                                                        svgIcon="doc"
                                                ></mat-icon>
                                            </ng-container>
                                            <ng-template #fileId>
                                                <!--                                    <ng-container *ngIf="((!row.linkId || (row.linkId && row.linkId === '00000000-0000-0000-0000-000000000000')) &&-->
                                                <!--                                 (!row.pictureLink || (row.pictureLink && row.pictureLink === '00000000-0000-0000-0000-000000000000')))">-->
                                                <mat-icon
                                                        (click)="
                        showArchiveModal_TransId =
                          row['status'] === 'TEMP_COMMAND' ||
                          row['status'] === 'PERMANENT_COMMAND'
                            ? false
                            : {
                                paymentType: row['paymentType'],
                                paymentId: row.paymentId
                              };
                        showDocumentListStorageData(row['fileId'])
                      "
                                                        style="
                        width: 14px;
                        vertical-align: middle;
                        color: #038ed6;
                      "
                                                        svgIcon="doc"
                                                ></mat-icon>
                                                <!--                                    </ng-container>-->
                                            </ng-template>
                                            <!--                                <ng-container-->
                                            <!--                                        *ngIf="!((row.linkId && row.linkId !== '00000000-0000-0000-0000-000000000000') || (row.pictureLink && row.pictureLink !== '00000000-0000-0000-0000-000000000000'))">-->
                                            <!--                           -->
                                            <!--                                </ng-container>-->
                                            <img *ngIf="row['partialChild']"
                                                 [pTooltip]="'התקבל מהבנק פירוט לא תקין'"
                                                 height="15"
                                                 src="/assets/images/exclamation-triangle.png"
                                                 style="margin-left: 4px; margin-top: -3px;"
                                                 tooltipPosition="top"
                                                 width="17"
                                            />
                                        </div>
                                    </div>

                                    <div class="text-ellipsis">
                                        <ng-container
                                                *ngIf="
                      row.linkId || row.pictureLink || row.splitArrayBase;
                      else oldOne
                    "
                                        >
                                            <div
                                                #nicknameInpLink
                                                (refresh)="handler($event)"
                                                (showArchiveModalFromTransactionAdditional)="
                        showArchiveModalFromTransactionAdditional($event)
                      "
                                                *ngIf="
                        row.linkId || row.pictureLink || row.splitArrayBase
                      "
                                                [appTransactionAdditionalTrigger]="row"
                                                [class.link]="!(row['partialChild'] ||
                        row['status'] === 'ADD_ITEM_IGNORE' ||
                        row['status'] === 'HASH_MATCH_IGNORE' ||
                        row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                        row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                        row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE')"
                                                [companyCustomerDetailsArr]="customerCustList"
                                                [disabledClick]="
                                                row['partialChild'] ||
                        row['status'] === 'ADD_ITEM_IGNORE' ||
                        row['status'] === 'HASH_MATCH_IGNORE' ||
                        row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                        row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                        row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE'
                      "
                                                [innerHTML]="row.paymentDescTranslate | highlight: queryString"
                                                [isJournal]="true"
                                                [pTooltip]="row.paymentDescTranslate"
                                                [tooltipDisabled]="nicknameInpLink.clientWidth >= nicknameInpLink.scrollWidth"
                                                class="text-ellipsis bank-acc-details-link nicknameInpLink"
                                                style="min-width: 0; display: inline-block;"
                                                tooltipPosition="top"
                                            ></div>
                                        </ng-container>

                                        <ng-template #oldOne>
                                            <div
                                                #nicknameInpLink
                                                (click)="
                                                   !row['partialChild'] &&
                        row['status'] !== 'ADD_ITEM_IGNORE' &&
                        row['status'] !== 'HASH_MATCH_IGNORE' &&
                        row['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                                                row['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                        row['status'] !== 'CUSTOMER_IGNORE' && row['status'] !== 'COMPANY_IGNORE' &&
                        row.loanId !== null
                          ? loanDetails(row.loanId, row.companyAccountId)
                          : null
                      "
                                                [class.link]="
                                                       !row['partialChild'] &&
                        row['status'] !== 'ADD_ITEM_IGNORE' &&
                        row['status'] !== 'HASH_MATCH_IGNORE' &&
                        row['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                                                row['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                        row['status'] !== 'CUSTOMER_IGNORE' && row['status'] !== 'COMPANY_IGNORE' &&
                        row.loanId !== null
                      "
                                                [innerHTML]="
                        row.paymentDescTranslate | highlight: queryString
                      "
                                                [pTooltip]="row.paymentDescTranslate"
                                                [tooltipDisabled]="nicknameInpLink.clientWidth >= nicknameInpLink.scrollWidth"
                                                class="text-ellipsis nicknameInpLink"
                                                style="min-width: 0"
                                                tooltipPosition="top"
                                            ></div>
                                        </ng-template>
                                    </div>
                                    <div class="text-ellipsis">
                                        <div
                                                [innerHTML]="
                      (row.asmachta && row.asmachta !== 'null'
                        ? row.asmachta
                        : '-') || '-' | highlight: queryString
                    "
                                                [ngStyle]="{
                      'margin-right': row.asmachta !== null ? '0' : '12%'
                    }"
                                                class="text-ellipsis"
                                        ></div>
                                    </div>
                                    <div
                                            [class.sum-credit]="!row['hova']"
                                            [class.sum-debit]="row['hova']"
                                            class="text-ellipsis"
                                    >
                                        <app-sum-view
                                                [highlight]="queryString"
                                                [ngStyle]="{ 'margin-right': row['hova'] ? '15px' : '0' }"
                                                [sum]="row.total"
                                        ></app-sum-view>
                                        {{userService.appData.userData.accountSelect ? (userService.appData.userData.accountSelect[0].currencyId | currencySymbol) : ''}}
                                    </div>

                                    <div
                                            class="text-ellipsis pddFullWidth"
                                            style="justify-content: space-between"
                                    >
                                        <ng-container
                                                *ngIf="
                      row['custIdCards'] &&
                        ((row.linkId &&
                          row.linkId !==
                            '00000000-0000-0000-0000-000000000000') ||
                          (row.pictureLink &&
                            row.pictureLink !==
                              '00000000-0000-0000-0000-000000000000'));
                      else custIdReg
                    "
                                        >
                                            <div
                                                #nicknameInp
                                                (companyGetCustomer)="
                        row['status'] !== 'TEMP_COMMAND' &&
                        row['status'] !== 'PERMANENT_COMMAND' &&
                        row['status'] !== 'ADD_ITEM_IGNORE' &&
                        row['status'] !== 'HASH_MATCH_IGNORE' &&
                        row['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                                                row['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                        row['status'] !== 'CUSTOMER_IGNORE' && row['status'] !== 'COMPANY_IGNORE'
                          ? companyGetCustomer($event)
                          : null
                      "
                                                (refresh)="handler($event)"
                                                (showArchiveModalFromTransactionAdditional)="
                        showArchiveModalFromTransactionAdditional($event)
                      "
                                                *ngIf="
                        (row.linkId &&
                          row.linkId !==
                            '00000000-0000-0000-0000-000000000000') ||
                        (row.pictureLink &&
                          row.pictureLink !==
                            '00000000-0000-0000-0000-000000000000')
                      "
                                                [appTransactionAdditionalTrigger]="row"
                                                [companyCustomerDetailsArr]="customerCustList"
                                                [innerHTML]="row['custName'] | highlight: queryString"
                                                [isCustIdCards]="true"
                                                [isJournal]="true"
                                                [pTooltip]="row['custName']"
                                                [tooltipDisabled]="nicknameInp.clientWidth >= nicknameInp.scrollWidth"
                                                [updateTrans]="updateTransParam"
                                                class="text-ellipsis bank-acc-details-link link"
                                                style="min-width: 0; display: inline-block;"
                                                tooltipPosition="top"
                                            ></div>
                                        </ng-container>
                                        <ng-template #custIdReg>
                                            <!--                                <div class="text-ellipsis btnDDArrowAfter btnDDArrow"-->
                                            <!--                                     [pTooltip]="row['custName']" tooltipPosition="top"-->
                                            <!--                                     (click)="(row['status']!=='DISABLED' && row['status']!=='IGNORE') ? companyGetCustomer(row) : null"-->
                                            <!--                                     style="flex: 1;position: relative;"-->
                                            <!--                                     [innerHTML]="(row['custName'] || '&nbsp;')| highlight: queryString"></div>-->

                                            <ng-container
                                                    *ngIf="row['splitMultiPayment'] && !(row.journalPaymentPrompt && row['custId']); else showDD">
                                                <div
                                                        style="
                          color: #9b9a9a !important;
                          flex: 1;
                          position: relative;
                          margin-left: 30px;
                          overflow: hidden;
                        "
                                                >
                                                    פקודה מפוצלת
                                                </div>
                                            </ng-container>
                                            <ng-template #showDD>
                                                <div
                                                        *ngIf="
                          (!customerCustList.length ||
                            activeDD !== row.paymentId) &&
                          !row['custInactive']
                        "
                                                        style="
                          flex: 1;
                          position: relative;
                          display: flex;
                          margin-left: 30px;
                          overflow: hidden;
                        "
                                                >
                                                    <div
                                                        #nicknameInp
                                                        [class.disabled]="
                            row['status'] === 'TEMP_COMMAND' ||
                            row['status'] === 'PERMANENT_COMMAND' ||
                            row['status'] === 'ADD_ITEM_IGNORE' ||
                            row['status'] === 'HASH_MATCH_IGNORE' ||
                            row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                                                        row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                            row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE' ||
                            row['custInactive']
                          "
                                                        [innerHTML]="
                            row['custName'] || '&nbsp;' | highlight: queryString
                          "
                                                        [pTooltip]="row['custName']"
                                                        [tooltipDisabled]="nicknameInp.clientWidth >= nicknameInp.scrollWidth"
                                                        class="text-ellipsis cartisDD"
                                                        style="flex: 1; overflow: hidden"
                                                        tooltipPosition="top"
                                                    ></div>
                                                    <div
                                                            class="p-dropdown-trigger p-state-default p-corner-right"
                                                    >
                          <span
                                  class="p-dropdown-trigger-icon p-clickable fa fa-fw fa-caret-down"
                          ></span>
                                                    </div>
                                                </div>
                                                <ng-container
                                                        *ngIf="
                          customerCustList.length &&
                          activeDD === row.paymentId &&
                          !row['custInactive']
                        "
                                                >
                                                    <app-dropdown-wrap
                                                        #formDropdownsCustomerCustList
                                                        (onChange)="selectCust(row['cust'])"
                                                        (onHide)="clickLink(clickParentLink, false); hideDropCartis(); activeDDOpen = false"
                                                        (onShow)="
														clickLink(clickParentLink, true);
														openDDCards(row, formDropdownsCustomerCustList)
                          "
                                                        [(ngModel)]="row['cust']"
                                                        [autoDisplayFirst]="false"
                                                        [disabled]="
                                (row.journalPaymentPrompt && row['custId'] && row['splitMultiPayment']) ||
                            row['status'] === 'TEMP_COMMAND' ||
                            row['status'] === 'PERMANENT_COMMAND' ||
                            row['status'] === 'ADD_ITEM_IGNORE' ||
                            row['status'] === 'HASH_MATCH_IGNORE' ||
                            row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                                                        row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                            row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE'
                          "
                                                        [dropdownIcon]="'fa fa-fw fa-caret-down'"
                                                        [filter]="true"
                                                        [options]="customerCustList"
                                                        [placeholder]="
                            row['cust'] ? row['cust'].cartisName : 'בחירה'
                          "
                                                        [styleClass]="'cardsDDInputStyle'"
                                                        [style]="{ width: '100%', flex: '1' }"
                                                        [virtualScrollItemSize]="33"
                                                        [virtualScroll]="true"
                                                        appendTo="body"
                                                        dataKey="custId"
                                                        emptyFilterMessage="לא נמצאו תוצאות"
                                                        filterBy="lName,custId"
                                                        optionDisabled="disabled"
                                                        optionLabel="custId"
                                                        panelStyleClass="company-customer-dropdown-panel cardsDD card234 cardsDDVirtualScroll"
                                                    >
                                                        <ng-template let-item pTemplate="selectedItem">
                            <span
                                #spanElement
                                [innerHTML]="
                                item.cartisName || '&nbsp;'
                                  | highlight: queryString
                              "
                                [pTooltip]="item.cartisName"
                                [tooltipDisabled]="
                                spanElement.offsetWidth >=
                                spanElement.scrollWidth
                              "
                                style="
                                vertical-align: middle;
                                display: block;
                                white-space: nowrap;
                                overflow: hidden;
                                text-overflow: ellipsis;
                              "
                                tooltipPosition="top"
                            ></span>
                                                        </ng-template>

                                                        <!--                                                <ng-template let-item pTemplate="item">-->
                                                        <!--                                                    <div class="p-helper-clearfix"-->
                                                        <!--                                                         [class.bottom9]="item.value?.isLastHistory">-->
                                                        <!--                                                        <div>-->
                                                        <!--                                                            <span class="text-ellipsis">{{item.cartisName}}</span>-->
                                                        <!--                                                        </div>-->
                                                        <!--                                                    </div>-->
                                                        <!--                                                    <div *ngIf="item.value?.isLastHistory"-->
                                                        <!--                                                         style="height: 1px;background: #cacaca;padding: 0;position: absolute;bottom: -6px;right: 0;left: 0;z-index: 999;"></div>-->
                                                        <!--                                                </ng-template>-->

                                                        <ng-template let-item pTemplate="item">
                                                            <ng-container *ngIf="item.title">
                                                                <div class="p-helper-clearfix" style="
    font-weight: 700;
    padding: 0;
    font-size: 16px;
">
                                                                    <span> כרטיסים ששוייכו בעבר: </span>
                                                                </div>
                                                            </ng-container>
                                                            <ng-container *ngIf="!item.title">
                                                                <div
                                                                        [ngStyle]="
                                row.account &&
                                row.account.izuCustId === item.custId
                                  ? { opacity: '0.4', cursor: 'default' }
                                  : {}
                              "
                                                                        class="p-helper-clearfix"
                                                                        style="flex-flow: row wrap"
                                                                >
                                                                    <div
                                                                            [class.bottom9]="item.isLastHistory"
                                                                            class="p-helper-clearfix"
                                                                    >
                                                                        <div>
                                  <span class="text-ellipsis">{{
                                      item.cartisName
                                      }}</span>
                                                                        </div>
                                                                    </div>
                                                                    <div
                                                                            *ngIf="
                                  row.account &&
                                  row.account.izuCustId === item.custId
                                "
                                                                            style="
                                  flex: none;
                                  width: 100%;
                                  height: auto;
                                  line-height: normal;
                                "
                                                                    >
                                                                        הכרטיס כבר נבחר בכרטיס בנק
                                                                    </div>
                                                                    <div
                                                                            *ngIf="item.isLastHistory"
                                                                            style="
                                  height: 1px;
                                  background: #cacaca;
                                  padding: 0;
                                  position: absolute;
                                  bottom: -2px;
                                  right: 0;
                                  left: 0;
                                  z-index: 999;
                                "
                                                                    ></div>
                                                                </div>
                                                            </ng-container>
                                                        </ng-template>
                                                        <ng-template pTemplate="empty">
                                                            <div
                                                                    class="p-helper-clearfix"
                                                                    style="font-size: 0.95em; padding: 0.3em 1em"
                                                            >
                                                                <!--                                                        <ng-container-->
                                                                <!--                                                                *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                                                                <!--                                                            <div>לא מצאת את הכרטיס שחיפשת?</div>-->
                                                                <!--                                                            <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                                <!--                                                            <button class="button-link"-->
                                                                <!--                                                                    style="padding: 0; font-size: inherit;"-->
                                                                <!--                                                                    (click)="getCompanyCustomerDetailsTimer(); $event.stopPropagation()">-->
                                                                <!--                                                                ולחצו על-->
                                                                <!--                                                                רענון הנתונים-->
                                                                <!--                                                            </button>-->
                                                                <!--                                                        </ng-container>-->
                                                                <ng-container>
                                                                    <!--                                                            <div>לא מצאת את הכרטיס?</div>-->
                                                                    <!--                                                            <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                                    <!--                                                            <div>-->
                                                                    <!--                                                                ובנתיים-->
                                                                    <!--                                                                <button class="button-link"-->
                                                                    <!--                                                                        style="padding: 0; font-size: inherit; text-decoration: underline"-->
                                                                    <!--                                                                        (click)="setValCartis(formDropdowns, row);  getCompanyCustomerDetailsTimer();">-->
                                                                    <!--                                                                    לחצו לעדכון-->
                                                                    <!--                                                                </button>-->
                                                                    <!--                                                            </div>-->

                                                                    <div>לא מצאתם את הכרטיס שחיפשתם?</div>
                                                                    <div>צרו כרטיס חדש בחשבשבת.</div>
                                                                    <div>
                                                                        בינתיים ניתן לעדכן ידנית את
                                                                        <strong style="font-weight: 700">
                                                                            מפתח הכרטיס במדויק
                                                                        </strong>
                                                                        <br/>
                                                                        עד שנמשוך את פרטי הכרטיס.
                                                                    </div>
                                                                    <button
                                                                            (click)="
                                    setValCartis(
                                      formDropdownsCustomerCustList,
                                      row
                                    );
                                    getCompanyCustomerDetailsTimer()
                                  "
                                                                            class="button-link"
                                                                            style="
                                    padding: 0;
                                    font-size: inherit;
                                    text-decoration: underline;
                                  "
                                                                    >
                                                                        לעדכון ידני לחצו פה
                                                                    </button>
                                                                </ng-container>

                                                                <!--                                                        <ng-container *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                                                                <!--                                                            <div>לא מצאתם את הכרטיס שחיפשתם?</div>-->
                                                                <!--                                                            <div>צרו כרטיס חדש בחשבשבת.</div>-->
                                                                <!--                                                            <div>-->
                                                                <!--                                                                בנתיים ניתן לעדכן ידנית עד שנמשוך <br>-->
                                                                <!--                                                                את פרטי הכרטיס.-->
                                                                <!--                                                            </div>-->
                                                                <!--                                                            <button class="button-link" style="padding: 0; font-size: inherit;"-->
                                                                <!--                                                                    (click)="setValCartis(formDropdowns, row);formDropdowns.putStyle(); getCompanyCustomerDetailsTimer(); $event.stopPropagation()">-->
                                                                <!--                                                                לעדכון ידני לחצו פה-->
                                                                <!--                                                            </button>-->
                                                                <!--                                                        </ng-container>-->

                                                                <!--                                                        <ng-template #loader>-->
                                                                <!--                                                            <div style="height: 84px;">-->
                                                                <!--                                                                <div class="loaderPercent blueCircle"-->
                                                                <!--                                                                     style="background: #e6e5e5;">-->
                                                                <!--                                                                    <div class="circle"></div>-->
                                                                <!--                                                                </div>-->
                                                                <!--                                                            </div>-->
                                                                <!--                                                            <div style="-->
                                                                <!--    z-index: 999;-->
                                                                <!--    position: absolute;-->
                                                                <!--    bottom: 26px;-->
                                                                <!--    font-size: 14.5px;-->
                                                                <!--    text-align: center;-->
                                                                <!--    font-weight: 600;-->
                                                                <!--    left: 0;-->
                                                                <!--    right: 0;-->
                                                                <!--">-->
                                                                <!--                                                                מתבצע סינכרון-->
                                                                <!--                                                            </div>-->
                                                                <!--                                                        </ng-template>-->
                                                            </div>
                                                        </ng-template>
                                                        <ng-template pTemplate="emptyfilter">
                                                            <div
                                                                    class="p-helper-clearfix"
                                                                    style="font-size: 0.95em; padding: 0.3em 1em"
                                                            >
                                                                <!--                                                        <ng-container-->
                                                                <!--                                                                *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                                                                <!--                                                            <div>לא מצאת את הכרטיס שחיפשת?</div>-->
                                                                <!--                                                            <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                                <!--                                                            <button class="button-link"-->
                                                                <!--                                                                    style="padding: 0; font-size: inherit;"-->
                                                                <!--                                                                    (click)="getCompanyCustomerDetailsTimer(); $event.stopPropagation()">-->
                                                                <!--                                                                ולחצו על-->
                                                                <!--                                                                רענון הנתונים-->
                                                                <!--                                                            </button>-->
                                                                <!--                                                        </ng-container>-->
                                                                <ng-container>
                                                                    <!--                                                            <div>לא מצאת את הכרטיס?</div>-->
                                                                    <!--                                                            <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                                    <!--                                                            <div>-->
                                                                    <!--                                                                ובנתיים-->
                                                                    <!--                                                                <button class="button-link"-->
                                                                    <!--                                                                        style="padding: 0; font-size: inherit; text-decoration: underline"-->
                                                                    <!--                                                                        (click)="setValCartis(formDropdowns, row);  getCompanyCustomerDetailsTimer();">-->
                                                                    <!--                                                                    לחצו לעדכון-->
                                                                    <!--                                                                </button>-->
                                                                    <!--                                                            </div>-->

                                                                    <div>לא מצאתם את הכרטיס שחיפשתם?</div>
                                                                    <div>צרו כרטיס חדש בחשבשבת.</div>
                                                                    <div>
                                                                        בינתיים ניתן לעדכן ידנית את
                                                                        <strong style="font-weight: 700">
                                                                            מפתח הכרטיס במדויק
                                                                        </strong>
                                                                        <br/>
                                                                        עד שנמשוך את פרטי הכרטיס.
                                                                    </div>
                                                                    <button
                                                                            (click)="
                                    setValCartis(
                                      formDropdownsCustomerCustList,
                                      row
                                    );
                                    getCompanyCustomerDetailsTimer()
                                  "
                                                                            class="button-link"
                                                                            style="
                                    padding: 0;
                                    font-size: inherit;
                                    text-decoration: underline;
                                  "
                                                                    >
                                                                        לעדכון ידני לחצו פה
                                                                    </button>
                                                                </ng-container>

                                                                <!--                                                        <ng-container *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                                                                <!--                                                            <div>לא מצאתם את הכרטיס שחיפשתם?</div>-->
                                                                <!--                                                            <div>צרו כרטיס חדש בחשבשבת.</div>-->
                                                                <!--                                                            <div>-->
                                                                <!--                                                                בנתיים ניתן לעדכן ידנית עד שנמשוך <br>-->
                                                                <!--                                                                את פרטי הכרטיס.-->
                                                                <!--                                                            </div>-->
                                                                <!--                                                            <button class="button-link" style="padding: 0; font-size: inherit;"-->
                                                                <!--                                                                    (click)="setValCartis(formDropdowns, row);formDropdowns.putStyle(); getCompanyCustomerDetailsTimer(); $event.stopPropagation()">-->
                                                                <!--                                                                לעדכון ידני לחצו פה-->
                                                                <!--                                                            </button>-->
                                                                <!--                                                        </ng-container>-->

                                                                <!--                                                        <ng-template #loader>-->
                                                                <!--                                                            <div style="height: 84px;">-->
                                                                <!--                                                                <div class="loaderPercent blueCircle"-->
                                                                <!--                                                                     style="background: #e6e5e5;">-->
                                                                <!--                                                                    <div class="circle"></div>-->
                                                                <!--                                                                </div>-->
                                                                <!--                                                            </div>-->
                                                                <!--                                                            <div style="-->
                                                                <!--    z-index: 999;-->
                                                                <!--    position: absolute;-->
                                                                <!--    bottom: 26px;-->
                                                                <!--    font-size: 14.5px;-->
                                                                <!--    text-align: center;-->
                                                                <!--    font-weight: 600;-->
                                                                <!--    left: 0;-->
                                                                <!--    right: 0;-->
                                                                <!--">-->
                                                                <!--                                                                מתבצע סינכרון-->
                                                                <!--                                                            </div>-->
                                                                <!--                                                        </ng-template>-->
                                                            </div>
                                                        </ng-template>
                                                    </app-dropdown-wrap>
                                                </ng-container>
                                                <ng-container *ngIf="row['custInactive']">
                                                    <div>
                                                        <div
                                                                style="
                              flex: 1;
                              position: relative;
                              display: flex;
                              margin-left: 30px;
                              overflow: hidden;
                            "
                                                        >
                                                            <div
                                                                    [class.disabled]="
                                row['status'] === 'TEMP_COMMAND' ||
                                row['status'] === 'PERMANENT_COMMAND' ||
                                row['status'] === 'ADD_ITEM_IGNORE' ||
                                row['status'] === 'HASH_MATCH_IGNORE' ||
                                row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                                                                row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                                row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE' ||
                                row['custInactive']
                              "
                                                                    [innerHTML]="
                                row['custName'] || '&nbsp;'
                                  | highlight: queryString
                              "
                                                                    [pTooltip]="row['custName']"
                                                                    class="text-ellipsis cartisDD"
                                                                    style="flex: 1; overflow: hidden"
                                                                    tooltipPosition="top"
                                                            ></div>
                                                            <div
                                                                    class="p-dropdown-trigger p-state-default p-corner-right"
                                                            >
                              <span
                                      class="p-dropdown-trigger-icon p-clickable fa fa-fw fa-caret-down"
                              ></span>
                                                            </div>
                                                        </div>

                                                        <div
                                                                style="
                              font-size: 13px;
                              font-weight: bold;
                              line-height: 13px;
                              padding-bottom: 1px;
                            "
                                                        >
                                                            נעול בהתאם לסוג תנועה
                                                        </div>
                                                    </div>
                                                </ng-container>
                                            </ng-template>
                                        </ng-template>

                                        <div
                                                (click)="journalTransComponent.docNote.show(row)"
                                                (mouseleave)="row['note'] ? note.hide() : null"
                                                (mouseover)="row['note'] ? openNote(note, $event, row) : null"
                                                [ngClass]="'note-' + (row['note'] ? 'active' : 'none')"
                                                style="margin-left: 27px !important"
                                        ></div>
                                    </div>
                                    <div class="clearOpacity">
                                        <div style="width: 100%;height: 100%;display: flex;align-items: center;justify-content: center;">
                                            <!--                                            (click)="-->
                                            <!--                                            row['status'] === 'RECHECK'-->
                                            <!--                                            ? updateCheckedTranses(row)-->
                                            <!--                                            : null-->
                                            <!--                                            "-->
                                            <!--                                            ||-->
                                            <!--                                            row['status'] === 'CHECKED'-->
                                            <img

                                                    *ngIf="
                        row['status'] === 'RECHECK'

                      "
                                                    [ngStyle]="{
                        opacity: row['status'] === 'CHECKED' ? '0.4' : '1'
                      }"
                                                    [pTooltip]="
                        row['status'] === 'RECHECK'
                          ? 'אוכלס אוטומטי'
                          : 'לבדיקה חוזרת. הנתונים אושרו'
                      "
                                                    class="left-space"
                                                    src="/assets/images/indDefaultBudget.png"
                                                    style="
                        height: 18px !important;
                        width: 18px !important;
                        vertical-align: middle;
                      "
                                                    tooltipPosition="top"
                                            />
                                            <img
                                                    *ngIf="row['status'] === 'BIZIBOX_MATCH_IGNORE' || row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans'"
                                                    [pTooltip]="row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ? 'תנועה לא נמצאה בחשבשבת' : 'לא לטיפול מהתאמה בביזיבוקס'"
                                                    [tooltipStyleClass]="'p-tooltip-one-line'"
                                                    appendTo="body"
                                                    class="left-space"
                                                    src="/assets/images/CUSTOMER_IGNORE.png"
                                                    style="
                        height: 18px !important;
                        width: 18px !important;
                        vertical-align: middle;
                      "
                                            />
                                            <img
                                                    *ngIf="
                        row['status'] === 'CUSTOMER_IGNORE' &&
                        (row['ignoreModifiedDate'] | date: 'dd/MM/yyyy') ===
                          '01/01/1980'
                      "
                                                    [tooltipStyleClass]="'p-tooltip-one-line'"
                                                    appendTo="body"
                                                    class="left-space"
                                                    pTooltip="נסגר ע״י פעולה נגדית בהעברה בין חשבונותיי"
                                                    src="/assets/images/CUSTOMER_IGNORE.png"
                                                    style="
                        height: 18px !important;
                        width: 18px !important;
                        vertical-align: middle;
                      "
                                            />
                                            <img
                                                    *ngIf="
                        row['status'] === 'COMPANY_IGNORE'
                      "
                                                    [tooltipStyleClass]="'p-tooltip-one-line'"
                                                    appendTo="body"
                                                    class="left-space"
                                                    pTooltip="לא לטיפול לפי הגדרה מנתוני חברה"
                                                    src="/assets/images/CUSTOMER_IGNORE.png"
                                                    style="
                        height: 18px !important;
                        width: 18px !important;
                        vertical-align: middle;
                      "
                                            />
                                            <img
                                                    *ngIf="
                        row['status'] === 'CUSTOMER_IGNORE' &&
                        (row['ignoreModifiedDate'] | date: 'dd/MM/yyyy') !==
                          '01/01/1980'
                      "
                                                    [tooltipStyleClass]="'p-tooltip-one-line'"
                                                    appendTo="body"
                                                    class="left-space"
                                                    pTooltip="התנועה הועברה ל &quot;לא לטיפול &quot; ב- {{
                        row['ignoreModifiedDate'] | date: 'dd/MM/yy'
                      }} {{ row['ignoreModifiedBy'] }}"
                                                    src="/assets/images/CUSTOMER_IGNORE.png"
                                                    style="
                        height: 18px !important;
                        width: 18px !important;
                        vertical-align: middle;
                      "
                                            />
                                            <mat-icon
                                                    *ngIf="
                        row['status'] !== 'EMPTY' &&
                        row['status'] !== 'RECHECK' &&
                        row['status'] !== 'CHECKED' &&
                        row['status'] !== 'CUSTOMER_IGNORE' &&
                        row['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                        row['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                        row['status'] !== 'COMPANY_IGNORE'
                      "
                                                    [ngStyle]="{
                        color:
                          row['status'] === 'ADD_ITEM_IGNORE' ||
                          row['status'] === 'HASH_MATCH_IGNORE'
                            ? '#4f4e4e'
                            : row['status'] === 'DONE' ||
                              row['status'] === 'RECHECK'
                            ? '#022258'
                            : '#a5a3a3',
                        width:
                          row['status'] === 'ADD_ITEM_IGNORE' ||
                          row['status'] === 'HASH_MATCH_IGNORE'
                            ? '14px'
                            : '17px'
                      }"
                                                    [pTooltip]="
                        row['status'] === 'HASH_MATCH_IGNORE'
                          ? 'לא לטיפול מהתאמה בחשבשבת'
                          : row['status_desc']
                      "
                                                    [svgIcon]="
                        row['status'] === 'TEMP_COMMAND'
                          ? 'check-solid'
                          : row['status'] === 'PERMANENT_COMMAND'
                          ? 'check-double-solid'
                          : row['status'] === 'RECHECK'
                          ? 'RECHECK'
                          : row['status'] === 'ADD_ITEM_IGNORE' ||
                            row['status'] === 'HASH_MATCH_IGNORE'
                          ? 'close'
                          : 'tick'
                      "
                                                    class="left-space"
                                                    style="width: 100%; height: 100%; vertical-align: middle"
                                                    tooltipPosition="top"
                                            >
                                            </mat-icon>
                                        </div>

                                        <div style="width: 100%; height: 100%; text-align: center">
                                            <img (click)="editReceipt(row)"
                                                 *ngIf="
                        row['status'] !== 'TEMP_COMMAND' &&
                        row['status'] !== 'PERMANENT_COMMAND' &&
                        row['status'] !== 'ADD_ITEM_IGNORE' &&
                        row['status'] !== 'HASH_MATCH_IGNORE' &&
                        row['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                        row['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                        row['status'] !== 'CUSTOMER_IGNORE' && row['status'] !== 'COMPANY_IGNORE'
                      "
                                                 [pTooltip]="'עריכת/פיצול פקודה'"
                                                 src="/assets/images/journalPaymentPromptFalse.png"
                                                 tooltipPosition="bottom">

                                        </div>
                                        <!--									<i-->
                                        <!--											(click)="-->
                                        <!--                      tooltipEditFile = row;-->
                                        <!--                      tooltipEdit.toggle($event);-->
                                        <!--                      tooltipEdit.overlayVisible-->
                                        <!--                        ? (selectedTransaction = row)-->
                                        <!--                        : null-->
                                        <!--                    "-->
                                        <!--											class="fas fa-ellipsis-v"-->
                                        <!--									></i>-->
                                    </div>
                                </div>
                            </ng-container>
                        </div>

                        <p-overlayPanel
                            #note
                            [hideTransitionOptions]="'0ms'"
                            [showTransitionOptions]="'0ms'"
                            [style]="{
							'margin-left':  '47px',
							'margin-top':  openNoteData && !openNoteData?.isBottom ? '-137px !important' : '0  !important'
            }"
                            appendTo="body"
                            styleClass="notePanel"
                        >
                            <p *ngIf="openNoteData">
                                {{ openNoteData?.note }}
                            </p>
                        </p-overlayPanel>
                        <!--					<p-overlayPanel-->
                        <!--							#tooltipEdit-->
                        <!--							[style]="{-->
                        <!--									'margin-left':  '-10px',-->
                        <!--							'margin-top':   '10px', width: 'auto' }"-->
                        <!--							appendTo="body"-->
                        <!--							styleClass="tooltip-bottom tooltip-acc-deviation tooltip-daily-edit overlayPanelRightClick"-->
                        <!--					>-->
                        <!--						<ng-container *ngIf="tooltipEditFile">-->
                        <!--							<ul style="width: 185px">-->
                        <!--								<li-->
                        <!--										(click)="-->
                        <!--                    journalTransComponent.docToSend.show(-->
                        <!--                      tooltipEditFile.fileId-->
                        <!--                    );-->
                        <!--                    tooltipEdit.hide()-->
                        <!--                  "-->
                        <!--								>-->
                        <!--									<div-->
                        <!--											class="p-helper-clearfix"-->
                        <!--											style="display: flex; display: -ms-flexbox"-->
                        <!--									>-->
                        <!--										<div style="align-self: center; flex: 20; -ms-flex: 20">-->
                        <!--											<mat-icon-->
                        <!--													style="width: 14px; vertical-align: middle"-->
                        <!--													svgIcon="send"-->
                        <!--											></mat-icon>-->
                        <!--										</div>-->
                        <!--										<p-->
                        <!--												class="nameAcc"-->
                        <!--												style="-->
                        <!--                        overflow: hidden;-->
                        <!--                        white-space: nowrap;-->
                        <!--                        text-overflow: ellipsis;-->
                        <!--                        flex: 85;-->
                        <!--                        -ms-flex: 85;-->
                        <!--                      "-->
                        <!--										>-->
                        <!--											שליחת הודעה ללקוח-->
                        <!--										</p>-->
                        <!--									</div>-->
                        <!--								</li>-->
                        <!--								<li-->
                        <!--										(click)="backToCare(tooltipEditFile); tooltipEdit.hide()"-->
                        <!--										*ngIf="-->
                        <!--                    tooltipEditFile.status === 'ADD_ITEM_IGNORE' ||-->
                        <!--                    tooltipEditFile.status === 'CUSTOMER_IGNORE'-->
                        <!--                  "-->
                        <!--								>-->
                        <!--									<div-->
                        <!--											class="p-helper-clearfix"-->
                        <!--											style="display: flex; display: -ms-flexbox"-->
                        <!--									>-->
                        <!--										<div style="align-self: center; flex: 20; -ms-flex: 20">-->
                        <!--											<mat-icon-->
                        <!--													style="width: 14px; vertical-align: middle"-->
                        <!--													svgIcon="cancel"-->
                        <!--											></mat-icon>-->
                        <!--										</div>-->
                        <!--										<p-->
                        <!--												class="nameAcc"-->
                        <!--												style="-->
                        <!--                        overflow: hidden;-->
                        <!--                        white-space: nowrap;-->
                        <!--                        text-overflow: ellipsis;-->
                        <!--                        flex: 85;-->
                        <!--                        -ms-flex: 85;-->
                        <!--                      "-->
                        <!--										>-->
                        <!--											חזרה לטיפול-->
                        <!--										</p>-->
                        <!--									</div>-->
                        <!--								</li>-->
                        <!--								<li-->
                        <!--										(click)="-->
                        <!--                    showArchiveModal = {-->
                        <!--                      paymentType: tooltipEditFile.paymentType,-->
                        <!--                      paymentId: tooltipEditFile.paymentId-->
                        <!--                    };-->
                        <!--                    tooltipEdit.hide()-->
                        <!--                  "-->
                        <!--										*ngIf="-->
                        <!--                    tooltipEditFile.fileId === null &&-->
                        <!--                    tooltipEditFile.status !== 'TEMP_COMMAND' &&-->
                        <!--                    tooltipEditFile.status !== 'PERMANENT_COMMAND' &&-->
                        <!--                    tooltipEditFile.status !== 'ADD_ITEM_IGNORE' &&-->
                        <!--                    tooltipEditFile.status !== 'HASH_MATCH_IGNORE' &&-->
                        <!--                    tooltipEditFile.status !== 'BIZIBOX_MATCH_IGNORE' &&-->
                        <!--                    tooltipEditFile.status !== 'CUSTOMER_IGNORE'-->
                        <!--                  "-->
                        <!--								>-->
                        <!--									<div-->
                        <!--											class="p-helper-clearfix"-->
                        <!--											style="display: flex; display: -ms-flexbox"-->
                        <!--									>-->
                        <!--										<div style="align-self: center; flex: 20; -ms-flex: 20">-->
                        <!--											<mat-icon-->
                        <!--													style="width: 14px; vertical-align: middle"-->
                        <!--													svgIcon="doc"-->
                        <!--											></mat-icon>-->
                        <!--										</div>-->
                        <!--										<p-->
                        <!--												class="nameAcc"-->
                        <!--												style="-->
                        <!--                        overflow: hidden;-->
                        <!--                        white-space: nowrap;-->
                        <!--                        text-overflow: ellipsis;-->
                        <!--                        flex: 85;-->
                        <!--                        -ms-flex: 85;-->
                        <!--                      "-->
                        <!--										>-->
                        <!--											קישור תמונה-->
                        <!--										</p>-->
                        <!--									</div>-->
                        <!--								</li>-->
                        <!--								<li-->
                        <!--										(click)="updateIgnore(tooltipEditFile); tooltipEdit.hide()"-->
                        <!--										*ngIf="-->
                        <!--                    tooltipEditFile.status === 'CHECKED' ||-->
                        <!--                    tooltipEditFile.status === 'RECHECK' ||-->
                        <!--                    tooltipEditFile.status === 'DONE' ||-->
                        <!--                    tooltipEditFile.status === 'EMPTY'-->
                        <!--                  "-->
                        <!--								>-->
                        <!--									<div-->
                        <!--											class="p-helper-clearfix"-->
                        <!--											style="display: flex; display: -ms-flexbox"-->
                        <!--									>-->
                        <!--										<div style="align-self: center; flex: 20; -ms-flex: 20">-->
                        <!--											<mat-icon-->
                        <!--													style="width: 14px; vertical-align: middle"-->
                        <!--													svgIcon="closeIcon"-->
                        <!--											></mat-icon>-->
                        <!--										</div>-->
                        <!--										<p-->
                        <!--												class="nameAcc"-->
                        <!--												style="-->
                        <!--                        overflow: hidden;-->
                        <!--                        white-space: nowrap;-->
                        <!--                        text-overflow: ellipsis;-->
                        <!--                        flex: 85;-->
                        <!--                        -ms-flex: 85;-->
                        <!--                      "-->
                        <!--										>-->
                        <!--											לא לטיפול-->
                        <!--										</p>-->
                        <!--									</div>-->
                        <!--								</li>-->
                        <!--								<li (click)="tooltipEdit.hide()">-->
                        <!--									<div-->
                        <!--											class="p-helper-clearfix"-->
                        <!--											style="display: flex; display: -ms-flexbox"-->
                        <!--									>-->
                        <!--										<div style="align-self: center; flex: 20; -ms-flex: 20">-->
                        <!--											<mat-icon-->
                        <!--													style="width: 14px; vertical-align: middle"-->
                        <!--													svgIcon="print"-->
                        <!--											></mat-icon>-->
                        <!--										</div>-->
                        <!--										<p-->
                        <!--												class="nameAcc"-->
                        <!--												style="-->
                        <!--                        overflow: hidden;-->
                        <!--                        white-space: nowrap;-->
                        <!--                        text-overflow: ellipsis;-->
                        <!--                        flex: 85;-->
                        <!--                        -ms-flex: 85;-->
                        <!--                      "-->
                        <!--										>-->
                        <!--											הדפסה-->
                        <!--										</p>-->
                        <!--									</div>-->
                        <!--								</li>-->
                        <!--							</ul>-->
                        <!--						</ng-container>-->
                        <!--					</p-overlayPanel>-->
                    </div>
                    <div
                            *ngIf="bankDetailsSave && !bankDetailsSave.length && !loader"
                            class="noData"
                    >
                        <mat-icon
                                style="
              vertical-align: middle;
              width: auto;
              height: 61px;
              margin-bottom: 10px;
            "
                                svgIcon="export2"
                        ></mat-icon>

                        <h1>לא קיימות תנועות מעודכנות לתקופה שנבחרה</h1>
                    </div>
                    <div
                            *ngIf="
            bankDetailsSave &&
            bankDetailsSave.length &&
            bankDetails &&
            !bankDetails.length
          "
                            class="noData"
                    >
                        <mat-icon
                                style="
              vertical-align: middle;
              width: auto;
              height: 61px;
              margin-bottom: 10px;
            "
                                svgIcon="interface"
                        ></mat-icon>

                        <h1>לא נמצאו תנועות לחיפוש המבוקש</h1>
                    </div>
                </div>

                <!--        <table>-->

                <!--            <thead #header>-->
                <!--            <tr>-->
                <!--                <th>-->
                <!--                    <div>-->
                <!--                        <p-checkbox checkboxIcon="fa fa-check" [binary]="true"-->
                <!--                                    *ngIf="bankDetails && bankDetails.length"-->
                <!--                                    (onChange)="selcetAllFiles=!selcetAllFiles;selecteAllFilesEvent()"-->
                <!--                                    [(ngModel)]="selcetAllFiles">-->
                <!--                        </p-checkbox>-->
                <!--                    </div>-->
                <!--                </th>-->
                <!--                <th>-->
                <!--                    <div (click)="toggleCompanyFilesOrderTo('transDate')">-->
                <!--                        תאריך-->

                <!--                        <mat-icon class="sort-icon"-->
                <!--                                  [class.active]="companyFilesSortControl.value?.orderBy === 'transDate'"-->
                <!--                                  *ngIf="bankDetails && bankDetails.length"-->
                <!--                                  [svgIcon]="(companyFilesSortControl.value?.orderBy === 'transDate' ? companyFilesSortControl.value.order : null) | sortIcon">-->
                <!--                        </mat-icon>-->
                <!--                    </div>-->
                <!--                </th>-->
                <!--                <th>-->
                <!--                    <div>-->
                <!--                        ח-ן-->
                <!--                    </div>-->
                <!--                </th>-->
                <!--                <th>-->
                <!--                    <div>-->
                <!--                        &nbsp;-->
                <!--                    </div>-->
                <!--                </th>-->
                <!--                <th>-->
                <!--                    <div (click)="toggleCompanyFilesOrderTo('mainDesc')">-->
                <!--                        תיאור/ פרטים-->

                <!--                        <mat-icon class="sort-icon"-->
                <!--                                  [class.active]="companyFilesSortControl.value?.orderBy === 'mainDesc'"-->
                <!--                                  *ngIf="bankDetails && bankDetails.length"-->
                <!--                                  [svgIcon]="(companyFilesSortControl.value?.orderBy === 'mainDesc' ? companyFilesSortControl.value.order : null) | sortIcon">-->
                <!--                        </mat-icon>-->
                <!--                    </div>-->
                <!--                </th>-->
                <!--                <th>-->
                <!--                    <div>-->
                <!--                        נבמ-->
                <!--                    </div>-->
                <!--                </th>-->
                <!--                <th>-->
                <!--                    <div>-->
                <!--                        &nbsp;-->
                <!--                    </div>-->
                <!--                </th>-->
                <!--                <th>-->
                <!--                    <div>-->
                <!--                        <app-tooltip-category-->
                <!--                                [title]="'סוג תשלום'"-->
                <!--                                [type]="'paymentDesc'"-->
                <!--                                [data]="paymentDescArr"-->
                <!--                                (changed)="filterCategory($event)">-->
                <!--                        </app-tooltip-category>-->
                <!--                    </div>-->
                <!--                </th>-->
                <!--                <th>-->
                <!--                    <div (click)="toggleCompanyFilesOrderTo('asmachta')">-->
                <!--                        אסמכתא-->

                <!--                        <mat-icon class="sort-icon"-->
                <!--                                  [class.active]="companyFilesSortControl.value?.orderBy === 'asmachta'"-->
                <!--                                  *ngIf="bankDetails && bankDetails.length"-->
                <!--                                  [svgIcon]="(companyFilesSortControl.value?.orderBy === 'asmachta' ? companyFilesSortControl.value.order : null) | sortIcon">-->
                <!--                        </mat-icon>-->
                <!--                    </div>-->
                <!--                </th>-->
                <!--                <th>-->
                <!--                    <div>-->
                <!--                        <app-tooltip-category-->
                <!--                                [title]="'זכות/חובה'"-->
                <!--                                [type]="'hova'"-->
                <!--                                [data]="hovaArr"-->
                <!--                                (changed)="filterCategory($event)">-->
                <!--                        </app-tooltip-category>-->
                <!--                    </div>-->
                <!--                </th>-->
                <!--                <th>-->
                <!--                    <div (click)="toggleCompanyFilesOrderTo('custId')">-->
                <!--                        כרטיס נגדי-->

                <!--                        <mat-icon class="sort-icon"-->
                <!--                                  [class.active]="companyFilesSortControl.value?.orderBy === 'custId'"-->
                <!--                                  *ngIf="bankDetails && bankDetails.length"-->
                <!--                                  [svgIcon]="(companyFilesSortControl.value?.orderBy === 'custId' ? companyFilesSortControl.value.order : null) | sortIcon">-->
                <!--                        </mat-icon>-->
                <!--                    </div>-->
                <!--                </th>-->
                <!--                <th>-->
                <!--                    <div class="tooltip-status-bank-credit">-->
                <!--                        <app-tooltip-category-->
                <!--                                [filter]="false"-->
                <!--                                [type]="'status'"-->
                <!--                                [data]="statusArr"-->
                <!--                                (changed)="filterCategory($event)">-->
                <!--                            <img style="height: auto; width: auto; position: relative;" fill ngSrc="/assets/images/matching-big.png" width="20" height="20"-->
                <!--                                 style="height: 20px !important; width: 20px !important; vertical-align: middle"/>-->
                <!--                        </app-tooltip-category>-->
                <!--                    </div>-->
                <!--                </th>-->
                <!--            </tr>-->
                <!--            </thead>-->
                <!--            <tbody class="body scrollbar-dynamic containerList1"-->
                <!--                   style="position: relative"-->
                <!--                   (scroll)="onScrollCubes()"-->
                <!--                   #scrollContainer>-->
                <!--            <tr *ngIf="loader" class="loader">-->
                <!--                <td>-->
                <!--                    <div class="circle"></div>-->
                <!--                </td>-->
                <!--            </tr>-->

                <!--            <ng-container *ngIf="bankDetails && bankDetails.length">-->
                <!--                <ng-container-->
                <!--                        *ngFor="let row of bankDetails  | slice:(currentPage*entryLimit):((currentPage*entryLimit) + entryLimit);let i = index; trackBy: trackById;">-->

                <!--                    <tr-->
                <!--                            [class.active]="selectedTransaction === row"-->
                <!--                            [class.IGNORE]="row['status']==='IGNORE'"-->
                <!--                            [class.DISABLED]="row['status']==='DISABLED'"-->
                <!--                            tabindex="1"-->
                <!--                            (focus)="selectedTransaction = row;"-->
                <!--                            (click)="selectedTransaction = row;">-->
                <!--                        <td>-->
                <!--                            <div>-->
                <!--                                <p-checkbox checkboxIcon="fa fa-check" [binary]="true"-->
                <!--                                            (onChange)="row['selcetFile']=!row['selcetFile'];checkSelected();"-->
                <!--                                            [(ngModel)]="row['selcetFile']">-->
                <!--                                </p-checkbox>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                        <ng-container *ngIf="!row.splitArrayBase">-->
                <!--                            <td>-->
                <!--                                <div class="text-ellipsis">-->
                <!--                                    <div [ngStyle]="{'margin-right': row['transDate'] !== null ? '0' : '12%'}"-->
                <!--                                         class="text-ellipsis"-->
                <!--                                         [pTooltip]="(row['transDate']| date:'dd/MM/yy')"-->
                <!--                                         [innerHTML]="((row['transDate']| date:'dd/MM/yy') || '-')| highlight: queryString"></div>-->
                <!--                                </div>-->
                <!--                            </td>-->

                <!--                            <td>-->
                <!--                                <div style="display: flex;">-->
                <!--                                    <img style="height: auto; width: auto; position: relative;" fill [ngSrc]="row.account?.bankId ? (row.account?.bankId| toIconSrc:'bank') : ''"-->
                <!--                                         [alt]="row.accountNickname"-->
                <!--                                         style="align-self: center; flex: 0 0 auto;-ms-flex:0 0 auto; margin-left: 4px; margin-right: -2px;">-->
                <!--                                    <p style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis;"-->
                <!--                                       [innerHTML]="row.account?.bankAccountId | highlight: queryString">-->
                <!--                                    </p>-->
                <!--                                </div>-->
                <!--                            </td>-->
                <!--                        </ng-container>-->
                <!--                        <ng-container *ngIf="row.splitArrayBase && row.firstSplit">-->
                <!--                            <td [attr.rowspan]="row.splitArrayLength"-->
                <!--                                [attr.colspan]="'2'"-->
                <!--                                [attr.align]="'center'"-->
                <!--                                [attr.valign]="'center'"-->
                <!--                                style="vertical-align: middle;">-->
                <!--                                <div style="display:flex; flex-direction: column; justify-content: center; align-items: center;">-->
                <!--                                    <div style="display: flex">-->
                <!--                                        <div class="text-ellipsis">-->
                <!--                                            <div [ngStyle]="{'margin-right': row['transDate'] !== null ? '0' : '12%'}"-->
                <!--                                                 class="text-ellipsis"-->
                <!--                                                 [pTooltip]="(row['transDate']| date:'dd/MM/yy')"-->
                <!--                                                 [innerHTML]="((row['transDate']| date:'dd/MM/yy') || '-')| highlight: queryString"></div>-->
                <!--                                        </div>-->
                <!--                                        <div style="display: flex;">-->
                <!--                                            <img style="height: auto; width: auto; position: relative;" fill [ngSrc]="row.account?.bankId ? (row.account?.bankId| toIconSrc:'bank') : ''"-->
                <!--                                                 [alt]="row.accountNickname"-->
                <!--                                                 style="align-self: center; flex: 0 0 auto;-ms-flex:0 0 auto; margin-left: 4px; margin-right: -2px;">-->
                <!--                                            <p style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis;"-->
                <!--                                               [innerHTML]="row.account?.bankAccountId | highlight: queryString">-->
                <!--                                            </p>-->
                <!--                                        </div>-->
                <!--                                    </div>-->

                <!--                                    <div>-->
                <!--                                        {{row.splitArrayLength}}-->

                <!--                                        {{row.splitArrayBase.paymentDesc ===  "BankTransfer" ? 'העברות' : 'שיקים'}}-->
                <!--                                        ע״ס-->

                <!--                                        <app-sum-view-->
                <!--                                                [ngStyle]="{'margin-right': '5px'}"-->
                <!--                                                [sum]="row.splitArrayBase.total" [highlight]="queryString"></app-sum-view>-->
                <!--                                    </div>-->
                <!--                                </div>-->

                <!--                            </td>-->
                <!--                        </ng-container>-->

                <!--                        <td>-->
                <!--                            <div>-->
                <!--                                <i class="fa fa-fw"-->
                <!--                                   style="flex: 0 0 16px; -ms-flex:0 0 16px; color: #5c728c; font-size: 80%;"-->
                <!--                                   [class.fa-info-circle]="row['secDesc'] && row['secDesc'] !== row['mainDesc']"-->
                <!--                                   [pTooltip]="appearsInBankTooltip(row)" [escape]="false" tooltipPosition="bottom"></i>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                        <td>-->
                <!--                            <div class="text-ellipsis">-->
                <!--                                <div class="seamless-edit-prepare text-ellipsis"-->
                <!--                                     #transDesc-->
                <!--                                     style="flex: 1;"-->
                <!--                                     [pTooltip]="row['mainDesc']" tooltipPosition="top"-->
                <!--                                     [innerHTML]="row['mainDesc']| highlight: queryString"></div>-->
                <!--                                <input #descInputRef type="text" style="flex: 1;"-->
                <!--                                       [pTooltip]="row['mainDesc']" tooltipPosition="top" appendTo="body" [showDelay]="300"-->
                <!--                                       placeholder="{{'expressions.transactionDescription' | translate}}"-->
                <!--                                       [(ngModel)]="row['mainDesc']"-->
                <!--                                       (focus)="startDescriptionEditAt(row, descInputRef)"-->
                <!--                                       (keyup.enter)="submitChanges(row)"-->
                <!--                                       (blur)="submitChanges(row)"-->
                <!--                                       (keyup.esc)="cancelChanges(); descInputRef.blur();">-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                        <td>-->
                <!--                            <div>-->
                <!--                                <div [ngStyle]="{'margin-right': '12%'}">-</div>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                        <td>-->
                <!--                            <div class="text-ellipsis">-->
                <!--                                <ng-container-->
                <!--                                        *ngIf="!((row.linkId && row.linkId !== '00000000-0000-0000-0000-000000000000') || (row.pictureLink && row.pictureLink !== '00000000-0000-0000-0000-000000000000'))">-->
                <!--                                    <ng-container *ngIf="row['fileId'] === null; else fileId">-->
                <!--                                        <mat-icon svgIcon="doc"-->
                <!--                                                  (click)="row['status']!=='DISABLED' ? showArchiveModal = row.bankTransId : null"-->
                <!--                                                  style="width: 14px;vertical-align: middle;color: #141414"></mat-icon>-->
                <!--                                    </ng-container>-->

                <!--                                    <ng-template #fileId>-->
                <!--                                        <ng-container *ngIf="((!row.linkId || (row.linkId && row.linkId === '00000000-0000-0000-0000-000000000000')) &&-->
                <!--                                 (!row.pictureLink || (row.pictureLink && row.pictureLink === '00000000-0000-0000-0000-000000000000')))">-->
                <!--                                            <mat-icon svgIcon="doc"-->
                <!--                                                      (click)="showArchiveModal_TransId = (row['status']==='DISABLED' ? false : row.bankTransId); showDocumentListStorageData(row['fileId'])"-->
                <!--                                                      style="width: 14px;vertical-align: middle;color: #038ed6"></mat-icon>-->
                <!--                                        </ng-container>-->
                <!--                                    </ng-template>-->
                <!--                                </ng-container>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                        <td>-->
                <!--                            <div class="text-ellipsis">-->
                <!--                                <ng-container-->
                <!--                                        *ngIf="((row.linkId) || (row.pictureLink)); else oldOne;">-->
                <!--                                    <div [appTransactionAdditionalTrigger]="row"-->
                <!--                                         (refresh)="handler($event)"-->
                <!--                                         (showArchiveModalFromTransactionAdditional)="showArchiveModalFromTransactionAdditional($event)"-->
                <!--                                         [isJournal]="true"-->
                <!--                                         style="min-width: 0;"-->
                <!--                                         [companyCustomerDetailsArr]="customerCustList"-->
                <!--                                         *ngIf="((row.linkId) || (row.pictureLink))"-->
                <!--                                         [pTooltip]="row.paymentDescTranslate" tooltipPosition="top"-->
                <!--                                         [innerHTML]="row.paymentDescTranslate | highlight: queryString"-->
                <!--                                         class="text-ellipsis bank-acc-details-link link"></div>-->
                <!--                                </ng-container>-->
                <!--                                <ng-template #oldOne>-->
                <!--                                    <div class="text-ellipsis"-->
                <!--                                         (click)="row.loanId!==null? loanDetails(row.loanId, row.companyAccountId) : null"-->
                <!--                                         [class.link]="row.loanId!==null"-->
                <!--                                         style="min-width: 0;"-->
                <!--                                         [pTooltip]="row.paymentDescTranslate" tooltipPosition="top"-->
                <!--                                         [innerHTML]="row.paymentDescTranslate | highlight: queryString">-->
                <!--                                    </div>-->
                <!--                                </ng-template>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                        <td>-->
                <!--                            <div class="text-ellipsis">-->
                <!--                                <div class="text-ellipsis"-->
                <!--                                     [ngStyle]="{'margin-right': row.asmachta!== null ? '0' : '12%'}"-->
                <!--                                     [innerHTML]="(row.asmachta || '-')| highlight: queryString"></div>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                        <td>-->
                <!--                            <div class="text-ellipsis"-->
                <!--                                 [class.sum-credit]="!row['hova']"-->
                <!--                                 [class.sum-debit]="row['hova']">-->
                <!--                                <app-sum-view-->
                <!--                                        [ngStyle]="{'margin-right': row['hova'] ? '15px' : '0'}"-->
                <!--                                        [sum]="row.total" [highlight]="queryString"></app-sum-view>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                        <td>-->
                <!--                            <div class="text-ellipsis">-->
                <!--                                <ng-container-->
                <!--                                        *ngIf="row['custIdCards'] && ((row.linkId && row.linkId !== '00000000-0000-0000-0000-000000000000') || (row.pictureLink && row.pictureLink !== '00000000-0000-0000-0000-000000000000')); else custIdReg;">-->
                <!--                                    <div [appTransactionAdditionalTrigger]="row"-->
                <!--                                         [updateTrans]="updateTransParam"-->
                <!--                                         (refresh)="handler($event)"-->
                <!--                                         (companyGetCustomer)="row['status']!=='DISABLED' ? companyGetCustomer($event) : null"-->
                <!--                                         (showArchiveModalFromTransactionAdditional)="showArchiveModalFromTransactionAdditional($event)"-->
                <!--                                         [isJournal]="true"-->
                <!--                                         [companyCustomerDetailsArr]="customerCustList"-->
                <!--                                         [isCustIdCards]="true"-->
                <!--                                         style="min-width: 0;"-->
                <!--                                         *ngIf="((row.linkId && row.linkId !== '00000000-0000-0000-0000-000000000000') || (row.pictureLink && row.pictureLink !== '00000000-0000-0000-0000-000000000000'))"-->
                <!--                                         [pTooltip]="row['custName']" tooltipPosition="top"-->
                <!--                                         [innerHTML]="row['custName'] | highlight: queryString"-->
                <!--                                         class="text-ellipsis bank-acc-details-link link"></div>-->
                <!--                                </ng-container>-->
                <!--                                <ng-template #custIdReg>-->
                <!--                                    &lt;!&ndash;                                <div class="text-ellipsis btnDDArrowAfter btnDDArrow"&ndash;&gt;-->
                <!--                                    &lt;!&ndash;                                     [pTooltip]="row['custName']" tooltipPosition="top"&ndash;&gt;-->
                <!--                                    &lt;!&ndash;                                     (click)="(row['status']!=='DISABLED' && row['status']!=='IGNORE') ? companyGetCustomer(row) : null"&ndash;&gt;-->
                <!--                                    &lt;!&ndash;                                     style="flex: 1;position: relative;"&ndash;&gt;-->
                <!--                                    &lt;!&ndash;                                     [innerHTML]="(row['custName'] || '&nbsp;')| highlight: queryString"></div>&ndash;&gt;-->

                <!--                                    <div class="text-ellipsis"-->
                <!--                                         *ngIf="!customerCustList.length"-->
                <!--                                         [pTooltip]="row['custName']"-->
                <!--                                         tooltipPosition="top"-->
                <!--                                         style="flex: 1;position: relative;"-->
                <!--                                         [innerHTML]="(row['custName'] || '&nbsp;')| highlight: queryString"></div>-->

                <!--                                    <p-dropdown-->
                <!--                                            style="flex: 1;position: relative;margin-left: 30px;overflow: hidden;"-->
                <!--                                            [(ngModel)]="row['cust']"-->
                <!--                                            *ngIf="customerCustList.length"-->
                <!--                                            [disabled]="(row['status']==='DISABLED' || row['status']==='IGNORE')"-->
                <!--                                            (opened)="oppositeCustHistory(row);"-->
                <!--                                            [options]="customerCustList"-->
                <!--                                            [autoDisplayFirst]="false"-->
                <!--                                            (onChange)="selectCust(row['cust'])"-->
                <!--                                            placeholder="ללא"-->
                <!--                                            [filter]="true"-->
                <!--                                            filterBy="value.lName,value.custId"-->
                <!--                                            emptyFilterMessage="לא נמצאו תוצאות"-->
                <!--                                            optionLabel="custId" dataKey="custId" -->
                <!--                                            appendTo="body"-->
                <!--                                            [style]="{'flex': '1', 'position':'relative', 'width':'100%', 'border': 'none'}"-->
                <!--                                            panelStyleClass="company-customer-dropdown-panel cardsDD"-->
                <!--                                            #formDropdowns>-->
                <!--                                        <ng-template let-item pTemplate="selectedItem">-->
                <!--                                            <span style="vertical-align:middle;display: block;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;"-->
                <!--                                                  #spanElement-->
                <!--                                                  [innerHTML]="((item.custId ? (item.custId + ' - ' + item.lName) : item.lName) || '&nbsp;')| highlight: queryString"-->
                <!--                                                  [tooltipDisabled]="spanElement.offsetWidth >= spanElement.scrollWidth"-->
                <!--                                                  [pTooltip]="(item.custId ? (item.custId + ' - ' + item.lName) : item.lName)"-->
                <!--                                                  tooltipPosition="top"></span>-->
                <!--                                        </ng-template>-->
                <!--                                        <ng-template let-item pTemplate="title">-->
                <!--                                            <div class="p-helper-clearfix">-->
                <!--                                                <span>-->
                <!--                                                    כרטיסים ששוייכו בעבר:-->
                <!--                                                </span>-->
                <!--                                            </div>-->
                <!--                                        </ng-template>-->
                <!--                                        <ng-template let-item pTemplate="item">-->
                <!--                                            <div class="p-helper-clearfix"-->
                <!--                                                 [class.bottom9]="item.value?.isLastHistory">-->
                <!--                                                <div>-->
                <!--                                                    <span class="text-ellipsis">{{item.custId}}</span>-->
                <!--                                                </div>-->
                <!--                                                <div class="separator" *ngIf="item.custId"><span>-</span></div>-->
                <!--                                                <div>-->
                <!--                                                    <span class="text-ellipsis" *ngIf="item.lName">{{item.lName}}</span>-->
                <!--                                                </div>-->
                <!--                                            </div>-->
                <!--                                            <div *ngIf="item.value?.isLastHistory"-->
                <!--                                                 style="height: 1px;background: #cacaca;padding: 0;position: absolute;bottom: -6px;right: 0;left: 0;z-index: 999;"></div>-->
                <!--                                        </ng-template>-->
                <!--                                        <ng-template pTemplate="noItem">-->
                <!--                                            <div class="p-helper-clearfix"-->
                <!--                                                 style="font-size: .95em; padding: .3em 1em;">-->
                <!--                                                <ng-container *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                <!--                                                    <div>לא מצאת את הכרטיס שחיפשת?</div>-->
                <!--                                                    <div>צרו כרטיס חדש בהנה"ח</div>-->
                <!--                                                    <button class="button-link" style="padding: 0; font-size: inherit;"-->
                <!--                                                            (click)="getCompanyCustomerDetailsTimer(); $event.stopPropagation()">-->
                <!--                                                        ולחצו על-->
                <!--                                                        רענון הנתונים-->
                <!--                                                    </button>-->
                <!--                                                </ng-container>-->
                <!--                                                <ng-template #loader>-->
                <!--                                                    <div style="height: 84px;">-->
                <!--                                                        <div class="loaderPercent blueCircle"-->
                <!--                                                             style="background: #e6e5e5;">-->
                <!--                                                            <div class="circle"></div>-->
                <!--                                                        </div>-->
                <!--                                                    </div>-->
                <!--                                                    <div style="-->
                <!--    z-index: 999;-->
                <!--    position: absolute;-->
                <!--    bottom: 26px;-->
                <!--    font-size: 14.5px;-->
                <!--    text-align: center;-->
                <!--    font-weight: 600;-->
                <!--    left: 0;-->
                <!--    right: 0;-->
                <!--">-->
                <!--                                                        מתבצע סינכרון-->
                <!--                                                    </div>-->
                <!--                                                </ng-template>-->
                <!--                                            </div>-->
                <!--                                        </ng-template>-->
                <!--                                    </p-dropdown>-->

                <!--                                </ng-template>-->

                <!--                            </div>-->
                <!--                        </td>-->
                <!--                        <td>-->
                <!--                            <div>-->
                <!--                                <div style="width: 100%;height: 100%;">-->
                <!--                                    <mat-icon class="left-space"-->
                <!--                                              *ngIf="row['status'] !== 'EMPTY'"-->
                <!--                                              [pTooltip]="row['status_desc']"-->
                <!--                                              tooltipPosition="top"-->
                <!--                                              [svgIcon]="row['status'] === 'RECHECK' ? ('RECHECK'): (row['status'] === 'IGNORE' ? 'close' : 'tick')"-->
                <!--                                              [ngStyle]="{'color': row['status'] === 'IGNORE' ? '#4f4e4e' : ((row['status'] === 'DONE' || row['status'] === 'RECHECK') ? '#022258' : '#a5a3a3'), 'width': row['status'] === 'IGNORE'  ? '14px' : '17px'}"-->
                <!--                                              style="width: 100%;height: 100%;vertical-align: middle;">-->
                <!--                                    </mat-icon>-->
                <!--                                </div>-->

                <!--                                <i class="fas fa-ellipsis-v"-->
                <!--                                   (click)="onScrollCubes(i); tooltipEditFile = row; tooltipEdit.toggle($event); tooltipEdit.overlayVisible ? selectedTransaction = row : null"></i>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                        <p-overlayPanel-->
                <!--                                styleClass="tooltip-bottom tooltip-acc-deviation tooltip-daily-edit overlayPanelRightClick"-->
                <!--                                [style]="{'transform': 'translate(-10px, 10px)', 'width': 'auto'}"-->
                <!--                                #tooltipEdit-->
                <!--                                appendTo="body">-->
                <!--                            <ul style="width: 185px;">-->
                <!--                                <li (click)="journalTransComponent.docToSend.show(tooltipEditFile.fileId); tooltipEdit.hide();">-->
                <!--                                    <div class="p-helper-clearfix"-->
                <!--                                         style="display: flex; display: -ms-flexbox;">-->
                <!--                                        <div style="align-self: center; flex: 20;-ms-flex:20;">-->
                <!--                                            <mat-icon svgIcon="send"-->
                <!--                                                      style="width: 14px;vertical-align: middle;"></mat-icon>-->
                <!--                                        </div>-->
                <!--                                        <p class="nameAcc"-->
                <!--                                           style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis;flex: 85;-ms-flex:85;">-->
                <!--                                            שליחת הודעה ללקוח-->
                <!--                                        </p>-->
                <!--                                    </div>-->
                <!--                                </li>-->
                <!--                                <li (click)="backToCare(tooltipEditFile);tooltipEdit.hide();"-->
                <!--                                    *ngIf="row['status'] === 'DONE' || row['status'] === 'IGNORE'">-->
                <!--                                    <div class="p-helper-clearfix"-->
                <!--                                         style="display: flex; display: -ms-flexbox;">-->
                <!--                                        <div style="align-self: center; flex: 20;-ms-flex:20;">-->
                <!--                                            <mat-icon svgIcon="cancel"-->
                <!--                                                      style="width: 14px;vertical-align: middle;"></mat-icon>-->
                <!--                                        </div>-->
                <!--                                        <p class="nameAcc"-->
                <!--                                           style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis;flex: 85;-ms-flex:85;">-->
                <!--                                            ביטול פקודה-->
                <!--                                        </p>-->
                <!--                                    </div>-->
                <!--                                </li>-->
                <!--                                <li *ngIf="((!row.linkId || (row.linkId && row.linkId === '00000000-0000-0000-0000-000000000000')) &&-->
                <!--                                 (!row.pictureLink || (row.pictureLink && row.pictureLink === '00000000-0000-0000-0000-000000000000'))) && row['fileId'] === null && row['status']!=='DISABLED'"-->
                <!--                                    (click)="showArchiveModal=tooltipEditFile.bankTransId; tooltipEdit.hide();">-->
                <!--                                    <div class="p-helper-clearfix"-->
                <!--                                         style="display: flex; display: -ms-flexbox;">-->
                <!--                                        <div style="align-self: center; flex: 20;-ms-flex:20;">-->
                <!--                                            <mat-icon svgIcon="doc"-->
                <!--                                                      style="width: 14px;vertical-align: middle;"></mat-icon>-->
                <!--                                        </div>-->
                <!--                                        <p class="nameAcc"-->
                <!--                                           style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis;flex: 85;-ms-flex:85;">-->
                <!--                                            קישור תמונה-->
                <!--                                        </p>-->
                <!--                                    </div>-->
                <!--                                </li>-->
                <!--                                <li (click)="updateIgnore(tooltipEditFile); tooltipEdit.hide();"-->
                <!--                                    *ngIf="row['status'] !== 'IGNORE'">-->
                <!--                                    <div class="p-helper-clearfix"-->
                <!--                                         style="display: flex; display: -ms-flexbox;">-->
                <!--                                        <div style="align-self: center; flex: 20;-ms-flex:20;">-->
                <!--                                            <mat-icon svgIcon="closeIcon"-->
                <!--                                                      style="width: 14px;vertical-align: middle;"></mat-icon>-->
                <!--                                        </div>-->
                <!--                                        <p class="nameAcc"-->
                <!--                                           style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis;flex: 85;-ms-flex:85;">-->
                <!--                                            לא לטיפול-->
                <!--                                        </p>-->
                <!--                                    </div>-->
                <!--                                </li>-->
                <!--                                <li (click)="tooltipEdit.hide();">-->
                <!--                                    <div class="p-helper-clearfix"-->
                <!--                                         style="display: flex; display: -ms-flexbox;">-->
                <!--                                        <div style="align-self: center; flex: 20;-ms-flex:20;">-->
                <!--                                            <mat-icon svgIcon="print"-->
                <!--                                                      style="width: 14px;vertical-align: middle;"></mat-icon>-->
                <!--                                        </div>-->
                <!--                                        <p class="nameAcc"-->
                <!--                                           style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis;flex: 85;-ms-flex:85;">-->
                <!--                                            הדפסה-->
                <!--                                        </p>-->
                <!--                                    </div>-->
                <!--                                </li>-->
                <!--                            </ul>-->
                <!--                        </p-overlayPanel>-->
                <!--                    </tr>-->
                <!--                </ng-container>-->
                <!--            </ng-container>-->

                <!--            </tbody>-->
                <!--        </table>-->

                <app-paginator
                    #paginator
                    (onPageChange)="paginate($event)"
                    [alwaysShow]="false"
                    [rowsPerPageOptions]="[20, 30, 40]"
                    [rows]="entryLimit"
                    [totalRecords]="bankDetails.length"
                >
                </app-paginator>
            </div>
            <ng-template #notSelectedAccounts>
                <div
                        *ngIf="
          !this.isAccSelected &&
          userService.appData?.userData?.accounts?.length
        "
                        style="text-align: center; font-size: 26px; padding-top: 100px"
                >
                    יש לבחור חשבון
                </div>
            </ng-template>


            <div
                    [class.show]="showFloatNav"
                    class="bottomNavAction"
                    style="height: 41px"
            >
                <div
                        *ngIf="
          showFloatNav && showFloatNav.isNotDisabled && showFloatNav.isNotIGNORE
        "
                >
                    <mat-icon
                            (click)="companyGetCustomer()"
                            [pTooltip]="'שיוך כרטיס נגדי'"
                            style="color: #ffffff; height: 100%; width: 21px"
                            svgIcon="custId"
                            tooltipPosition="top"
                    ></mat-icon>
                </div>
                <div
                        *ngIf="
          showFloatNav && showFloatNav.isNotIGNORE && showFloatNav.isNotDisabled
        "
                >
                    <mat-icon
                            (click)="updateIgnore(showFloatNav)"
                            [pTooltip]="'לא לטיפול'"
                            style="color: #ffffff; height: 100%; width: 19px"
                            svgIcon="closeIcon"
                            tooltipPosition="top"
                    ></mat-icon>
                </div>
                <div>
                    <mat-icon
                            (click)="journalTransComponent.docToSend.show(null, showFloatNav)"
                            [pTooltip]="'שליחת הודעה ללקוח'"
                            style="color: #ffffff; height: 100%; width: 19px"
                            svgIcon="send"
                            tooltipPosition="top"
                    ></mat-icon>
                </div>
                <div *ngIf="showFloatNav && showFloatNav.isReturnToCareFiles">
                    <mat-icon
                            (click)="backToCare()"
                            [pTooltip]="'חזרה לטיפול'"
                            style="color: #ffffff; height: 100%; width: 19px"
                            svgIcon="cancel"
                            tooltipPosition="top"
                    ></mat-icon>
                </div>
                <div
                        *ngIf="
          showFloatNav &&
          showFloatNav.linkPic &&
          showFloatNav.isNotDisabled &&
          showFloatNav.isNotIGNORE
        "
                >
                    <mat-icon
                            (click)="showArchiveModal = showFloatNav?.selcetedFiles"
                            [pTooltip]="'קישור תמונה'"
                            style="color: #ffffff; height: 100%; width: 19px"
                            svgIcon="doc"
                            tooltipPosition="top"
                    ></mat-icon>
                </div>
                <!--			<div>-->
                <!--				<mat-icon-->
                <!--						[pTooltip]="'הדפסה'"-->
                <!--						style="width: 21px; color: #ffffff"-->
                <!--						svgIcon="print"-->
                <!--						tooltipPosition="top"-->
                <!--				>-->
                <!--				</mat-icon>-->
                <!--			</div>-->
                <div>
                    <mat-icon
                            (click)="showOpenTicket()"
                            [pTooltip]="'פתיחת קריאת שירות'"
                            style="width: 21px; color: #ffffff"
                            svgIcon="icon_support"
                            tooltipPosition="top">
                    </mat-icon>
                </div>
            </div>
        </ng-container>
        <ng-container *ngIf="fileStatus === 'CREDIT'">
            <div
                    class="filterRow"
                    style="justify-content: space-between; align-items: flex-start"
            >
                <div style="display: flex">
                    <app-cards-select-by-currency
                            (changedTrigger)="changeAcc($event)"
                            [cards]="userService.appData.userData.creditCards"
                            [isBankAndCreditScreen]="true"
                    ></app-cards-select-by-currency>

                    <app-ccard-dates-accountants
                            [cardsSelected]="cardsSelected"
                            [isCardsSelected]="isCardsSelected"></app-ccard-dates-accountants>

                    <div class="search" style="width: 250px">
                        <input
                                [formControl]="filterInput"
                                [value]="queryString"
                                autocomplete="off"
                                id="containTextFilter"
                                placeholder="{{ 'filters.search' | translate }}"
                                type="text"
                        />
                    </div>
                    <mat-icon
                            [escape]="false"
                            [pTooltip]="iconSupportTooltip()"
                            [svgIcon]="'icon_support'"
                            style="width: 25px;height: 25px;display: block;margin-top: 7px;margin-right: 40px;cursor:pointer"
                            tooltipPosition="top"
                            tooltipStyleClass="iconSupportTooltip">
                    </mat-icon>
                    <!--            <div style="-->
                    <!--    display: flex;-->
                    <!--    flex-direction: column;-->
                    <!--    justify-content: flex-end;-->
                    <!--">-->
                    <!--                <app-journal-trans-advanced-search [title]="'מתקדם'"-->
                    <!--                                                   [isCredit]="true"-->
                    <!--                                                   [advancedSearchParams]="advancedSearchParams"-->
                    <!--                                                   (selectedParamsForSearch)="selectedParamsForSearch($event)"></app-journal-trans-advanced-search>-->

                    <!--            </div>-->
                </div>

                <div class="btnChangeView" style="display: flex; flex-direction: column; margin-left: 0;">
                    <app-statuses (changedTrigger)="changeStatus($event)" [type]="'credit'"></app-statuses>

                    <!--                    <div class="exports">-->
                    <!--                        <button-->
                    <!--                                [matTooltip]="'appWalk.customers.report.printBtn' | translate"-->
                    <!--                                matTooltipPosition="above"-->
                    <!--                        >-->
                    <!--                            <img height="21" ngSrc="/assets/images/to-printer.png" width="24"/>-->
                    <!--                        </button>-->
                    <!--                        <button-->
                    <!--                                [matTooltip]="'appWalk.customers.report.mailBtn' | translate"-->
                    <!--                                matTooltipPosition="above"-->
                    <!--                        >-->
                    <!--                            <img height="21" ngSrc="/assets/images/to-mail.png" width="24"/>-->
                    <!--                        </button>-->
                    <!--                        <button [matTooltip]="'הורדה'" matTooltipPosition="above">-->
                    <!--                            <img height="21" ngSrc="/assets/images/download.png" width="21"/>-->
                    <!--                        </button>-->
                    <!--                    </div>-->

                    <!--                    <div class="filterTrans">-->
                    <!--                        <p-->
                    <!--                                (click)="sharedComponent.mixPanelEvent('tnuot letipul');  filterLink = 'care'; filtersAll()"-->
                    <!--                                [class.active]="filterLink === 'care'"-->
                    <!--                                class="filterLink"-->
                    <!--                        >-->
                    <!--                            הצגת תנועות לטיפול-->
                    <!--                        </p>-->
                    <!--                        <p>|</p>-->
                    <!--                        <p-->
                    <!--                                (click)="sharedComponent.mixPanelEvent('kol hatnuot');  filterLink = 'all'; filtersAll()"-->
                    <!--                                [class.active]="filterLink === 'all'"-->
                    <!--                                class="filterLink"-->
                    <!--                        >-->
                    <!--                            הצגת כל התנועות-->
                    <!--                        </p>-->
                    <!--                    </div>-->
                </div>
            </div>

            <div
                    *ngIf="
        cardsSelector &&
          cardsSelector.selectedCards &&
          cardsSelector.selectedCards.length;
        else notSelectedCards
      "
                    [class.bankProcessTransType]="bankProcessTransType"
                    class="bankAndCreditTable CREDIT"
                    style="position: relative; margin-top: 15px">
                <div *ngIf="loader" class="loader">
                    <div class="circle"></div>
                </div>
                <div #header class="header">
                    <div>
                        <p-checkbox (onChange)="
              selcetAllFiles = !selcetAllFiles; selecteAllFilesEvent()
            "
                                    *ngIf="cardDetails && cardDetails.length"
                                    [binary]="true"
                                    [disabled]="isSelecteAllDisabled()"
                                    [ngModel]="selcetAllFiles"
                                    checkboxIcon="fa fa-check"
                        >
                        </p-checkbox>
                    </div>
                    <div (click)="toggleCompanyFilesOrderTo('transDate')">
                        ת.עסקה

                        <mat-icon
                                *ngIf="cardDetails && cardDetails.length"
                                [class.active]="
              companyFilesSortControl.value?.orderBy === 'transDate'
            "
                                [svgIcon]="
              (companyFilesSortControl.value?.orderBy === 'transDate'
                ? companyFilesSortControl.value.order
                : null
              ) | sortIcon
            "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div (click)="toggleCompanyFilesOrderTo('creditCardNickname')">
                        כרטיס
                        <mat-icon
                                *ngIf="cardDetails && cardDetails.length"
                                [class.active]="
              companyFilesSortControl.value?.orderBy === 'creditCardNickname'
            "
                                [svgIcon]="
              (companyFilesSortControl.value?.orderBy === 'creditCardNickname'
                ? companyFilesSortControl.value.order
                : null
              ) | sortIcon
            "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div (click)="toggleCompanyFilesOrderTo('nextCycleDate')">
                        מחזור חיוב
                        <mat-icon *ngIf="cardDetails && cardDetails.length"
                                  [class.active]="companyFilesSortControl.value?.orderBy === 'nextCycleDate'"
                                  [svgIcon]="(companyFilesSortControl.value?.orderBy === 'nextCycleDate' ? companyFilesSortControl.value.order : null) | sortIcon"
                                  class="sort-icon">
                        </mat-icon>
                    </div>
                    <div>&nbsp;</div>
                    <div (click)="toggleCompanyFilesOrderTo('mainDesc')">
                        תיאור/ פרטים

                        <mat-icon
                                *ngIf="cardDetails && cardDetails.length"
                                [class.active]="
              companyFilesSortControl.value?.orderBy === 'mainDesc'
            "
                                [svgIcon]="
              (companyFilesSortControl.value?.orderBy === 'mainDesc'
                ? companyFilesSortControl.value.order
                : null
              ) | sortIcon
            "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div>
                        <div *ngIf="!bankProcessTransType" style="text-align: center">
                            ניכוי
                        </div>

                        <ng-container *ngIf="bankProcessTransType">
                            <div style="width: 22px; display: flex">&nbsp;</div>
                            <app-tooltip-category
                                    (changed)="sharedComponent.mixPanelEvent('sug tnua filter', {
            value: $event.checked
        }); filterCategory($event)"
                                    [data]="transTypeCodeArr"
                                    [title]="'ס.ת'"
                                    [type]="'transTypeCode'"
                            >
                            </app-tooltip-category>
                        </ng-container>
                    </div>
                    <div>&nbsp;</div>
                    <div (click)="toggleCompanyFilesOrderTo('originalTotal')">
                        סכום העסקה
                        <mat-icon
                                *ngIf="cardDetails && cardDetails.length"
                                [class.active]="
              companyFilesSortControl.value?.orderBy === 'originalTotal'
            "
                                [svgIcon]="
              (companyFilesSortControl.value?.orderBy === 'originalTotal'
                ? companyFilesSortControl.value.order
                : null
              ) | sortIcon
            "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div (click)="toggleCompanyFilesOrderTo('transTotal')">
                        סכום לחיוב

                        <mat-icon
                                *ngIf="cardDetails && cardDetails.length"
                                [class.active]="
              companyFilesSortControl.value?.orderBy === 'transTotal'
            "
                                [svgIcon]="
              (companyFilesSortControl.value?.orderBy === 'transTotal'
                ? companyFilesSortControl.value.order
                : null
              ) | sortIcon
            "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div style="display: flex; justify-content: space-between">
                        <div
                                (click)="toggleCompanyFilesOrderTo('custId')"
                                style="display: flex; align-items: center"
                        >
                            כרטיס נגדי

                            <mat-icon
                                    *ngIf="cardDetails && cardDetails.length"
                                    [class.active]="
                companyFilesSortControl.value?.orderBy === 'custId'
              "
                                    [svgIcon]="
                (companyFilesSortControl.value?.orderBy === 'custId'
                  ? companyFilesSortControl.value.order
                  : null
                ) | sortIcon
              "
                                    class="sort-icon"
                            >
                            </mat-icon>
                        </div>

                        <div>
                            <app-tooltip-category
                                    (changed)="sharedComponent.mixPanelEvent('note filter', {
            value: $event.checked
        }); filterCategory($event)"
                                    [data]="editArr"
                                    [filter]="false"
                                    [type]="'note'"
                                    style="margin-left: 8px"
                            >
                                <img
                                        height="18"
                                        src="/assets/images/note.png"
                                        style="
                  height: 18px !important;
                  width: 18px !important;
                  vertical-align: middle;
                "
                                        width="18"
                                />
                            </app-tooltip-category>
                        </div>
                    </div>
                    <div class="tooltip-status-bank-credit">
                        סטטוס
                        <!--                        <app-tooltip-category-->
                        <!--                                (changed)="sharedComponent.mixPanelEvent('status filter', {-->
                        <!--            value: $event.checked-->
                        <!--        }); filterCategory($event)"-->
                        <!--                                [data]="statusArr"-->
                        <!--                                [filter]="false"-->
                        <!--                                [type]="'status'"-->
                        <!--                        >-->
                        <!--                            <img-->
                        <!--                                    height="20"-->
                        <!--                                    src="/assets/images/matching-big.png"-->
                        <!--                                    style="-->
                        <!--                height: 20px !important;-->
                        <!--                width: 20px !important;-->
                        <!--                vertical-align: middle;-->
                        <!--              "-->
                        <!--                                    width="20"-->
                        <!--                            />-->
                        <!--                        </app-tooltip-category>-->
                    </div>
                </div>
                <div
                    #scrollContainer
                    (scroll)="onScrollCubes()"
                    [appScrollHeight]="
          header.getBoundingClientRect().bottom +
          (paginator?.pageLinks?.length > 1 ? 45 : 10) +
          30
        "
                    class="body scrollbar-dynamic containerList2"
                    style="position: relative"
                >
                    <ng-container *ngIf="cardDetails && cardDetails.length">
                        <ng-container
                                *ngFor="
              let row of cardDetails
                | slice
                  : currentPage * entryLimit
                  : currentPage * entryLimit + entryLimit;
              let i = index;
              trackBy: trackById
            "
                        >
                            <div
                                    (click)="
                activeDD = row['ccardTransId'];
                row['activeDD'] = true;
                selectedTransaction = row;
                hoverCardRow(i)
              "
                                    (focus)="
                activeDD = row['ccardTransId'];
                row['activeDD'] = true;
                selectedTransaction = row;
                hoverCardRow(i)
              "
                                    (mouseover)="
                activeDD = !activeDDOpen ? row['ccardTransId'] : activeDD;
                row['activeDD'] = true;
                selectedTransaction = row;
                hoverCardRow(i)
              "
                                    *ngIf="!row['title']"
                                    [class.DISABLED]="
                row['status'] === 'TEMP_COMMAND' ||
                row['status'] === 'PERMANENT_COMMAND'
              "
                                    [class.IGNORE]="
                row['status'] === 'ADD_ITEM_IGNORE' ||
                row['status'] === 'HASH_MATCH_IGNORE' ||
                row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                                row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE'
              "
                                    [class.activeBg]="activeDD === row['ccardTransId']"
                                    [class.active]="selectedTransaction === row"
                                    class="row"
                                    tabindex="1"
                            >
                                <div>
                                    <p-checkbox (onChange)="
                    row['selcetFile'] = !row['selcetFile']; checkSelected()
                  "
                                                [binary]="true"
                                                [disabled]="row['disabled']"
                                                [ngModel]="row['selcetFile']"
                                                checkboxIcon="fa fa-check"
                                    >
                                    </p-checkbox>
                                </div>
                                <div class="text-ellipsis">
                                    <div
                                            [innerHTML]="
                    (row['transDate'] | date: 'dd/MM/yy') || '-'
                      | highlight: queryString
                  "
                                            [ngStyle]="{
                    'margin-right': row['transDate'] !== null ? '0' : '12%'
                  }"
                                            [pTooltip]="row['transDate'] | date: 'dd/MM/yy'"
                                            class="text-ellipsis"
                                    ></div>
                                </div>
                                <div class="text-ellipsis">
                                    <div #spanElement1
                                         [innerHTML]="
                    row['creditCardNickname'] || '-' | highlight: queryString
                  "
                                         [ngStyle]="{
                    'margin-right':
                      row['creditCardNickname'] !== null ? '0' : '12%'
                  }"
                                         [pTooltip]="row['creditCardNickname']"
                                         [tooltipDisabled]="
                              spanElement1.offsetWidth >= spanElement1.scrollWidth
                            "
                                         class="text-ellipsis"
                                         tooltipPosition="top"
                                    ></div>
                                </div>
                                <div class="text-ellipsis">
                                    <div [innerHTML]="((row['nextCycleDate']| date:'dd/MM/yy') || '-')| highlight: queryString"
                                         [ngStyle]="{'margin-right': row['nextCycleDate'] !== null ? '0' : '12%'}"
                                         [pTooltip]="(row['nextCycleDate']| date:'dd/MM/yy')"
                                         class="text-ellipsis"></div>
                                </div>
                                <div>
                                    <i
                                            [class.fa-info-circle]="
                    row['secDesc'] && row['secDesc'] !== row['mainDesc']
                  "
                                            [escape]="false"
                                            [pTooltip]="appearsInBankTooltip(row)"
                                            class="fa fa-fw"
                                            style="
                    flex: 0 0 16px;
                    -ms-flex: 0 0 16px;
                    color: #5c728c;
                    font-size: 80%;
                  "
                                            tooltipPosition="bottom"
                                    ></i>
                                </div>

                                <div class="text-ellipsis">
                                    <div
                                        #transDesc
                                        [class.seamless-edit-prepare]="
                    row['status'] !== 'ADD_ITEM_IGNORE' &&
                    row['status'] !== 'HASH_MATCH_IGNORE' &&
                    row['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                                        row['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                    row['status'] !== 'CUSTOMER_IGNORE' && row['status'] !== 'COMPANY_IGNORE' &&
                    row['status'] !== 'TEMP_COMMAND' &&
                    row['status'] !== 'PERMANENT_COMMAND'
                  "
                                        [innerHTML]="row['mainDesc'] | highlight: queryString"
                                        [pTooltip]="row['mainDesc']"
                                        class="text-ellipsis"
                                        style="flex: 1"
                                        tooltipPosition="top"
                                    ></div>
                                    <input
                                        #descInputRef
                                        (blur)="sharedComponent.mixPanelEvent('change description'); submitChanges(row)"
                                        (focus)="startDescriptionEditAt(row, descInputRef)"
                                        (keyup.enter)="sharedComponent.mixPanelEvent('change description'); submitChanges(row)"
                                        (keyup.esc)="cancelChanges(); descInputRef.blur()"
                                        *ngIf="
                    row['status'] !== 'ADD_ITEM_IGNORE' &&
                    row['status'] !== 'HASH_MATCH_IGNORE' &&
                    row['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                                        row['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                    row['status'] !== 'CUSTOMER_IGNORE' && row['status'] !== 'COMPANY_IGNORE' &&
                    row['status'] !== 'TEMP_COMMAND' &&
                    row['status'] !== 'PERMANENT_COMMAND'
                  "
                                        [(ngModel)]="row['mainDesc']"
                                        [pTooltip]="row['mainDesc']"
                                        [showDelay]="300"
                                        appendTo="body"
                                        placeholder="{{
                    'expressions.transactionDescription' | translate
                  }}"
                                        style="flex: 1"
                                        tooltipPosition="top"
                                        type="text"
                                    />
                                </div>
                                <div>
                                    <div
                                            *ngIf="!bankProcessTransType"
                                            [ngStyle]="{ 'margin-right': '12%' }"
                                    >
                                        -
                                    </div>
                                    <div
                                            *ngIf="bankProcessTransType"
                                            class="bankProcessTransTypeCol"
                                    >
                                        <ng-container
                                                *ngIf="row['splitMultiPayment'] && !(row['journalPaymentPrompt'] && row['splitMultiPayment'] && !row['transTypeCode'] &&(row['status'] === 'TEMP_COMMAND' || row['status'] === 'PERMANENT_COMMAND')); else showDD">
                                            <div style="display: flex; align-items: center">
                                                <div style="width: 22px; display: flex">&nbsp;</div>
                                                <div
                                                        style="
                          color: #9b9a9a !important;
                          position: relative;
                          margin-left: 30px;
                          overflow: hidden;
                        "
                                                >
                                                    פ.מפוצלת
                                                </div>
                                            </div>
                                        </ng-container>
                                        <ng-template #showDD>
                                            <div class="dropdownflex" style="display: flex; align-items: center">
                                                <div style="width: 22px; display: flex">
                                                    <img
                                                            *ngIf="row['transTypeDefaultAlert']"
                                                            [matTooltip]="'ברירת מחדל, לא ע״פ היסטוריה'"
                                                            class="infoTooltip"
                                                            height="15"
                                                            matTooltipClass="allow-cr"
                                                            matTooltipPosition="below"
                                                            src="/assets/images/infoTooltip.png"
                                                            style="margin-left: 5px"
                                                            width="15"
                                                    />
                                                </div>

                                                <p-dropdown
                                                    #formDropdowns
                                                    (onChange)="sharedComponent.mixPanelEvent('change sug tnua');selectTransTypeCode(row)"
                                                    [(ngModel)]="row['transTypeCode']"
                                                    [autoDisplayFirst]="false"
                                                    [disabled]="
                                                     (row['journalPaymentPrompt'] && row['splitMultiPayment'] && !row['transTypeCode'] &&(row['status'] === 'TEMP_COMMAND' || row['status'] === 'PERMANENT_COMMAND'))
                                                     ||
                          row['status'] === 'TEMP_COMMAND' ||
                          row['status'] === 'PERMANENT_COMMAND' ||
                          row['status'] === 'ADD_ITEM_IGNORE' ||
                          row['status'] === 'HASH_MATCH_IGNORE' ||
                          row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                                                    row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                          row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE'
                        "
                                                    [dropdownIcon]="'fa fa-fw fa-caret-down'"


                                                    [options]="row['transTypeDefinedArr']"
                                                    [scrollHeight]="'185px'"
                                                    [styleClass]="'cardsDDInputStyle transTypeDefinedArrStyle'"
                                                    appendTo="body"
                                                    panelStyleClass="company-customer-dropdown-panel cardsDD card234"
                                                    placeholder="בחירה"

                                                >
                                                    <ng-template let-item pTemplate="selectedItem">
                          <span
                              #spanElement
                              [innerHTML]="
                              (item.onlyName ? item.label : item.value)
                                | highlight: queryString
                            "
                              [pTooltip]="item.label + ' ' + item.value"
                              [tooltipDisabled]="
                              spanElement.offsetWidth >= spanElement.scrollWidth
                            "
                              style="
                              vertical-align: middle;
                              display: block;
                              white-space: nowrap;
                              overflow: hidden;
                              text-overflow: ellipsis;
                            "
                              tooltipPosition="top"
                          ></span>
                                                    </ng-template>
                                                    <ng-template let-item pTemplate="item">
                                                        <div class="p-helper-clearfix cust-item">
                                                            <div
                                                                    style="
                                display: flex;
                                align-items: center;
                                flex-direction: row;
                                justify-content: space-between;
                              "
                                                            >
                              <span class="text-ellipsis">{{
                                  item.label
                                  }}</span>
                                                                <span
                                                                        *ngIf="!item.onlyName"
                                                                        class="text-ellipsis"
                                                                        style="
                                  width: 60px;
                                  display: inline-block;
                                  margin-right: 10px;
                                "
                                                                >{{ item.value }}</span
                                                                >
                                                            </div>
                                                        </div>
                                                    </ng-template>
                                                    <ng-template pTemplate="empty">
                                                        <div
                                                                class="p-helper-clearfix" style="display: block;
    white-space: nowrap;
    overflow: hidden;
    line-height: 33px;
    text-overflow: ellipsis;
    margin: 0px 14px !important;">
                                                            לא נמצאו תוצאות
                                                        </div>
                                                    </ng-template>
                                                    <ng-template pTemplate="emptyfilter">
                                                        <div
                                                                class="p-helper-clearfix" style="display: block;
    white-space: nowrap;
    overflow: hidden;
    line-height: 33px;
    text-overflow: ellipsis;
    margin: 0px 14px !important;">
                                                            לא נמצאו תוצאות
                                                        </div>
                                                    </ng-template>
                                                </p-dropdown>
                                            </div>
                                        </ng-template>
                                    </div>
                                </div>
                                <div class="text-ellipsis">
                                    <ng-container *ngIf="row['fileId'] === null; else fileId">
                                        <mat-icon
                                                (click)="
                      row['status'] !== 'TEMP_COMMAND' &&
                      row['status'] !== 'PERMANENT_COMMAND'
                        ? (showArchiveModal = {
                            paymentType: row['paymentType'],
                            paymentId: row['ccardTransId']
                          })
                        : null
                    "
                                                style="width: 14px; vertical-align: middle; color: #141414"
                                                svgIcon="doc"
                                        ></mat-icon>
                                    </ng-container>

                                    <ng-template #fileId>
                                        <mat-icon
                                                (click)="
                      showArchiveModal_TransId =
                        row['status'] === 'TEMP_COMMAND' ||
                        row['status'] === 'PERMANENT_COMMAND'
                          ? false
                          : {
                              paymentType: row['paymentType'],
                              paymentId: row['ccardTransId']
                            };
                      showDocumentListStorageData(row['fileId'])
                    "
                                                style="width: 14px; vertical-align: middle; color: #038ed6"
                                                svgIcon="doc"
                                        ></mat-icon>
                                    </ng-template>
                                </div>
                                <div
                                        [class.sum-credit]="!row['hova']"
                                        [class.sum-debit]="row['hova']"
                                        class="text-ellipsis"
                                >
                                    <app-sum-view
                                            [highlight]="queryString"
                                            [ngStyle]="{
                    'margin-right': row['originalTotal'] !== null ? '0' : '12%'
                  }"
                                            [sum]="row['originalTotal']"
                                    ></app-sum-view>
                                    &nbsp;
                                    {{row.originalCurrencyId | currencySymbol}}
                                </div>
                                <div
                                        [class.sum-credit]="!row['hova']"
                                        [class.sum-debit]="row['hova']"
                                        class="text-ellipsis"
                                >
                                    <app-sum-view
                                            [highlight]="queryString"
                                            [ngStyle]="{
                    'margin-right': row['transTotal'] !== null ? '0' : '12%'
                  }"
                                            [sum]="row['transTotal']"
                                    ></app-sum-view>
                                    &nbsp;
                                    {{row.currencyId | currencySymbol}}
                                </div>

                                <div class="text-ellipsis dropdownflex" style="justify-content: space-between">
                                    <!--                            <div class="text-ellipsis btnDDArrowAfter btnDDArrow"-->
                                    <!--                                 (click)="(row['status']!=='DISABLED' && row['status']!=='IGNORE') ? companyGetCustomer(row) : null"-->
                                    <!--                                 style="flex: 1;position: relative;"-->
                                    <!--                                 [pTooltip]="row['custName']" tooltipPosition="top"-->
                                    <!--                                 [innerHTML]="(row['custName'] || '&nbsp;')| highlight: queryString"></div>-->

                                    <ng-container
                                            *ngIf="row['splitMultiPayment'] && !(row.journalPaymentPrompt && row['custId']); else showDD">
                                        <div
                                                style="
                      color: #9b9a9a !important;
                      flex: 1;
                      position: relative;
                      margin-left: 30px;
                      overflow: hidden;
                    "
                                        >
                                            פקודה מפוצלת
                                        </div>
                                    </ng-container>
                                    <ng-template #showDD>
                                        <ng-container *ngIf="!row['custInactive']">
                                            <div
                                                    *ngIf="
                        !customerCustList.length ||
                        activeDD !== row['ccardTransId']
                      "
                                                    style="
                        flex: 1;
                        position: relative;
                        display: flex;
                        margin-left: 30px;
                        overflow: hidden;
                      "
                                            >
                                                <div
                                                        [innerHTML]="
                          row['custName'] || '&nbsp;' | highlight: queryString
                        "
                                                        [pTooltip]="row['custName']"
                                                        class="text-ellipsis"
                                                        style="flex: 1; overflow: hidden"
                                                        tooltipPosition="top"
                                                ></div>
                                                <div
                                                        class="p-dropdown-trigger p-state-default p-corner-right"
                                                >
                        <span
                                class="p-dropdown-trigger-icon p-clickable fa fa-fw fa-caret-down"
                        ></span>
                                                </div>
                                            </div>

                                            <app-dropdown-wrap
                                                #formDropdownsCustomerCustList
                                                (onChange)="selectCust(row['cust'])"
                                                (onHide)="hideDropCartis(); activeDDOpen = false"
                                                (onShow)="
                        oppositeCustHistory(row, formDropdownsCustomerCustList);
                        activeDDOpen = row['ccardTransId']
                      "
                                                *ngIf="
                        customerCustList.length &&
                        activeDD === row['ccardTransId']
                      "
                                                [(ngModel)]="row['cust']"
                                                [autoDisplayFirst]="false"
                                                [disabled]="
                                (row.journalPaymentPrompt && row['custId'] && row['splitMultiPayment']) ||
                        row['status'] === 'TEMP_COMMAND' ||
                        row['status'] === 'PERMANENT_COMMAND' ||
                        row['status'] === 'ADD_ITEM_IGNORE' ||
                        row['status'] === 'HASH_MATCH_IGNORE' ||
                        row['status'] === 'BIZIBOX_MATCH_IGNORE' ||
                                                row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ||
                        row['status'] === 'CUSTOMER_IGNORE' || row['status'] === 'COMPANY_IGNORE'
                      "
                                                [dropdownIcon]="'fa fa-fw fa-caret-down'"
                                                [filter]="true"
                                                [options]="customerCustList"
                                                [placeholder]="
                        row['cust'] ? row['cust'].cartisName : 'בחירה'
                      "
                                                [styleClass]="'cardsDDInputStyle'"
                                                [style]="{ width: '100%', flex: '1' }"
                                                [virtualScrollItemSize]="33"
                                                [virtualScroll]="true"
                                                appendTo="body"
                                                dataKey="custId"
                                                emptyFilterMessage="לא נמצאו תוצאות"
                                                filterBy="lName,custId"
                                                optionDisabled="disabled"
                                                optionLabel="custId"
                                                panelStyleClass="company-customer-dropdown-panel cardsDD card234 cardsDDVirtualScroll"
                                            >
                                                <ng-template let-item pTemplate="selectedItem">
                            <span
                                #spanElement
                                [innerHTML]="
                                item.cartisName || '&nbsp;'
                                  | highlight: queryString
                              "
                                [pTooltip]="item.cartisName"
                                [tooltipDisabled]="
                                spanElement.offsetWidth >=
                                spanElement.scrollWidth
                              "
                                style="
                                vertical-align: middle;
                                display: block;
                                white-space: nowrap;
                                overflow: hidden;
                                text-overflow: ellipsis;
                              "
                                tooltipPosition="top"
                            ></span>
                                                </ng-template>
                                                <ng-template let-item pTemplate="item">
                                                    <ng-container *ngIf="item.title">
                                                        <div class="p-helper-clearfix" style="
    font-weight: 700;
    padding: 0;
    font-size: 16px;
">
                                                            <span> כרטיסים ששוייכו בעבר: </span>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="!item.title">
                                                        <div
                                                                [ngStyle]="
                            row['card'] &&
                            row['card'].izuCustId === item.custId
                              ? { opacity: '0.4', cursor: 'default' }
                              : {}
                          "
                                                                class="p-helper-clearfix"
                                                                style="flex-flow: row wrap"
                                                        >
                                                            <div
                                                                    [class.bottom9]="item.isLastHistory"
                                                                    class="p-helper-clearfix"
                                                            >
                                                                <div>
                              <span class="text-ellipsis">{{
                                  item.cartisName
                                  }}</span>
                                                                </div>
                                                            </div>
                                                            <div
                                                                    *ngIf="
                              row['card'] &&
                              row['card'].izuCustId === item.custId
                            "
                                                                    style="
                              flex: none;
                              width: 100%;
                              height: auto;
                              line-height: normal;
                            "
                                                            >
                                                                הכרטיס כבר נבחר בכרטיס אשראי
                                                            </div>
                                                            <div
                                                                    *ngIf="item.isLastHistory"
                                                                    style="
                              height: 1px;
                              background: #cacaca;
                              padding: 0;
                              position: absolute;
                              bottom: -2px;
                              right: 0;
                              left: 0;
                              z-index: 999;
                            "
                                                            ></div>
                                                        </div>
                                                    </ng-container>
                                                </ng-template>
                                                <ng-template pTemplate="empty">
                                                    <div
                                                            class="p-helper-clearfix"
                                                            style="font-size: 0.95em; padding: 0.3em 1em"
                                                    >
                                                        <!--                                                        <ng-container-->
                                                        <!--                                                                *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                                                        <!--                                                            <div>לא מצאת את הכרטיס שחיפשת?</div>-->
                                                        <!--                                                            <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                        <!--                                                            <button class="button-link"-->
                                                        <!--                                                                    style="padding: 0; font-size: inherit;"-->
                                                        <!--                                                                    (click)="getCompanyCustomerDetailsTimer(); $event.stopPropagation()">-->
                                                        <!--                                                                ולחצו על-->
                                                        <!--                                                                רענון הנתונים-->
                                                        <!--                                                            </button>-->
                                                        <!--                                                        </ng-container>-->
                                                        <ng-container>
                                                            <!--                                                            <div>לא מצאת את הכרטיס?</div>-->
                                                            <!--                                                            <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                            <!--                                                            <div>-->
                                                            <!--                                                                ובנתיים-->
                                                            <!--                                                                <button class="button-link"-->
                                                            <!--                                                                        style="padding: 0; font-size: inherit; text-decoration: underline"-->
                                                            <!--                                                                        (click)="setValCartis(formDropdowns, row);  getCompanyCustomerDetailsTimer();">-->
                                                            <!--                                                                    לחצו לעדכון-->
                                                            <!--                                                                </button>-->
                                                            <!--                                                            </div>-->

                                                            <div>לא מצאתם את הכרטיס שחיפשתם?</div>
                                                            <div>צרו כרטיס חדש בחשבשבת.</div>
                                                            <div>
                                                                בינתיים ניתן לעדכן ידנית את
                                                                <strong style="font-weight: 700">
                                                                    מפתח הכרטיס במדויק
                                                                </strong>
                                                                <br/>
                                                                עד שנמשוך את פרטי הכרטיס.
                                                            </div>
                                                            <button
                                                                    (click)="
                                    setValCartis(
                                      formDropdownsCustomerCustList,
                                      row
                                    );
                                    getCompanyCustomerDetailsTimer()
                                  "
                                                                    class="button-link"
                                                                    style="
                                    padding: 0;
                                    font-size: inherit;
                                    text-decoration: underline;
                                  "
                                                            >
                                                                לעדכון ידני לחצו פה
                                                            </button>
                                                        </ng-container>

                                                        <!--                                                        <ng-container *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                                                        <!--                                                            <div>לא מצאתם את הכרטיס שחיפשתם?</div>-->
                                                        <!--                                                            <div>צרו כרטיס חדש בחשבשבת.</div>-->
                                                        <!--                                                            <div>-->
                                                        <!--                                                                בנתיים ניתן לעדכן ידנית עד שנמשוך <br>-->
                                                        <!--                                                                את פרטי הכרטיס.-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                            <button class="button-link" style="padding: 0; font-size: inherit;"-->
                                                        <!--                                                                    (click)="setValCartis(formDropdowns, row);formDropdowns.putStyle(); getCompanyCustomerDetailsTimer(); $event.stopPropagation()">-->
                                                        <!--                                                                לעדכון ידני לחצו פה-->
                                                        <!--                                                            </button>-->
                                                        <!--                                                        </ng-container>-->

                                                        <!--                                                        <ng-template #loader>-->
                                                        <!--                                                            <div style="height: 84px;">-->
                                                        <!--                                                                <div class="loaderPercent blueCircle"-->
                                                        <!--                                                                     style="background: #e6e5e5;">-->
                                                        <!--                                                                    <div class="circle"></div>-->
                                                        <!--                                                                </div>-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                            <div style="-->
                                                        <!--    z-index: 999;-->
                                                        <!--    position: absolute;-->
                                                        <!--    bottom: 26px;-->
                                                        <!--    font-size: 14.5px;-->
                                                        <!--    text-align: center;-->
                                                        <!--    font-weight: 600;-->
                                                        <!--    left: 0;-->
                                                        <!--    right: 0;-->
                                                        <!--">-->
                                                        <!--                                                                מתבצע סינכרון-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                        </ng-template>-->
                                                    </div>
                                                </ng-template>
                                                <ng-template pTemplate="emptyfilter">
                                                    <div
                                                            class="p-helper-clearfix"
                                                            style="font-size: 0.95em; padding: 0.3em 1em"
                                                    >
                                                        <!--                                                        <ng-container-->
                                                        <!--                                                                *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                                                        <!--                                                            <div>לא מצאת את הכרטיס שחיפשת?</div>-->
                                                        <!--                                                            <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                        <!--                                                            <button class="button-link"-->
                                                        <!--                                                                    style="padding: 0; font-size: inherit;"-->
                                                        <!--                                                                    (click)="getCompanyCustomerDetailsTimer(); $event.stopPropagation()">-->
                                                        <!--                                                                ולחצו על-->
                                                        <!--                                                                רענון הנתונים-->
                                                        <!--                                                            </button>-->
                                                        <!--                                                        </ng-container>-->
                                                        <ng-container>
                                                            <!--                                                            <div>לא מצאת את הכרטיס?</div>-->
                                                            <!--                                                            <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                            <!--                                                            <div>-->
                                                            <!--                                                                ובנתיים-->
                                                            <!--                                                                <button class="button-link"-->
                                                            <!--                                                                        style="padding: 0; font-size: inherit; text-decoration: underline"-->
                                                            <!--                                                                        (click)="setValCartis(formDropdowns, row);  getCompanyCustomerDetailsTimer();">-->
                                                            <!--                                                                    לחצו לעדכון-->
                                                            <!--                                                                </button>-->
                                                            <!--                                                            </div>-->

                                                            <div>לא מצאתם את הכרטיס שחיפשתם?</div>
                                                            <div>צרו כרטיס חדש בחשבשבת.</div>
                                                            <div>
                                                                בינתיים ניתן לעדכן ידנית את
                                                                <strong style="font-weight: 700">
                                                                    מפתח הכרטיס במדויק
                                                                </strong>
                                                                <br/>
                                                                עד שנמשוך את פרטי הכרטיס.
                                                            </div>
                                                            <button
                                                                    (click)="
                                    setValCartis(
                                      formDropdownsCustomerCustList,
                                      row
                                    );
                                    getCompanyCustomerDetailsTimer()
                                  "
                                                                    class="button-link"
                                                                    style="
                                    padding: 0;
                                    font-size: inherit;
                                    text-decoration: underline;
                                  "
                                                            >
                                                                לעדכון ידני לחצו פה
                                                            </button>
                                                        </ng-container>

                                                        <!--                                                        <ng-container *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                                                        <!--                                                            <div>לא מצאתם את הכרטיס שחיפשתם?</div>-->
                                                        <!--                                                            <div>צרו כרטיס חדש בחשבשבת.</div>-->
                                                        <!--                                                            <div>-->
                                                        <!--                                                                בנתיים ניתן לעדכן ידנית עד שנמשוך <br>-->
                                                        <!--                                                                את פרטי הכרטיס.-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                            <button class="button-link" style="padding: 0; font-size: inherit;"-->
                                                        <!--                                                                    (click)="setValCartis(formDropdowns, row);formDropdowns.putStyle(); getCompanyCustomerDetailsTimer(); $event.stopPropagation()">-->
                                                        <!--                                                                לעדכון ידני לחצו פה-->
                                                        <!--                                                            </button>-->
                                                        <!--                                                        </ng-container>-->

                                                        <!--                                                        <ng-template #loader>-->
                                                        <!--                                                            <div style="height: 84px;">-->
                                                        <!--                                                                <div class="loaderPercent blueCircle"-->
                                                        <!--                                                                     style="background: #e6e5e5;">-->
                                                        <!--                                                                    <div class="circle"></div>-->
                                                        <!--                                                                </div>-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                            <div style="-->
                                                        <!--    z-index: 999;-->
                                                        <!--    position: absolute;-->
                                                        <!--    bottom: 26px;-->
                                                        <!--    font-size: 14.5px;-->
                                                        <!--    text-align: center;-->
                                                        <!--    font-weight: 600;-->
                                                        <!--    left: 0;-->
                                                        <!--    right: 0;-->
                                                        <!--">-->
                                                        <!--                                                                מתבצע סינכרון-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                        </ng-template>-->
                                                    </div>
                                                </ng-template>

                                            </app-dropdown-wrap>

                                        </ng-container>

                                        <ng-container *ngIf="row['custInactive']">
                                            <div>
                                                <div
                                                        style="
                          flex: 1;
                          position: relative;
                          display: flex;
                          margin-left: 30px;
                          overflow: hidden;
                        "
                                                >
                                                    <div
                                                            [innerHTML]="
                            row['custName'] || '&nbsp;' | highlight: queryString
                          "
                                                            [pTooltip]="row['custName']"
                                                            class="text-ellipsis"
                                                            style="flex: 1; overflow: hidden"
                                                            tooltipPosition="top"
                                                    ></div>
                                                    <div
                                                            class="p-dropdown-trigger p-state-default p-corner-right"
                                                    >
                          <span
                                  class="p-dropdown-trigger-icon p-clickable fa fa-fw fa-caret-down"
                          ></span>
                                                    </div>
                                                </div>
                                                <div
                                                        style="
                          font-size: 13px;
                          font-weight: bold;
                          line-height: 13px;
                          padding-bottom: 1px;
                        "
                                                >
                                                    נעול בהתאם לסוג תנועה
                                                </div>
                                            </div>
                                        </ng-container>
                                    </ng-template>

                                    <div
                                            (click)="journalTransComponent.docNote.show(row)"
                                            (mouseleave)="row['note'] ? note.hide() : null"
                                            (mouseover)="row['note'] ? openNote(note, $event, row) : null"
                                            [ngClass]="'note-' + (row['note'] ? 'active' : 'none')"
                                            style="margin-left: 27px !important"
                                    ></div>
                                </div>
                                <div class="clearOpacity">
                                    <div style="width: 100%;height: 100%;display: flex;align-items: center;justify-content: center;">
                                        <!--                                        (click)="-->
                                        <!--                                        row['status'] === 'RECHECK'-->
                                        <!--                                        ? updateCheckedTranses(row)-->
                                        <!--                                        : null-->
                                        <!--                                        "-->
                                        <!--                                        || row['status'] === 'CHECKED'-->
                                        <img
                                                *ngIf="
                      row['status'] === 'RECHECK'
                    "
                                                [ngStyle]="{
                      opacity: row['status'] === 'CHECKED' ? '0.4' : '1'
                    }"
                                                [pTooltip]="
                      row['status'] === 'RECHECK'
                        ? 'אוכלס אוטומטי'
                        : 'לבדיקה חוזרת. הנתונים אושרו'
                    "
                                                class="left-space"
                                                src="/assets/images/indDefaultBudget.png"
                                                style="
                      height: 18px !important;
                      width: 18px !important;
                      vertical-align: middle;
                    "
                                                tooltipPosition="top"
                                        />

                                        <img
                                                *ngIf="row['status'] === 'BIZIBOX_MATCH_IGNORE' || row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans'"
                                                [pTooltip]="row['status'] === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' ? 'תנועה לא נמצאה בחשבשבת' : 'לא לטיפול מהתאמה בביזיבוקס'"
                                                [tooltipStyleClass]="'p-tooltip-one-line'"
                                                appendTo="body"
                                                class="left-space"
                                                src="/assets/images/CUSTOMER_IGNORE.png"
                                                style="
                      height: 18px !important;
                      width: 18px !important;
                      vertical-align: middle;
                    "
                                        />

                                        <img
                                                *ngIf="
                      row['status'] === 'CUSTOMER_IGNORE' &&
                      (row['ignoreModifiedDate'] | date: 'dd/MM/yyyy') ===
                        '01/01/1980'
                    "
                                                [tooltipStyleClass]="'p-tooltip-one-line'"
                                                appendTo="body"
                                                class="left-space"
                                                pTooltip="נסגר ע״י פעולה נגדית בהעברה בין חשבונותיי"
                                                src="/assets/images/CUSTOMER_IGNORE.png"
                                                style="
                      height: 18px !important;
                      width: 18px !important;
                      vertical-align: middle;
                    "
                                        />
                                        <img
                                                *ngIf="
                      row['status'] === 'COMPANY_IGNORE'
                    "
                                                [tooltipStyleClass]="'p-tooltip-one-line'"
                                                appendTo="body"
                                                class="left-space"
                                                pTooltip="לא לטיפול לפי הגדרה מנתוני חברה"
                                                src="/assets/images/CUSTOMER_IGNORE.png"
                                                style="
                      height: 18px !important;
                      width: 18px !important;
                      vertical-align: middle;
                    "
                                        />
                                        <img
                                                *ngIf="
                      row['status'] === 'CUSTOMER_IGNORE' &&
                      (row['ignoreModifiedDate'] | date: 'dd/MM/yyyy') !==
                        '01/01/1980'
                    "
                                                [tooltipStyleClass]="'p-tooltip-one-line'"
                                                appendTo="body"
                                                class="left-space"
                                                pTooltip="התנועה הועברה ל &quot;לא לטיפול &quot; ב- {{
                      row['ignoreModifiedDate'] | date: 'dd/MM/yy'
                    }} {{ row['ignoreModifiedBy'] }}"
                                                src="/assets/images/CUSTOMER_IGNORE.png"
                                                style="
                      height: 18px !important;
                      width: 18px !important;
                      vertical-align: middle;
                    "
                                        />

                                        <mat-icon
                                                *ngIf="
                      row['status'] !== 'EMPTY' &&
                      row['status'] !== 'RECHECK' &&
                      row['status'] !== 'CHECKED' &&
                      row['status'] !== 'CUSTOMER_IGNORE' &&
                      row['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                           row['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                      row['status'] !== 'COMPANY_IGNORE'
                    "
                                                [ngStyle]="{
                      color:
                        row['status'] === 'ADD_ITEM_IGNORE' ||
                        row['status'] === 'HASH_MATCH_IGNORE'
                          ? '#4f4e4e'
                          : row['status'] === 'DONE' ||
                            row['status'] === 'RECHECK'
                          ? '#022258'
                          : '#a5a3a3',
                      width:
                        row['status'] === 'ADD_ITEM_IGNORE' ||
                        row['status'] === 'HASH_MATCH_IGNORE'
                          ? '14px'
                          : '17px'
                    }"
                                                [pTooltip]="
                      row['status'] === 'HASH_MATCH_IGNORE'
                        ? 'לא לטיפול מהתאמה בחשבשבת'
                        : row['status_desc']
                    "
                                                [svgIcon]="
                      row['status'] === 'TEMP_COMMAND'
                        ? 'check-solid'
                        : row['status'] === 'PERMANENT_COMMAND'
                        ? 'check-double-solid'
                        : row['status'] === 'RECHECK'
                        ? 'RECHECK'
                        : row['status'] === 'ADD_ITEM_IGNORE' ||
                          row['status'] === 'HASH_MATCH_IGNORE'
                        ? 'close'
                        : 'tick'
                    "
                                                class="left-space"
                                                style="width: 100%; height: 100%; vertical-align: middle"
                                                tooltipPosition="top"
                                        >
                                        </mat-icon>
                                    </div>

                                    <div style="width: 100%; height: 100%; text-align: center">

                                        <ng-container
                                                *ngIf="
                 (     row['status'] !== 'TEMP_COMMAND' &&
                      row['status'] !== 'PERMANENT_COMMAND' &&
                      row['status'] !== 'ADD_ITEM_IGNORE' &&
                      row['status'] !== 'HASH_MATCH_IGNORE' &&
                      row['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                                            row['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                      row['status'] !== 'CUSTOMER_IGNORE' &&
                      row['status'] !== 'COMPANY_IGNORE')
                      ||
                      (row['journalPaymentPrompt'] && row['splitMultiPayment'] && !row['transTypeCode'] &&(row['status'] === 'TEMP_COMMAND' || row['status'] === 'PERMANENT_COMMAND'))
                    ">

                                            <ng-container
                                                    *ngIf="(row['journalPaymentPrompt'] && row['splitMultiPayment'] && !row['transTypeCode'] &&(row['status'] === 'TEMP_COMMAND' || row['status'] === 'PERMANENT_COMMAND')); else defIcons">
                                                		<span
                                                                style="display: flex;"

                                                        >



                                            <span style="position: relative">
                                                	<mat-icon
                                                            [ngStyle]="{ color: '#1b99da', width: '32px' }"
                                                            [svgIcon]="'journalPaymentPrompt_journalCount'"
                                                            style="width: 100%; height: 100%; vertical-align: middle;"
                                                    >

										</mat-icon>

                                                				<i *ngIf="(row.journalPaymentPrompt && row.journalCount)"
                                                                   style="
position: absolute;left: 1px;top: 2px;color: #fff;font-size: 12px;font-weight: 600;width: 14px;text-align: center;
">{{row.journalCount}}</i>
                                            </span>


										</span>
                                            </ng-container>
                                            <ng-template #defIcons>

										<span
                                                (click)="editReceipt(row)"
                                                [pTooltip]="
                                                !row.journalPaymentPrompt ?
                                                'עריכת/פיצול פקודה'
:

(!row.journalCount ? 'יצירת פקודה מרובה' : 'עריכת / ביטול פקודה מרובה')

"
                                                style="display: flex;cursor: pointer"
                                                tooltipPosition="bottom"
                                        >
												<img *ngIf="!row.journalPaymentPrompt"
                                                     src="/assets/images/journalPaymentPromptFalse.png">

										<img *ngIf="row.journalPaymentPrompt && !row.journalCount && !(row['journalPaymentPrompt'] && row['splitMultiPayment'] && !row['transTypeCode'] &&(row['status'] === 'TEMP_COMMAND' || row['status'] === 'PERMANENT_COMMAND'))"
                                             src="/assets/images/journalPaymentPrompt.png">
                                            <span *ngIf="(row.journalPaymentPrompt && row.journalCount)"
                                                  style="position: relative">
                                                	<mat-icon
                                                            [ngStyle]="{ color: '#1b99da', width: '32px' }"
                                                            [svgIcon]="'journalPaymentPrompt_journalCount'"
                                                            style="width: 100%; height: 100%; vertical-align: middle;"
                                                    >

										</mat-icon>

                                                				<i *ngIf="(row.journalPaymentPrompt && row.journalCount)"
                                                                   style="
position: absolute;left: 1px;top: 2px;color: #fff;font-size: 12px;font-weight: 600;width: 14px;text-align: center;
">{{row.journalCount}}</i>
                                            </span>


										</span>
                                            </ng-template>


                                        </ng-container>
                                        <div style="display:none">{{row|json}}</div>
                                    </div>
                                    <!--								<i-->
                                    <!--										(click)="-->
                                    <!--                    onScrollCubes(i);-->
                                    <!--                    tooltipEditFile = row;-->
                                    <!--                    tooltipEdit2.toggle($event);-->
                                    <!--                    tooltipEdit2.overlayVisible-->
                                    <!--                      ? (selectedTransaction = row)-->
                                    <!--                      : null-->
                                    <!--                  "-->
                                    <!--										class="fas fa-ellipsis-v"-->
                                    <!--								></i>-->
                                </div>
                            </div>
                            <div *ngIf="row['title']" class="row title">
                                <div>&nbsp;</div>
                                <div class="text-ellipsis">
                                    מחזור חיוב

                                    {{ row['nextCycleDate'] | date: 'dd/MM/yy' }}
                                </div>
                                <div class="text-ellipsis">&nbsp;</div>

                                <div>&nbsp;</div>
                                <div class="text-ellipsis">&nbsp;</div>
                                <div class="text-ellipsis">&nbsp;</div>
                                <div class="text-ellipsis">&nbsp;</div>
                                <div class="text-ellipsis">&nbsp;</div>

                                <div class="text-ellipsis">&nbsp;</div>
                                <div class="clearOpacity">
                                    <div style="width: 100%; height: 100%">&nbsp;</div>
                                    <div style="width: 100%; height: 100%; text-align: center">
                                        &nbsp;
                                    </div>
                                </div>
                            </div>
                            <div class="line-sep"></div>
                        </ng-container>

                        <p-overlayPanel
                            #note
                            [hideTransitionOptions]="'0ms'"
                            [showTransitionOptions]="'0ms'"
                            [style]="{
							'margin-left':  '47px',
							'margin-top':  openNoteData && !openNoteData?.isBottom ? '-137px !important' : '0  !important'
            }"
                            appendTo="body"
                            styleClass="notePanel"
                        >
                            <p *ngIf="openNoteData">
                                {{ openNoteData?.note }}
                            </p>
                        </p-overlayPanel>
                        <!--					<p-overlayPanel-->
                        <!--							#tooltipEdit2-->
                        <!--							[style]="{-->

                        <!--										    'margin-left': '28px',-->
                        <!--										    'margin-top': '7px !important',-->
                        <!--                    'width': 'auto'-->
                        <!--                  }"-->
                        <!--							appendTo="body"-->
                        <!--							styleClass="tooltip-bottom tooltip-acc-deviation tooltip-daily-edit overlayPanelRightClick"-->
                        <!--					>-->
                        <!--						<ng-container *ngIf="tooltipEditFile">-->
                        <!--							<ul style="width: 185px">-->
                        <!--								<li-->
                        <!--										(click)="-->
                        <!--                    journalTransComponent.docToSend.show(-->
                        <!--                      tooltipEditFile.fileId-->
                        <!--                    );-->
                        <!--                    tooltipEdit2.hide()-->
                        <!--                  "-->
                        <!--								>-->
                        <!--									<div-->
                        <!--											class="p-helper-clearfix"-->
                        <!--											style="display: flex; display: -ms-flexbox"-->
                        <!--									>-->
                        <!--										<div style="align-self: center; flex: 20; -ms-flex: 20">-->
                        <!--											<mat-icon-->
                        <!--													style="width: 14px; vertical-align: middle"-->
                        <!--													svgIcon="send"-->
                        <!--											></mat-icon>-->
                        <!--										</div>-->
                        <!--										<p-->
                        <!--												class="nameAcc"-->
                        <!--												style="-->
                        <!--                        overflow: hidden;-->
                        <!--                        white-space: nowrap;-->
                        <!--                        text-overflow: ellipsis;-->
                        <!--                        flex: 85;-->
                        <!--                        -ms-flex: 85;-->
                        <!--                      "-->
                        <!--										>-->
                        <!--											שליחת הודעה ללקוח-->
                        <!--										</p>-->
                        <!--									</div>-->
                        <!--								</li>-->
                        <!--								<li-->
                        <!--										(click)="backToCare(tooltipEditFile); tooltipEdit2.hide()"-->
                        <!--										*ngIf="-->
                        <!--                    tooltipEditFile.status === 'ADD_ITEM_IGNORE' ||-->
                        <!--                    tooltipEditFile.status === 'CUSTOMER_IGNORE'-->
                        <!--                  "-->
                        <!--								>-->
                        <!--									<div-->
                        <!--											class="p-helper-clearfix"-->
                        <!--											style="display: flex; display: -ms-flexbox"-->
                        <!--									>-->
                        <!--										<div style="align-self: center; flex: 20; -ms-flex: 20">-->
                        <!--											<mat-icon-->
                        <!--													style="width: 14px; vertical-align: middle"-->
                        <!--													svgIcon="cancel"-->
                        <!--											></mat-icon>-->
                        <!--										</div>-->
                        <!--										<p-->
                        <!--												class="nameAcc"-->
                        <!--												style="-->
                        <!--                        overflow: hidden;-->
                        <!--                        white-space: nowrap;-->
                        <!--                        text-overflow: ellipsis;-->
                        <!--                        flex: 85;-->
                        <!--                        -ms-flex: 85;-->
                        <!--                      "-->
                        <!--										>-->
                        <!--											חזרה לטיפול-->
                        <!--										</p>-->
                        <!--									</div>-->
                        <!--								</li>-->

                        <!--								<li-->
                        <!--										(click)="-->
                        <!--                    showArchiveModal = {-->
                        <!--                      paymentType: tooltipEditFile.paymentType,-->
                        <!--                      paymentId: tooltipEditFile.ccardTransId-->
                        <!--                    };-->
                        <!--                    tooltipEdit2.hide()-->
                        <!--                  "-->
                        <!--										*ngIf="-->
                        <!--                    tooltipEditFile.fileId === null &&-->
                        <!--                    tooltipEditFile.status !== 'TEMP_COMMAND' &&-->
                        <!--                    tooltipEditFile.status !== 'PERMANENT_COMMAND' &&-->
                        <!--                    tooltipEditFile.status !== 'ADD_ITEM_IGNORE' &&-->
                        <!--                    tooltipEditFile.status !== 'HASH_MATCH_IGNORE' &&-->
                        <!--                    tooltipEditFile.status !== 'BIZIBOX_MATCH_IGNORE' &&-->
                        <!--                    tooltipEditFile.status !== 'CUSTOMER_IGNORE'-->
                        <!--                  "-->
                        <!--								>-->
                        <!--									<div-->
                        <!--											class="p-helper-clearfix"-->
                        <!--											style="display: flex; display: -ms-flexbox"-->
                        <!--									>-->
                        <!--										<div style="align-self: center; flex: 20; -ms-flex: 20">-->
                        <!--											<mat-icon-->
                        <!--													style="width: 14px; vertical-align: middle"-->
                        <!--													svgIcon="doc"-->
                        <!--											></mat-icon>-->
                        <!--										</div>-->
                        <!--										<p-->
                        <!--												class="nameAcc"-->
                        <!--												style="-->
                        <!--                        overflow: hidden;-->
                        <!--                        white-space: nowrap;-->
                        <!--                        text-overflow: ellipsis;-->
                        <!--                        flex: 85;-->
                        <!--                        -ms-flex: 85;-->
                        <!--                      "-->
                        <!--										>-->
                        <!--											קישור תמונה-->
                        <!--										</p>-->
                        <!--									</div>-->
                        <!--								</li>-->
                        <!--								<li-->
                        <!--										(click)="updateIgnore(tooltipEditFile); tooltipEdit2.hide()"-->
                        <!--										*ngIf="-->
                        <!--                    tooltipEditFile.status === 'CHECKED' ||-->
                        <!--                    tooltipEditFile.status === 'RECHECK' ||-->
                        <!--                    tooltipEditFile.status === 'DONE' ||-->
                        <!--                    tooltipEditFile.status === 'EMPTY'-->
                        <!--                  "-->
                        <!--								>-->
                        <!--									<div-->
                        <!--											class="p-helper-clearfix"-->
                        <!--											style="display: flex; display: -ms-flexbox"-->
                        <!--									>-->
                        <!--										<div style="align-self: center; flex: 20; -ms-flex: 20">-->
                        <!--											<mat-icon-->
                        <!--													style="width: 14px; vertical-align: middle"-->
                        <!--													svgIcon="closeIcon"-->
                        <!--											></mat-icon>-->
                        <!--										</div>-->
                        <!--										<p-->
                        <!--												class="nameAcc"-->
                        <!--												style="-->
                        <!--                        overflow: hidden;-->
                        <!--                        white-space: nowrap;-->
                        <!--                        text-overflow: ellipsis;-->
                        <!--                        flex: 85;-->
                        <!--                        -ms-flex: 85;-->
                        <!--                      "-->
                        <!--										>-->
                        <!--											לא לטיפול-->
                        <!--										</p>-->
                        <!--									</div>-->
                        <!--								</li>-->
                        <!--								<li (click)="tooltipEdit2.hide()">-->
                        <!--									<div-->
                        <!--											class="p-helper-clearfix"-->
                        <!--											style="display: flex; display: -ms-flexbox"-->
                        <!--									>-->
                        <!--										<div style="align-self: center; flex: 20; -ms-flex: 20">-->
                        <!--											<mat-icon-->
                        <!--													style="width: 14px; vertical-align: middle"-->
                        <!--													svgIcon="print"-->
                        <!--											></mat-icon>-->
                        <!--										</div>-->
                        <!--										<p-->
                        <!--												class="nameAcc"-->
                        <!--												style="-->
                        <!--                        overflow: hidden;-->
                        <!--                        white-space: nowrap;-->
                        <!--                        text-overflow: ellipsis;-->
                        <!--                        flex: 85;-->
                        <!--                        -ms-flex: 85;-->
                        <!--                      "-->
                        <!--										>-->
                        <!--											הדפסה-->
                        <!--										</p>-->
                        <!--									</div>-->
                        <!--								</li>-->
                        <!--							</ul>-->
                        <!--						</ng-container>-->
                        <!--					</p-overlayPanel>-->
                    </ng-container>

                    <div
                            *ngIf="cardDetailsSave && !cardDetailsSave.length && !loader"
                            class="noData"
                    >
                        <mat-icon
                                style="
              vertical-align: middle;
              width: auto;
              height: 61px;
              margin-bottom: 10px;
            "
                                svgIcon="export2"
                        ></mat-icon>

                        <h1>לא קיימות תנועות מעודכנות לתקופה שנבחרה</h1>
                    </div>
                    <div
                            *ngIf="
            cardDetailsSave &&
            cardDetailsSave.length &&
            cardDetails &&
            !cardDetails.length
          "
                            class="noData"
                    >
                        <mat-icon
                                style="
              vertical-align: middle;
              width: auto;
              height: 61px;
              margin-bottom: 10px;
            "
                                svgIcon="interface"
                        ></mat-icon>

                        <h1>לא נמצאו תנועות לחיפוש המבוקש</h1>
                    </div>
                </div>

                <app-paginator
                    #paginator
                    (onPageChange)="paginate($event)"
                    [alwaysShow]="false"
                    [rowsPerPageOptions]="[20, 30, 40]"
                    [rows]="entryLimit"
                    [totalRecords]="cardDetails.length"
                >
                </app-paginator>
            </div>

            <ng-template #notSelectedCards>
                <div
                        *ngIf="
          userService.appData?.userData?.creditCards &&
          userService.appData?.userData?.creditCards.length


                  &&

                  !(showScreen &&
    this.accountsBarData &&
    fileStatus === 'CREDIT' &&
cardsSelector &&
cardsSelector.creditCardsSrc &&
!cardsSelector.creditCardsSrc.length)
        "
                        style="text-align: center; font-size: 26px; padding-top: 100px"
                >
                    יש לבחור כרטיס
                </div>
            </ng-template>

            <div
                    [class.show]="showFloatNav"
                    class="bottomNavAction"
                    style="height: 41px"
            >
                <div
                        *ngIf="
          showFloatNav && showFloatNav.isNotDisabled && showFloatNav.isNotIGNORE
        "
                >
                    <mat-icon
                            (click)="companyGetCustomer()"
                            [pTooltip]="'שיוך כרטיס נגדי'"
                            style="color: #ffffff; height: 100%; width: 21px"
                            svgIcon="custId"
                            tooltipPosition="top"
                    ></mat-icon>
                </div>
                <div
                        *ngIf="
          showFloatNav && showFloatNav.isNotIGNORE && showFloatNav.isNotDisabled
        "
                >
                    <mat-icon
                            (click)="updateIgnore(showFloatNav)"
                            [pTooltip]="'לא לטיפול'"
                            style="color: #ffffff; height: 100%; width: 19px"
                            svgIcon="closeIcon"
                            tooltipPosition="top"
                    ></mat-icon>
                </div>
                <div>
                    <mat-icon
                            (click)="journalTransComponent.docToSend.show(null, showFloatNav)"
                            [pTooltip]="'שליחת הודעה ללקוח'"
                            style="color: #ffffff; height: 100%; width: 19px"
                            svgIcon="send"
                            tooltipPosition="top"
                    ></mat-icon>
                </div>
                <div *ngIf="showFloatNav && showFloatNav.isReturnToCareFiles">
                    <mat-icon
                            (click)="backToCare()"
                            [pTooltip]="'חזרה לטיפול'"
                            style="color: #ffffff; height: 100%; width: 19px"
                            svgIcon="cancel"
                            tooltipPosition="top"
                    ></mat-icon>
                </div>
                <div
                        *ngIf="
          showFloatNav &&
          showFloatNav.linkPic &&
          showFloatNav.isNotDisabled &&
          showFloatNav.isNotIGNORE
        "
                >
                    <mat-icon
                            (click)="showArchiveModal = showFloatNav?.selcetedFiles"
                            [pTooltip]="'קישור תמונה'"
                            style="color: #ffffff; height: 100%; width: 19px"
                            svgIcon="doc"
                            tooltipPosition="top"
                    ></mat-icon>
                </div>
                <div>
                    <mat-icon
                            [pTooltip]="'הדפסה'"
                            style="width: 21px; color: #ffffff"
                            svgIcon="print"
                            tooltipPosition="top"
                    >
                    </mat-icon>
                </div>
                <div>
                    <mat-icon
                            (click)="showOpenTicket()"
                            [pTooltip]="'פתיחת קריאת שירות'"
                            style="width: 21px; color: #ffffff"
                            svgIcon="icon_support"
                            tooltipPosition="top">
                    </mat-icon>
                </div>
            </div>
        </ng-container>
        <ng-container *ngIf="fileStatus === 'CREATE_JOURNAL_TRANS'">
            <div #wrap
                 (mouseleave)="mouseLeaveHandler()"
                 (mouseover)="mouseOverHandler(ele)"
                 [class.DONE_PROCESS]="exportFileStatusFilter === 'DONE_PROCESS'"
                 id="wrapDragScroll">
                <button (click)="rightClick(ele)"
                        *ngIf="rightShow"
                        id="rightArr">
                    <img src="/assets/images/rightArr.png"/>
                </button>
                <div #ele
                     (mousedown)="mouseDownHandler($event, ele)"
                     (mousemove)="allowMove && mouseMoveHandler($event, ele)"
                     (mouseup)="allowMove && mouseUpHandler($event, ele)"
                     [class.mouseDownHandlerClass]="isMouseDownHandler"
                     id="containerScroll">
                    <div *ngIf="loader" class="loader">
                        <div class="circle"></div>
                    </div>
                    <div
                            *ngIf="
            journalTransDataSave &&
            !journalTransDataSave.length &&
         !loader
          "
                            class="noData"
                            style="
    margin: 120px auto;
    font-size: 18px;
    font-weight: 600;
    font-family: 'Assistant' !important;
                    line-height: normal;
                    text-align: center;
                    color: #022258;">
                        <mat-icon
                                style="
              vertical-align: middle;
              width: auto;
              height: 61px;
              margin-bottom: 10px;
            "
                                svgIcon="export2"
                        ></mat-icon>

                        <h1>
                            לא קיימות תנועות לפקודות יומן
                            -
                            {{exportFileStatusFilter === 'DONE_PROCESS' ?
                            ' קבצים שנקלטו'
                            : ' קבצים בתהליך'}}
                        </h1>
                    </div>
                    <div
                            *ngIf="
            journalTransDataSave &&
            journalTransDataSave.length && journalTransData && !journalTransData.length
          "
                            class="noData"
                            style="
    margin: 120px auto;
    font-size: 18px;
    font-weight: 600;
    font-family: 'Assistant' !important;
                    line-height: normal;
                    text-align: center;
                    color: #022258;"
                    >
                        <mat-icon
                                style="
              vertical-align: middle;
              width: auto;
              height: 61px;
              margin-bottom: 10px;
            "
                                svgIcon="interface"
                        ></mat-icon>

                        <h1>לא נמצאו תנועות לחיפוש המבוקש</h1>
                    </div>
                    <div class="scrollDrag">
                        <ng-container
                                *ngFor="let parent of journalTransData; let i = index; trackBy: trackByOcrExportFileId;">
                            <div (click)="indexSelectedJournal = i; pressItem()"
                                 [class.active]="indexSelectedJournal === i"
                                 [class.mouseDownHandlerItemClass]="isMouseDownHandler"
                                 [class.pointerEventsNone]="pointerEventsNone"
                                 class="item">
                                <ng-container *ngIf="exportFileStatusFilter === 'IN_PROCESS'">
                                    <div class="titles">
                                        <i class="icon-bank-credit">
                                            <img [src]="'/assets/images/' +(parent.fileType === 'BANK_AND_CREDIT' ? 'bank-credit-icon' : parent.fileType === 'CCARD_TRANS' ? 'credit-icon' : 'bank-icon')+'.png'"/>
                                        </i>
                                        <div class="text">
                                            <h3>
                                                {{parent.fileType === 'BANK_AND_CREDIT' ? 'בנק ואשראי' : parent.fileType === 'CCARD_TRANS' ? 'אשראי' : 'בנק'}}
                                            </h3>
                                            <p *ngIf="parent.vatDateFrom">
                                                שנת מס
                                                {{ parent.vatDateFrom | date: 'yyyy'}}
                                            </p>
                                        </div>
                                    </div>
                                    <div class="contText">
                                        <p *ngIf="parent.numOfBankData">
                                            <strong>
                                                {{ parent.numOfBankData }}
                                            </strong>
                                            תנועות בנק
                                        </p>
                                        <p *ngIf="parent.numOfCreditData">
                                            <strong>
                                                {{ parent.numOfCreditData }}
                                            </strong>
                                            תנועות אשראי
                                        </p>
                                        <p>
                                            ע”ס
                                            <strong>
                                                {{
                                                roundAndAddCommaFunc(
                                                    parent.total
                                                )
                                                }}
                                            </strong>
                                            ₪
                                        </p>
                                    </div>
                                    <div class="alert-and-btns">

                                        <ng-container
                                                [ngSwitch]="parent.status">
                                            <ng-container *ngSwitchCase="'CREATE_JOURNAL_TRANS'">
                                                <h2 style="color:#0AE395;">
                                                    {{(userService?.appData?.userData?.companySelect?.folderPlus || parent.collapseText !== null) ? 'ממתין לקליטה'
                                                    :
                                                    'ממתין ליצירת קובץ'}}

                                                    <ng-container
                                                            *ngIf="parent.dateCreatedOld">
                                                        <img
                                                                [pTooltip]="'שימו לב, הקובץ טרם נקלט בהנה”ח'"
                                                                height="15"
                                                                src="/assets/images/exclamation-triangle.png"
                                                                style="margin-right: 5px"
                                                                tooltipPosition="top"
                                                                width="17"
                                                        />
                                                    </ng-container>
                                                </h2>
                                                <p>
                                                    <!--                                                <ng-container-->
                                                    <!--                                                        *ngIf="parent.dateCreatedOld"-->
                                                    <!--                                                        class="red">-->
                                                    <!--                                                    שימו לב, הקובץ טרם נקלט בהנה”ח-->
                                                    <!--                                                </ng-container>-->
                                                    <ng-container
                                                            *ngIf="parent.collapseText !== null">
                                                        {{ parent.collapseText }}
                                                    </ng-container>
                                                </p>
                                                <div class="btns">
                                                    <div
                                                            (click)="
                            createDocFile(
                             parent.ocrExportFileId
                            );
                            $event.stopPropagation()
                          "
                                                            *ngIf="
                            userService.appData && userService.appData.isAdmin
                          "
                                                            class="btn-dark">
                                                        <ng-container
                                                                *ngIf="(userService.appData && !userService.appData.isAdmin) || !parent.dateCreatedOld">
                                                            הורדת
                                                            קובץ
                                                        </ng-container>
                                                        <ng-container
                                                                *ngIf="userService.appData && userService.appData.isAdmin && parent.dateCreatedOld">
                                                            הורדה
                                                        </ng-container>
                                                    </div>
                                                    <ng-container
                                                            *ngIf="parent.dateCreatedOld"
                                                    >
                                                        <div
                                                                (click)="
                              deleteCommand(parent);
                              $event.stopPropagation()
                            "
                                                                class="btn-white">
                                                            <ng-container
                                                                    *ngIf="userService.appData && !userService.appData.isAdmin">
                                                                מחיקת
                                                                קובץ
                                                            </ng-container>
                                                            <ng-container
                                                                    *ngIf="userService.appData && userService.appData.isAdmin">
                                                                מחיקה
                                                            </ng-container>
                                                        </div>
                                                    </ng-container>
                                                    <div (click)="createExportFileForFolder(parent);
                            sharedComponent.mixPanelEvent(!userService?.appData?.userData?.companySelect?.folderPlus ? 'download - folder' : 'download - folder plus');
                            $event.stopPropagation()
                          "
                                                         *ngIf="
                            parent.collapseText === null
                          "
                                                         class="btn-dark">
                                                        <ng-container
                                                                *ngIf="(userService.appData && !userService.appData.isAdmin) || !parent.dateCreatedOld">
                                                            {{!userService?.appData?.userData?.companySelect?.folderPlus ? 'יצירת ' : 'קליטת '}}
                                                            קובץ
                                                        </ng-container>
                                                        <ng-container
                                                                *ngIf="userService.appData && userService.appData.isAdmin && parent.dateCreatedOld">
                                                            {{!userService?.appData?.userData?.companySelect?.folderPlus ? 'יצירה' : 'קליטה'}}
                                                        </ng-container>
                                                    </div>
                                                    <div
                                                            (click)="
                            cancelExportFileFor(parent);
                            $event.stopPropagation()
                          "
                                                            *ngIf="
                            parent.collapseText !== null
                          "
                                                            [pTooltip]="
                            parent.dateCreatedOld
                              ? parent.collapseText
                              : null
                          "
                                                            class="btn-white">
                                                        <ng-container
                                                                *ngIf="(userService.appData && !userService.appData.isAdmin) || !parent.dateCreatedOld">
                                                            ביטול
                                                            קובץ
                                                        </ng-container>
                                                        <ng-container
                                                                *ngIf="userService.appData && userService.appData.isAdmin && parent.dateCreatedOld">
                                                            ביטול
                                                        </ng-container>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <ng-container *ngSwitchCase="'TEMP_COMMAND'">
                                                <h2 style="color:#009CDE;">
                                                    נקלט במנה זמנית
                                                    <ng-container
                                                            *ngIf="parent.dateCreatedOld">
                                                        <img
                                                                [pTooltip]="'שימו לב, הקובץ טרם נקלט בהנה”ח'"
                                                                height="15"
                                                                src="/assets/images/exclamation-triangle.png"
                                                                style="margin-right: 5px"
                                                                tooltipPosition="top"
                                                                width="17"
                                                        />
                                                    </ng-container>
                                                </h2>
                                                <p style="color:#009CDE;">
                                                    <ng-container *ngIf="parent.batchNumber">
                                                        מנה
                                                        {{ parent.batchNumber }}
                                                    </ng-container>
                                                    <ng-container *ngIf="!parent.batchNumber">
                                                        &nbsp;
                                                    </ng-container>
                                                </p>
                                            </ng-container>
                                            <ng-container *ngSwitchCase="'NOT_TEMP_COMMAND'">
                                                <h2 class="red" style="color:#FF0505;">
                                                    נמחקו ממנה
                                                    <ng-container *ngIf="parent.batchNumber">
                                                        {{ parent.batchNumber }}
                                                    </ng-container>
                                                </h2>
                                                <p>
                                                    &nbsp;
                                                </p>
                                                <div class="btns">
                                                    <div
                                                            (click)="
                            deleteCommand(parent);
                            $event.stopPropagation()
                          "
                                                            class="btn-white"
                                                    >
                                                        מחיקת קובץ
                                                    </div>
                                                    <div
                                                            (click)="
                            changeExportFile(parent);
                            $event.stopPropagation()
                          "
                                                            class="btn-dark"
                                                    >
                                                        הוספה לקובץ
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <ng-container *ngSwitchCase="'NOT_PERMANENT_COMMAND'">
                                                <h2 class="red" style="color:#FF0505;">
                                                    נמחקו ממנה

                                                    <ng-container *ngIf="parent.batchNumber">
                                                        {{ parent.batchNumber }}
                                                    </ng-container>
                                                </h2>
                                                <p>
                                                    &nbsp;
                                                </p>
                                                <div class="btns">
                                                    <div
                                                            (click)="
                            deleteCommand(parent);
                            $event.stopPropagation()
                          "
                                                            class="btn-white"
                                                    >
                                                        מחיקת קובץ
                                                    </div>
                                                    <div
                                                            (click)="
                            changeExportFile(parent);
                            $event.stopPropagation()
                          "
                                                            class="btn-dark"
                                                    >
                                                        הוספה לקובץ
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <ng-container *ngSwitchCase="'JOURNAL_TRANS_PROCESS'">
                                                <h2 style="color:#0AE395;"> בתהליך קליטה </h2>
                                                <p>
                                                    &nbsp;
                                                </p>
                                            </ng-container>
                                            <ng-container *ngSwitchCase="'PERMANENT_COMMAND'">
                                                <h2 style="color:#009CDE;">
                                                    נקלט במנה קבועה
                                                </h2>
                                                <p style="color:#009CDE;">
                                                    <ng-container *ngIf="parent.batchNumber">
                                                        מנה
                                                        {{ parent.batchNumber }}
                                                    </ng-container>
                                                    <ng-container *ngIf="!parent.batchNumber">
                                                        &nbsp;
                                                    </ng-container>
                                                </p>
                                            </ng-container>
                                            <ng-container *ngSwitchCase="'FOLDER_PLUS_ISSUE'">
                                                <h2 style="color:#FF0505;">
                                                    בעיה בקליטה

                                                    <ng-container *ngIf="parent.folderErrorDesc">
                                                        <img
                                                                [pTooltip]="parent.folderErrorDesc"
                                                                height="15"
                                                                src="/assets/images/exclamation-triangle.png"
                                                                style="margin-right: 5px"
                                                                tooltipPosition="top"
                                                                width="17"
                                                        />
                                                    </ng-container>
                                                </h2>

                                                <p class="red">
                                                <span style="color:#FF0505;">
              לא נקלט בחשבשבת
            </span>
                                                </p>
                                            </ng-container>
                                        </ng-container>

                                    </div>
                                    <div *ngIf="parent.dateLastModified"
                                         class="lastUpdateText">
                                        עדכון אחרון
                                        ({{
                                        (parent.dateLastModified
                                            | date: 'H:mm') || ''
                                        }})
                                        {{
                                        (parent.dateLastModified
                                            | date: 'd/M/yy') || ''
                                        }}
                                    </div>
                                </ng-container>
                                <ng-container *ngIf="exportFileStatusFilter === 'DONE_PROCESS'">
                                    <div *ngIf="parent.dateLastModified"
                                         class="lastUpdateText">
                                        נקלט ב-
                                        ({{
                                        (parent.dateLastModified
                                            | date: 'H:mm') || ''
                                        }})
                                        {{
                                        (parent.dateLastModified
                                            | date: 'd/M/yy') || ''
                                        }}
                                    </div>
                                    <h1>
                                        נקלט כמנה
                                        {{parent.status === 'TEMP_COMMAND' ? 'זמנית' : 'קבועה'}}

                                        <ng-container *ngIf="parent.batchNumber">
                                            מנה
                                            {{ parent.batchNumber }}
                                        </ng-container>
                                    </h1>
                                    <div class="titles">
                                        <i class="icon-bank-credit">
                                            <img [src]="'/assets/images/' +(parent.fileType === 'BANK_AND_CREDIT' ? 'bank-credit-icon' : parent.fileType === 'CCARD_TRANS' ? 'credit-icon' : 'bank-icon')+'.png'"/>
                                        </i>
                                        <div class="text">
                                            <div class="headLine">
                                                <h3>
                                                    {{parent.fileType === 'BANK_AND_CREDIT' ? 'בנק ואשראי' : parent.fileType === 'CCARD_TRANS' ? 'אשראי' : 'בנק'}}
                                                </h3>
                                                <p *ngIf="parent.vatDateFrom">
                                                    שנת מס
                                                    {{ parent.vatDateFrom | date: 'yyyy'}}
                                                </p>
                                            </div>
                                            <div class="contText">
                                                <p>
                                                    <ng-container *ngIf="parent.numOfBankData">
                                                        <strong>
                                                            {{ parent.numOfBankData }}
                                                        </strong>
                                                        תנועות בנק
                                                    </ng-container>
                                                    <ng-container
                                                            *ngIf="parent.numOfBankData && parent.numOfCreditData">,
                                                    </ng-container>
                                                    <ng-container *ngIf="parent.numOfCreditData">
                                                        <strong>
                                                            {{ parent.numOfCreditData }}
                                                        </strong>
                                                        תנועות אשראי
                                                    </ng-container>
                                                </p>
                                                <p *ngIf="parent.total && parent.total !== undefined && parent.total !== null">
                                                    ע”ס
                                                    <strong>
                                                        {{
                                                        roundAndAddCommaFunc(
                                                            parent.total
                                                        )
                                                        }}
                                                    </strong>
                                                    ₪
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                                <!--                                <button-->
                                <!--                                        (click)="-->
                                <!--                      printPage(parent);-->
                                <!--                      $event.stopPropagation()-->
                                <!--                    "-->
                                <!--                                        [matTooltip]="-->
                                <!--                      'appWalk.customers.report.printBtn' | translate-->
                                <!--                    "-->
                                <!--                                        matTooltipPosition="above"-->
                                <!--                                        style="-->
                                <!--                      outline: none;-->
                                <!--                      border: none;-->
                                <!--                      padding: 0;-->
                                <!--                      margin: 0;-->
                                <!--                      margin-right: 15px;-->
                                <!--                      cursor: pointer;-->
                                <!--                    "-->
                                <!--                                >-->
                                <!--                                    <img-->
                                <!--                                            height="17"-->
                                <!--                                            src="/assets/images/printIcon.png"-->
                                <!--                                            width="19"-->
                                <!--                                    />-->
                                <!--                                </button>-->
                            </div>
                        </ng-container>
                    </div>
                </div>
                <button (click)="leftClick(ele)"
                        *ngIf="leftShow"

                        id="leftArr">
                    <img src="/assets/images/leftArr.png"/>
                </button>
            </div>
            <div (click)="handleClick($event)"
                 *ngIf="!loader && journalTransData && journalTransData.length && journalTransData[indexSelectedJournal]"
                 class="journalTransDataBank">
                <div #header
                     [class.scrollContainerHasScroll]="scrollContainerHasScroll"
                     class="header">
                    <div style="padding-left: 7px;">
                        <p-checkbox (click)="$event.stopPropagation()"
                                    (onChange)="
                                                      journalTransData[indexSelectedJournal].selcetFiles =
                                                        !journalTransData[indexSelectedJournal].selcetFiles;
                                                      checkAllChildSelectedJournalTransData(
                                                    journalTransData[indexSelectedJournal]
                                                      );
                                                      checkSelectedJournalTransData()
                                                    "
                                    *ngIf="journalTransData && journalTransData[indexSelectedJournal]
            &&
            (journalTransData[indexSelectedJournal]?.transData && journalTransData[indexSelectedJournal]?.transData.length)
                                     &&
                                                      journalTransData[indexSelectedJournal].status !==
                                                        'JOURNAL_TRANS_PROCESS' &&
                                                      journalTransData[indexSelectedJournal].status !==
                                                        'PERMANENT_COMMAND'
                                                    "
                                    [binary]="true"
                                    [ngModel]="journalTransData[indexSelectedJournal].selcetFiles"
                                    checkboxIcon="fa fa-check"
                        >
                        </p-checkbox>
                    </div>
                    <div (click)="toggleCompanyFilesOrderToJOURNAL('invoiceDate')">
                        תאריך

                        <mat-icon
                                *ngIf="journalTransData && journalTransData.length"
                                [class.active]="
              companyFilesSortControl.value?.orderBy === 'invoiceDate'
            "
                                [svgIcon]="
              (companyFilesSortControl.value?.orderBy === 'invoiceDate'
                ? companyFilesSortControl.value.order
                : null
              ) | sortIcon
            "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div (click)="toggleCompanyFilesOrderToJOURNAL('sugTnua')">
                        סוג תנועה

                        <mat-icon
                                *ngIf="journalTransData && journalTransData.length"
                                [class.active]="
              companyFilesSortControl.value?.orderBy === 'sugTnua'
            "
                                [svgIcon]="
              (companyFilesSortControl.value?.orderBy === 'sugTnua'
                ? companyFilesSortControl.value.order
                : null
              ) | sortIcon
            "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div (click)="toggleCompanyFilesOrderToJOURNAL('details')">
                        תיאור

                        <mat-icon
                                *ngIf="journalTransData && journalTransData.length"
                                [class.active]="
              companyFilesSortControl.value?.orderBy === 'details'
            "
                                [svgIcon]="
              (companyFilesSortControl.value?.orderBy === 'details'
                ? companyFilesSortControl.value.order
                : null
              ) | sortIcon
            "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div (click)="toggleCompanyFilesOrderToJOURNAL('cardAccName')">
                        בנק/אשראי

                        <mat-icon
                                *ngIf="journalTransData && journalTransData.length"
                                [class.active]="
              companyFilesSortControl.value?.orderBy === 'cardAccName'
            "
                                [svgIcon]="
              (companyFilesSortControl.value?.orderBy === 'cardAccName'
                ? companyFilesSortControl.value.order
                : null
              ) | sortIcon
            "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div (click)="toggleCompanyFilesOrderToJOURNAL('izuCustId')">
                        כרטיס

                        <mat-icon
                                *ngIf="journalTransData && journalTransData.length"
                                [class.active]="
              companyFilesSortControl.value?.orderBy === 'izuCustId'
            "
                                [svgIcon]="
              (companyFilesSortControl.value?.orderBy === 'izuCustId'
                ? companyFilesSortControl.value.order
                : null
              ) | sortIcon
            "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div (click)="toggleCompanyFilesOrderToJOURNAL('total')">
                        סכום

                        <mat-icon
                                *ngIf="journalTransData && journalTransData.length"
                                [class.active]="companyFilesSortControl.value?.orderBy === 'total'"
                                [svgIcon]="
              (companyFilesSortControl.value?.orderBy === 'total'
                ? companyFilesSortControl.value.order
                : null
              ) | sortIcon
            "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div (click)="toggleCompanyFilesOrderToJOURNAL('totalMatah')">
                        סכום
                        מט״ח
                        <mat-icon
                                *ngIf="journalTransData && journalTransData.length"
                                [class.active]="companyFilesSortControl.value?.orderBy === 'totalMatah'"
                                [svgIcon]="
              (companyFilesSortControl.value?.orderBy === 'totalMatah'
                ? companyFilesSortControl.value.order
                : null
              ) | sortIcon
            "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div (click)="toggleCompanyFilesOrderToJOURNAL('custId')">
                        כרטיס נגדי

                        <mat-icon
                                *ngIf="journalTransData && journalTransData.length"
                                [class.active]="companyFilesSortControl.value?.orderBy === 'custId'"
                                [svgIcon]="
              (companyFilesSortControl.value?.orderBy === 'custId'
                ? companyFilesSortControl.value.order
                : null
              ) | sortIcon
            "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div>
                        <div style="flex: 25px">&nbsp;</div>

                        <div class="iconPic">&nbsp;</div>

                        <div>&nbsp;</div>
                    </div>
                </div>
                <div
                        [ngStyle]="{'height': (getPageHeightFunc(header.getBoundingClientRect().bottom + 10)) +'px'}"
                        class="body containerList containerListData scrollbar-dynamic"
                        style="position: relative"

                >
                    <!--                    <div *ngIf="loader" class="loader">-->
                    <!--                        <div class="circle"></div>-->
                    <!--                    </div>-->
                    <ng-container
                            *ngIf="journalTransData && journalTransData.length && journalTransData[indexSelectedJournal] && journalTransData[indexSelectedJournal]?.transData && journalTransData[indexSelectedJournal]?.transData.length">

                        <ng-scrollbar
                                class="custom-scrollbar"
                                thumbClass="scrollbar-thumb"
                                trackClass="scrollbar">

                            <cdk-virtual-scroll-viewport #scrollContainerVirtual
                                                         #virtualScroll
                                                         [ngStyle]="{'height': (getPageHeightFunc(header.getBoundingClientRect().bottom + 10)) +'px'}"
                                                         itemSize="35"
                                                         scrollViewport>
                                <div *cdkVirtualFor="let parent of journalTransData[indexSelectedJournal]?.transData; let i = index; trackBy: trackByIdJournalTransData"
                                     [ngStyle]="{ height: '35px' }"
                                     style="position: relative"
                                >
                                    <!--                                <div-->
                                    <!--                                        (click)="colsAct(journalTransData[parent.idx], parent.idx)"-->
                                    <!--                                        *ngIf="!parent.paymentId"-->
                                    <!--                                        [class.active]="journalTransData[parent.idx].showChildren"-->
                                    <!--                                        [class]="-->
                                    <!--                  'group-rows-bank ' + journalTransData[parent.idx].status-->
                                    <!--                "-->
                                    <!--                                        class="group-rows"-->
                                    <!--                                >-->
                                    <!--                                    <div>-->
                                    <!--                                        <img-->
                                    <!--                                                [src]="-->
                                    <!--                      journalTransData[parent.idx].showChildren-->
                                    <!--                        ? '/assets/images/stateOpen.png'-->
                                    <!--                        : '/assets/images/stateClose.png'-->
                                    <!--                    "-->
                                    <!--                                                height="9"-->
                                    <!--                                                style="-->
                                    <!--                      width: 14px;-->
                                    <!--                      height: 9px;-->
                                    <!--                      vertical-align: middle;-->
                                    <!--                      cursor: pointer;-->
                                    <!--                    "-->
                                    <!--                                                width="14"-->
                                    <!--                                        />-->
                                    <!--                                    </div>-->
                                    <!--                                    <div>-->
                                    <!--                                        <p-checkbox (click)="$event.stopPropagation()"-->
                                    <!--                                                    (onChange)="-->
                                    <!--                      journalTransData[parent.idx].selcetFiles =-->
                                    <!--                        !journalTransData[parent.idx].selcetFiles;-->
                                    <!--                      checkAllChildSelectedJournalTransData(-->
                                    <!--                        journalTransData[parent.idx]-->
                                    <!--                      );-->
                                    <!--                      checkSelectedJournalTransData()-->
                                    <!--                    "-->
                                    <!--                                                    *ngIf="-->
                                    <!--                      journalTransData[parent.idx].status !==-->
                                    <!--                        'JOURNAL_TRANS_PROCESS' &&-->
                                    <!--                      journalTransData[parent.idx].status !==-->
                                    <!--                        'PERMANENT_COMMAND'-->
                                    <!--                    "-->
                                    <!--                                                    [binary]="true"-->
                                    <!--                                                    [ngModel]="journalTransData[parent.idx].selcetFiles"-->
                                    <!--                                                    checkboxIcon="fa fa-check"-->
                                    <!--                                        >-->
                                    <!--                                        </p-checkbox>-->
                                    <!--                                    </div>-->
                                    <!--                                    <div>-->
                                    <!--                                        <ng-container-->
                                    <!--                                                [ngSwitch]="journalTransData[parent.idx].status"-->
                                    <!--                                        >-->
                                    <!--                                            <ng-container *ngSwitchCase="'CREATE_JOURNAL_TRANS'">-->
                                    <!--                                                <div style="width: 576px">-->
                                    <!--                        <span *ngIf="parent.fileType === 'BANK_AND_CREDIT'">-->
                                    <!--                          <ng-container-->
                                    <!--                                  *ngIf="-->
                                    <!--                              parent.numOfBankData && parent.numOfCreditData;-->
                                    <!--                              else notBothFull-->
                                    <!--                            "-->
                                    <!--                          >-->
                                    <!--                            {{ parent.numOfBankData }} תנועות בנק ו{{-->
                                    <!--                              parent.numOfCreditData-->
                                    <!--                              }}-->
                                    <!--                              תנועות אשראי-->
                                    <!--                          </ng-container>-->
                                    <!--                          <ng-template #notBothFull>-->
                                    <!--                            {{-->
                                    <!--                              parent.numOfBankData-->
                                    <!--                                  ? parent.numOfBankData + ' תנועות בנק '-->
                                    <!--                                  : parent.numOfCreditData + ' תנועות אשראי '-->
                                    <!--                              }}-->
                                    <!--                          </ng-template>-->
                                    <!--                        </span>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            parent.fileType === 'CCARD_TRANS' &&-->
                                    <!--                            parent.numOfCreditData-->
                                    <!--                          "-->
                                    <!--                                                    >-->
                                    <!--                          {{ parent.numOfCreditData }} תנועות אשראי-->
                                    <!--                        </span>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            parent.fileType === 'BANK_TRANS' &&-->
                                    <!--                            parent.numOfBankData-->
                                    <!--                          "-->
                                    <!--                                                    >-->
                                    <!--                          {{ parent.numOfBankData }} תנועות בנק-->
                                    <!--                        </span>-->
                                    <!--                                                    <span>-->
                                    <!--                          ע”ס-->

                                    <!--                                                        {{-->
                                    <!--                                                        roundAndAddCommaFunc(-->
                                    <!--                                                            journalTransData[parent.idx].total-->
                                    <!--                                                        )-->
                                    <!--                                                        }}-->
                                    <!--                                                        מחכות לקליטה</span-->
                                    <!--                                                    >-->
                                    <!--                                                </div>-->
                                    <!--                                                <ng-container-->
                                    <!--                                                        *ngIf="journalTransData[parent.idx].dateLastModified"-->
                                    <!--                                                >-->
                                    <!--                        <span [ngStyle]="{ 'margin-right': '1em' }">-->
                                    <!--                          ({{-->
                                    <!--                            (journalTransData[parent.idx].dateLastModified-->
                                    <!--                                | date: 'H:mm') || ''-->
                                    <!--                            }}-->
                                    <!--                            )-->
                                    <!--                            {{-->
                                    <!--                            (journalTransData[parent.idx].dateLastModified-->
                                    <!--                                | date: 'd/M/yy') || ''-->
                                    <!--                            }}-->
                                    <!--                        </span>-->
                                    <!--                                                </ng-container>-->

                                    <!--                                                <div class="text-ellipsis leftSide">-->
                                    <!--                                                    <div-->
                                    <!--                                                            *ngIf="journalTransData[parent.idx].dateCreatedOld"-->
                                    <!--                                                            class="red"-->
                                    <!--                                                            style="margin-left: 40px"-->
                                    <!--                                                    >-->
                                    <!--                                                        שימו לב, הקובץ טרם נקלט בהנה”ח-->
                                    <!--                                                    </div>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            !journalTransData[parent.idx].dateCreatedOld &&-->
                                    <!--                            journalTransData[parent.idx].collapseText !== null-->
                                    <!--                          "-->
                                    <!--                                                            style="margin-left: 40px"-->
                                    <!--                                                    >-->
                                    <!--                          {{ journalTransData[parent.idx].collapseText }}-->
                                    <!--                        </span>-->
                                    <!--                                                    <div-->
                                    <!--                                                            (click)="-->
                                    <!--                            createDocFile(-->
                                    <!--                              journalTransData[parent.idx].ocrExportFileId-->
                                    <!--                            );-->
                                    <!--                            $event.stopPropagation()-->
                                    <!--                          "-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            userService.appData && userService.appData.isAdmin-->
                                    <!--                          "-->
                                    <!--                                                            class="alert"-->
                                    <!--                                                    >-->
                                    <!--                                                        הורדת קובץ-->
                                    <!--                                                    </div>-->
                                    <!--                                                    <div-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            userService.appData && userService.appData.isAdmin-->
                                    <!--                          "-->
                                    <!--                                                            style="color: #022258"-->
                                    <!--                                                    >-->
                                    <!--                                                        |-->
                                    <!--                                                    </div>-->
                                    <!--                                                    <ng-container-->
                                    <!--                                                            *ngIf="journalTransData[parent.idx].dateCreatedOld"-->
                                    <!--                                                    >-->
                                    <!--                                                        <div-->
                                    <!--                                                                (click)="-->
                                    <!--                              deleteCommand(journalTransData[parent.idx]);-->
                                    <!--                              $event.stopPropagation()-->
                                    <!--                            "-->
                                    <!--                                                                class="alert"-->
                                    <!--                                                        >-->
                                    <!--                                                            מחיקת הפקודות-->
                                    <!--                                                        </div>-->

                                    <!--                                                        <div style="color: #022258">|</div>-->
                                    <!--                                                    </ng-container>-->

                                    <!--                                                    <div-->
                                    <!--                                                            (click)="-->
                                    <!--                            createExportFileFor(journalTransData[parent.idx]);-->
                                    <!--                            sharedComponent.mixPanelEvent(!userService?.appData?.userData?.companySelect?.folderPlus ? 'download - folder' : 'download - folder plus');-->
                                    <!--                            $event.stopPropagation()-->
                                    <!--                          "-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            journalTransData[parent.idx].collapseText === null-->
                                    <!--                          "-->
                                    <!--                                                            class="alert"-->
                                    <!--                                                    >-->
                                    <!--                                                        {{!userService?.appData?.userData?.companySelect?.folderPlus ? 'ליצירת קובץ' : 'קלוט קובץ בתוכנת הנה”ח'}}-->
                                    <!--                                                    </div>-->
                                    <!--                                                    <div-->
                                    <!--                                                            (click)="-->
                                    <!--                            cancelExportFileFor(journalTransData[parent.idx]);-->
                                    <!--                            $event.stopPropagation()-->
                                    <!--                          "-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            journalTransData[parent.idx].collapseText !== null-->
                                    <!--                          "-->
                                    <!--                                                            [pTooltip]="-->
                                    <!--                            journalTransData[parent.idx].dateCreatedOld-->
                                    <!--                              ? journalTransData[parent.idx].collapseText-->
                                    <!--                              : null-->
                                    <!--                          "-->
                                    <!--                                                            class="alert"-->
                                    <!--                                                    >-->
                                    <!--                                                        ביטול הקובץ-->
                                    <!--                                                    </div>-->
                                    <!--                                                </div>-->
                                    <!--                                            </ng-container>-->
                                    <!--                                            <ng-container *ngSwitchCase="'TEMP_COMMAND'">-->
                                    <!--                                                <div style="width: 576px">-->
                                    <!--                        <span *ngIf="parent.fileType === 'BANK_AND_CREDIT'">-->
                                    <!--                          <ng-container-->
                                    <!--                                  *ngIf="-->
                                    <!--                              parent.numOfBankData && parent.numOfCreditData;-->
                                    <!--                              else notBothFull-->
                                    <!--                            "-->
                                    <!--                          >-->
                                    <!--                            {{ parent.numOfBankData }} תנועות בנק ו{{-->
                                    <!--                              parent.numOfCreditData-->
                                    <!--                              }}-->
                                    <!--                              תנועות אשראי-->
                                    <!--                          </ng-container>-->
                                    <!--                          <ng-template #notBothFull>-->
                                    <!--                            {{-->
                                    <!--                              parent.numOfBankData-->
                                    <!--                                  ? parent.numOfBankData + ' תנועות בנק '-->
                                    <!--                                  : parent.numOfCreditData + ' תנועות אשראי '-->
                                    <!--                              }}-->
                                    <!--                          </ng-template>-->
                                    <!--                        </span>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            parent.fileType === 'CCARD_TRANS' &&-->
                                    <!--                            parent.numOfCreditData-->
                                    <!--                          "-->
                                    <!--                                                    >-->
                                    <!--                          {{ parent.numOfCreditData }} תנועות אשראי-->
                                    <!--                        </span>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            parent.fileType === 'BANK_TRANS' &&-->
                                    <!--                            parent.numOfBankData-->
                                    <!--                          "-->
                                    <!--                                                    >-->
                                    <!--                          {{ parent.numOfBankData }} תנועות בנק-->
                                    <!--                        </span>-->
                                    <!--                                                    <span>-->
                                    <!--                          ע”ס-->

                                    <!--                                                        {{-->
                                    <!--                                                        roundAndAddCommaFunc(-->
                                    <!--                                                            journalTransData[parent.idx].total-->
                                    <!--                                                        )-->
                                    <!--                                                        }}-->

                                    <!--                                                        נקלטו במנה-->
                                    <!--                                                        {{ journalTransData[parent.idx].batchNumber }}-->
                                    <!--                        </span>-->
                                    <!--                                                </div>-->

                                    <!--                                                <ng-container-->
                                    <!--                                                        *ngIf="journalTransData[parent.idx].dateLastModified"-->
                                    <!--                                                >-->
                                    <!--                        <span [ngStyle]="{ 'margin-right': '1em' }">-->
                                    <!--                          ({{-->
                                    <!--                            (journalTransData[parent.idx].dateLastModified-->
                                    <!--                                | date: 'H:mm') || ''-->
                                    <!--                            }}-->
                                    <!--                            )-->
                                    <!--                            {{-->
                                    <!--                            (journalTransData[parent.idx].dateLastModified-->
                                    <!--                                | date: 'd/M/yy') || ''-->
                                    <!--                            }}-->
                                    <!--                        </span>-->
                                    <!--                                                </ng-container>-->
                                    <!--                                                <div class="text-ellipsis leftSide">-->
                                    <!--                                                    <div-->
                                    <!--                                                            *ngIf="journalTransData[parent.idx].dateCreatedOld"-->
                                    <!--                                                            class="red"-->
                                    <!--                                                            style="margin-left: 40px"-->
                                    <!--                                                    >-->
                                    <!--                                                        שימו לב, הקובץ טרם נקלט בהנה”ח-->
                                    <!--                                                    </div>-->
                                    <!--                                                    <div class="red">הקובץ נקלט במנה זמנית</div>-->
                                    <!--                                                </div>-->
                                    <!--                                            </ng-container>-->
                                    <!--                                            <ng-container *ngSwitchCase="'NOT_TEMP_COMMAND'">-->
                                    <!--                                                <div style="width: 576px">-->
                                    <!--                        <span *ngIf="parent.fileType === 'BANK_AND_CREDIT'">-->
                                    <!--                          <ng-container-->
                                    <!--                                  *ngIf="-->
                                    <!--                              parent.numOfBankData && parent.numOfCreditData;-->
                                    <!--                              else notBothFull-->
                                    <!--                            "-->
                                    <!--                          >-->
                                    <!--                            {{ parent.numOfBankData }} תנועות בנק ו{{-->
                                    <!--                              parent.numOfCreditData-->
                                    <!--                              }}-->
                                    <!--                              תנועות אשראי-->
                                    <!--                          </ng-container>-->
                                    <!--                          <ng-template #notBothFull>-->
                                    <!--                            {{-->
                                    <!--                              parent.numOfBankData-->
                                    <!--                                  ? parent.numOfBankData + ' תנועות בנק '-->
                                    <!--                                  : parent.numOfCreditData + ' תנועות אשראי '-->
                                    <!--                              }}-->
                                    <!--                          </ng-template>-->
                                    <!--                        </span>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            parent.fileType === 'CCARD_TRANS' &&-->
                                    <!--                            parent.numOfCreditData-->
                                    <!--                          "-->
                                    <!--                                                    >-->
                                    <!--                          {{ parent.numOfCreditData }} תנועות אשראי-->
                                    <!--                        </span>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            parent.fileType === 'BANK_TRANS' &&-->
                                    <!--                            parent.numOfBankData-->
                                    <!--                          "-->
                                    <!--                                                    >-->
                                    <!--                          {{ parent.numOfBankData }} תנועות בנק-->
                                    <!--                        </span>-->
                                    <!--                                                    <span class="red">-->
                                    <!--                          נמחקו ממנה זמנית-->
                                    <!--                                                        {{ journalTransData[parent.idx].batchNumber }}-->
                                    <!--                        </span>-->
                                    <!--                                                </div>-->

                                    <!--                                                <div class="text-ellipsis leftSide">-->
                                    <!--                                                    <div-->
                                    <!--                                                            (click)="-->
                                    <!--                            deleteCommand(journalTransData[parent.idx]);-->
                                    <!--                            $event.stopPropagation()-->
                                    <!--                          "-->
                                    <!--                                                            class="alert"-->
                                    <!--                                                    >-->
                                    <!--                                                        מחיקת הפקודות-->
                                    <!--                                                    </div>-->

                                    <!--                                                    <div style="color: #022258">|</div>-->
                                    <!--                                                    <div-->
                                    <!--                                                            (click)="-->
                                    <!--                            changeExportFile(journalTransData[parent.idx]);-->
                                    <!--                            $event.stopPropagation()-->
                                    <!--                          "-->
                                    <!--                                                            class="alert"-->
                                    <!--                                                    >-->
                                    <!--                                                        הוספה לקובץ קליטה-->
                                    <!--                                                    </div>-->
                                    <!--                                                </div>-->
                                    <!--                                            </ng-container>-->
                                    <!--                                            <ng-container *ngSwitchCase="'NOT_PERMANENT_COMMAND'">-->
                                    <!--                                                <div style="width: 576px">-->
                                    <!--                        <span *ngIf="parent.fileType === 'BANK_AND_CREDIT'">-->
                                    <!--                          <ng-container-->
                                    <!--                                  *ngIf="-->
                                    <!--                              parent.numOfBankData && parent.numOfCreditData;-->
                                    <!--                              else notBothFull-->
                                    <!--                            "-->
                                    <!--                          >-->
                                    <!--                            {{ parent.numOfBankData }} תנועות בנק ו{{-->
                                    <!--                              parent.numOfCreditData-->
                                    <!--                              }}-->
                                    <!--                              תנועות אשראי-->
                                    <!--                          </ng-container>-->
                                    <!--                          <ng-template #notBothFull>-->
                                    <!--                            {{-->
                                    <!--                              parent.numOfBankData-->
                                    <!--                                  ? parent.numOfBankData + ' תנועות בנק '-->
                                    <!--                                  : parent.numOfCreditData + ' תנועות אשראי '-->
                                    <!--                              }}-->
                                    <!--                          </ng-template>-->
                                    <!--                        </span>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            parent.fileType === 'CCARD_TRANS' &&-->
                                    <!--                            parent.numOfCreditData-->
                                    <!--                          "-->
                                    <!--                                                    >-->
                                    <!--                          {{ parent.numOfCreditData }} תנועות אשראי-->
                                    <!--                        </span>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            parent.fileType === 'BANK_TRANS' &&-->
                                    <!--                            parent.numOfBankData-->
                                    <!--                          "-->
                                    <!--                                                    >-->
                                    <!--                          {{ parent.numOfBankData }} תנועות בנק-->
                                    <!--                        </span>-->
                                    <!--                                                    <span class="alert red">-->
                                    <!--                          נמחקו ממנה קבועה-->
                                    <!--                                                        {{ journalTransData[parent.idx].batchNumber }}-->
                                    <!--                        </span>-->
                                    <!--                                                </div>-->
                                    <!--                                                <div class="text-ellipsis leftSide">-->
                                    <!--                                                    <div-->
                                    <!--                                                            (click)="-->
                                    <!--                            deleteCommand(journalTransData[parent.idx]);-->
                                    <!--                            $event.stopPropagation()-->
                                    <!--                          "-->
                                    <!--                                                            class="alert"-->
                                    <!--                                                    >-->
                                    <!--                                                        מחיקת הפקודות-->
                                    <!--                                                    </div>-->

                                    <!--                                                    <div style="color: #022258">|</div>-->

                                    <!--                                                    <div-->
                                    <!--                                                            (click)="-->
                                    <!--                            changeExportFile(journalTransData[parent.idx]);-->
                                    <!--                            $event.stopPropagation()-->
                                    <!--                          "-->
                                    <!--                                                            class="alert"-->
                                    <!--                                                    >-->
                                    <!--                                                        הוספה לקובץ קליטה-->
                                    <!--                                                    </div>-->
                                    <!--                                                </div>-->
                                    <!--                                            </ng-container>-->
                                    <!--                                            <ng-container *ngSwitchCase="'JOURNAL_TRANS_PROCESS'">-->
                                    <!--                                                <div style="width: 576px">-->
                                    <!--                        <span *ngIf="parent.fileType === 'BANK_AND_CREDIT'">-->
                                    <!--                          <ng-container-->
                                    <!--                                  *ngIf="-->
                                    <!--                              parent.numOfBankData && parent.numOfCreditData;-->
                                    <!--                              else notBothFull-->
                                    <!--                            "-->
                                    <!--                          >-->
                                    <!--                            {{ parent.numOfBankData }} תנועות בנק ו{{-->
                                    <!--                              parent.numOfCreditData-->
                                    <!--                              }}-->
                                    <!--                              תנועות אשראי-->
                                    <!--                          </ng-container>-->
                                    <!--                          <ng-template #notBothFull>-->
                                    <!--                            {{-->
                                    <!--                              parent.numOfBankData-->
                                    <!--                                  ? parent.numOfBankData + ' תנועות בנק '-->
                                    <!--                                  : parent.numOfCreditData + ' תנועות אשראי '-->
                                    <!--                              }}-->
                                    <!--                          </ng-template>-->
                                    <!--                        </span>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            parent.fileType === 'CCARD_TRANS' &&-->
                                    <!--                            parent.numOfCreditData-->
                                    <!--                          "-->
                                    <!--                                                    >-->
                                    <!--                          {{ parent.numOfCreditData }} תנועות אשראי-->
                                    <!--                        </span>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            parent.fileType === 'BANK_TRANS' &&-->
                                    <!--                            parent.numOfBankData-->
                                    <!--                          "-->
                                    <!--                                                    >-->
                                    <!--                          {{ parent.numOfBankData }} תנועות בנק-->
                                    <!--                        </span>-->
                                    <!--                                                    <span> בתהליך קליטה </span>-->
                                    <!--                                                </div>-->
                                    <!--                                            </ng-container>-->
                                    <!--                                            <ng-container *ngSwitchCase="'PERMANENT_COMMAND'">-->
                                    <!--                                                <div style="width: 576px">-->
                                    <!--                        <span *ngIf="parent.fileType === 'BANK_AND_CREDIT'">-->
                                    <!--                          <ng-container-->
                                    <!--                                  *ngIf="-->
                                    <!--                              parent.numOfBankData && parent.numOfCreditData;-->
                                    <!--                              else notBothFull-->
                                    <!--                            "-->
                                    <!--                          >-->
                                    <!--                            {{ parent.numOfBankData }} תנועות בנק ו{{-->
                                    <!--                              parent.numOfCreditData-->
                                    <!--                              }}-->
                                    <!--                              תנועות אשראי-->
                                    <!--                          </ng-container>-->
                                    <!--                          <ng-template #notBothFull>-->
                                    <!--                            {{-->
                                    <!--                              parent.numOfBankData-->
                                    <!--                                  ? parent.numOfBankData + ' תנועות בנק '-->
                                    <!--                                  : parent.numOfCreditData + ' תנועות אשראי '-->
                                    <!--                              }}-->
                                    <!--                          </ng-template>-->
                                    <!--                        </span>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            parent.fileType === 'CCARD_TRANS' &&-->
                                    <!--                            parent.numOfCreditData-->
                                    <!--                          "-->
                                    <!--                                                    >-->
                                    <!--                          {{ parent.numOfCreditData }} תנועות אשראי-->
                                    <!--                        </span>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            parent.fileType === 'BANK_TRANS' &&-->
                                    <!--                            parent.numOfBankData-->
                                    <!--                          "-->
                                    <!--                                                    >-->
                                    <!--                          {{ parent.numOfBankData }} תנועות בנק-->
                                    <!--                        </span>-->
                                    <!--                                                    <span>-->
                                    <!--                          ע”ס-->
                                    <!--                                                        {{-->
                                    <!--                                                        roundAndAddCommaFunc(-->
                                    <!--                                                            journalTransData[parent.idx].total-->
                                    <!--                                                        )-->
                                    <!--                                                        }}-->
                                    <!--                                                        נקלטו במנה-->
                                    <!--                                                        {{ journalTransData[parent.idx].batchNumber }}-->
                                    <!--                        </span>-->
                                    <!--                                                </div>-->
                                    <!--                                                <ng-container-->
                                    <!--                                                        *ngIf="journalTransData[parent.idx].dateLastModified"-->
                                    <!--                                                >-->
                                    <!--                        <span [ngStyle]="{ 'margin-right': '1em' }">-->
                                    <!--                          ({{-->
                                    <!--                            (journalTransData[parent.idx].dateLastModified-->
                                    <!--                                | date: 'H:mm') || ''-->
                                    <!--                            }}-->
                                    <!--                            )-->
                                    <!--                            {{-->
                                    <!--                            (journalTransData[parent.idx].dateLastModified-->
                                    <!--                                | date: 'd/M/yy') || ''-->
                                    <!--                            }}-->
                                    <!--                        </span>-->
                                    <!--                                                </ng-container>-->
                                    <!--                                                <div class="text-ellipsis leftSide">-->
                                    <!--                                                    <mat-icon-->
                                    <!--                                                            style="color: #022258; height: 18px; width: 35px"-->
                                    <!--                                                            svgIcon="tick"-->
                                    <!--                                                    ></mat-icon>-->
                                    <!--                                                    <div>הקובץ נקלט במנה קבועה</div>-->
                                    <!--                                                </div>-->
                                    <!--                                            </ng-container>-->
                                    <!--                                            <ng-container *ngSwitchCase="'FOLDER_PLUS_ISSUE'">-->
                                    <!--                                                <div style="width: 576px">-->
                                    <!--                        <span *ngIf="parent.fileType === 'BANK_AND_CREDIT'">-->
                                    <!--                          <ng-container-->
                                    <!--                                  *ngIf="-->
                                    <!--                              parent.numOfBankData && parent.numOfCreditData;-->
                                    <!--                              else notBothFull-->
                                    <!--                            "-->
                                    <!--                          >-->
                                    <!--                            {{ parent.numOfBankData }} תנועות בנק ו{{-->
                                    <!--                              parent.numOfCreditData-->
                                    <!--                              }}-->
                                    <!--                              תנועות אשראי-->
                                    <!--                          </ng-container>-->
                                    <!--                          <ng-template #notBothFull>-->
                                    <!--                            {{-->
                                    <!--                              parent.numOfBankData-->
                                    <!--                                  ? parent.numOfBankData + ' תנועות בנק '-->
                                    <!--                                  : parent.numOfCreditData + ' תנועות אשראי '-->
                                    <!--                              }}-->
                                    <!--                          </ng-template>-->
                                    <!--                        </span>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            parent.fileType === 'CCARD_TRANS' &&-->
                                    <!--                            parent.numOfCreditData-->
                                    <!--                          "-->
                                    <!--                                                    >-->
                                    <!--                          {{ parent.numOfCreditData }} תנועות אשראי-->
                                    <!--                        </span>-->
                                    <!--                                                    <span-->
                                    <!--                                                            *ngIf="-->
                                    <!--                            parent.fileType === 'BANK_TRANS' &&-->
                                    <!--                            parent.numOfBankData-->
                                    <!--                          "-->
                                    <!--                                                    >-->
                                    <!--                          {{ parent.numOfBankData }} תנועות בנק-->
                                    <!--                        </span>-->
                                    <!--                                                    <span>-->
                                    <!--                          ע”ס-->

                                    <!--                                                        {{-->
                                    <!--                                                        roundAndAddCommaFunc(-->
                                    <!--                                                            journalTransData[parent.idx].total-->
                                    <!--                                                        )-->
                                    <!--                                                        }}-->
                                    <!--                                                        לא נקלטו בחשבשבת</span-->
                                    <!--                                                    >-->
                                    <!--                                                </div>-->

                                    <!--                                                <div class="text-ellipsis leftSide">-->
                                    <!--                                                    <img-->
                                    <!--                                                            [pTooltip]="parent.folderErrorDesc"-->
                                    <!--                                                            [tooltipDisabled]="!parent.folderErrorDesc"-->
                                    <!--                                                            height="15"-->
                                    <!--                                                            src="/assets/images/infoTooltip.png"-->
                                    <!--                                                            style="margin-left: 5px"-->
                                    <!--                                                            tooltipPosition="top"-->
                                    <!--                                                            width="15"-->
                                    <!--                                                    />-->

                                    <!--                                                    <div class="red" style="text-decoration:underline;color: #df0000;">-->
                                    <!--                                                        קיימת-->
                                    <!--                                                        בעיה בקליטת הקובץ לתוכנת הנה״ח-->
                                    <!--                                                    </div>-->
                                    <!--                                                </div>-->
                                    <!--                                            </ng-container>-->
                                    <!--                                        </ng-container>-->

                                    <!--                                        <button-->
                                    <!--                                                (click)="-->
                                    <!--                      printPage(journalTransData[parent.idx]);-->
                                    <!--                      $event.stopPropagation()-->
                                    <!--                    "-->
                                    <!--                                                [matTooltip]="-->
                                    <!--                      'appWalk.customers.report.printBtn' | translate-->
                                    <!--                    "-->
                                    <!--                                                matTooltipPosition="above"-->
                                    <!--                                                style="-->
                                    <!--                      outline: none;-->
                                    <!--                      border: none;-->
                                    <!--                      padding: 0;-->
                                    <!--                      margin: 0;-->
                                    <!--                      margin-right: 15px;-->
                                    <!--                      cursor: pointer;-->
                                    <!--                    "-->
                                    <!--                                        >-->
                                    <!--                                            <img-->
                                    <!--                                                    height="17"-->
                                    <!--                                                    src="/assets/images/printIcon.png"-->
                                    <!--                                                    width="19"-->
                                    <!--                                            />-->
                                    <!--                                        </button>-->
                                    <!--                                    </div>-->
                                    <!--                                </div>-->
                                    <div

                                            [class.activeRowBack]="
                  parent
                    .paymentId === fileIdToToActive
                "
                                            [class.active]="
                  tooltipEdit.overlayVisible &&
                  tooltipEditFile.paymentId === parent.paymentId
                "
                                            [class.disabled]="
                  journalTransData[indexSelectedJournal].status ===
                    'JOURNAL_TRANS_PROCESS' ||
                  journalTransData[indexSelectedJournal].status ===
                    'PERMANENT_COMMAND'
                     ||
                  journalTransData[indexSelectedJournal].status ===
                    'FOLDER_PLUS_ISSUE'
                "
                                            class="row"
                                    >
                                        <div>
                                            <p-checkbox (onChange)="
                     parent.selcetFile =
                        !parent.selcetFile;
                      checkSelectedJournalTransData()
                    "
                                                        *ngIf="
                      journalTransData[indexSelectedJournal].status !==
                        'JOURNAL_TRANS_PROCESS' &&
                      journalTransData[indexSelectedJournal].status !==
                        'PERMANENT_COMMAND'
                        &&
                            journalTransData[indexSelectedJournal].status !==
                        'FOLDER_PLUS_ISSUE'
                    "
                                                        [binary]="true"
                                                        [ngModel]="
                   parent
                        .selcetFile
                    "
                                                        checkboxIcon="fa fa-check"
                                            >
                                            </p-checkbox>
                                        </div>
                                        <div style="display: flex">
                                            <div
                                                    [innerHTML]="
                      (parent
                        .invoiceDate | date: 'dd/MM/y') || '-'
                        | highlight: queryString
                    "
                                                    [ngStyle]="{
                      'margin-right':
                     parent
                          .invoiceDate !== null
                          ? '0'
                          : '12%'
                    }"
                                                    class="text-ellipsis"
                                            ></div>
                                        </div>
                                        <div class="text-ellipsis">
                                            <div
                                                    [innerHTML]="
                parent
                        .sugTnua || '-' | highlight: queryString
                    "
                                                    [ngStyle]="{
                      'margin-right':
              parent
                          .sugTnua !== null
                          ? '0'
                          : '12%'
                    }"
                                                    [pTooltip]="
                   parent
                        .sugTnuaTooltip
                    "
                                            ></div>
                                        </div>
                                        <div class="text-ellipsis">
                                            <div
                                                #elementTooltip
                                                [innerHTML]="
                 parent
                        .details || '-' | highlight: queryString
                    "
                                                [ngStyle]="{
                      'margin-right':
                   parent
                          .details !== null
                          ? '0'
                          : '12%'
                    }"
                                                [pTooltip]="
              parent
                        .details
                    "
                                                [tooltipDisabled]="
                      elementTooltip.offsetWidth >= elementTooltip.scrollWidth
                    "
                                                class="text-ellipsis"
                                            ></div>
                                        </div>
                                        <div class="text-ellipsis">
                                            <div
                                                #elementTooltip
                                                [innerHTML]="
                 parent
                        .cardAccName || '-' | highlight: queryString
                    "
                                                [ngStyle]="{
                      'margin-right':
                       parent
                          .cardAccName !== null
                          ? '0'
                          : '12%'
                    }"
                                                [pTooltip]="
                      parent
                        .cardAccName
                    "
                                                [tooltipDisabled]="
                      elementTooltip.offsetWidth >= elementTooltip.scrollWidth
                    "
                                                class="text-ellipsis"
                                            ></div>
                                        </div>
                                        <div class="text-ellipsis">
                                            <div
                                                #elementTooltip
                                                [innerHTML]="
                      parent
                        .izuCustId || '-' | highlight: queryString
                    "
                                                [ngStyle]="{
                      'margin-right':
                        parent
                          .izuCustId !== null
                          ? '0'
                          : '12%'
                    }"
                                                [pTooltip]="
                      parent
                        .izuCustId
                    "
                                                [tooltipDisabled]="
                      elementTooltip.offsetWidth >= elementTooltip.scrollWidth
                    "
                                                class="text-ellipsis"
                                            ></div>
                                        </div>
                                        <div class="text-ellipsis">
                                            <div
                                                    [class.sum-credit]="
                      !parent
                        .hova
                    "
                                                    [class.sum-debit]="
                      parent
                        .hova
                    "
                                                    [ngStyle]="{
                      'margin-right':
                        parent
                          .total !== null
                          ? '0'
                          : '12%'
                    }"
                                                    class="text-ellipsis"
                                            >
                                                <ng-container
                                                        *ngIf="
                        parent
                          .total !== null;
                        else empty
                      "
                                                >
                                                    <app-sum-view
                                                            [highlight]="queryString"
                                                            [ngStyle]="{
                          'margin-right': parent.hova
                            ? '15px'
                            : '0'
                        }"
                                                            [sum]="
                          parent.total
                        "
                                                    ></app-sum-view>
                                                    ₪
                                                </ng-container>
                                                <ng-template #empty> -</ng-template>
                                            </div>

                                            <div *ngIf="parent.totalSplit"
                                                 [ngStyle]="{
                          'margin-right': parent.hova
                            ? '15px'
                            : '0'
                        }"
                                                 style="font-size: 12px;line-height: 12px;color: #022258;">
                                                מתוך

                                                <app-sum-view
                                                        [highlight]="queryString"
                                                        [sum]="
                          parent.totalSplit
                        "
                                                ></app-sum-view>

                                            </div>
                                        </div>
                                        <div class="text-ellipsis">
                                            <div
                                                    [class.sum-credit]="
                      !parent
                        .hova
                    "
                                                    [class.sum-debit]="
                      parent
                        .hova
                    "
                                                    [ngStyle]="{
                      'margin-right':
                        parent
                          .totalMatah !== null
                          ? '0'
                          : '12%'
                    }"
                                                    class="text-ellipsis"
                                            >
                                                <ng-container
                                                        *ngIf="
                        parent
                          .totalMatah !== null;
                        else empty
                      "
                                                >
                                                    <app-sum-view
                                                            [highlight]="queryString"
                                                            [ngStyle]="{
                          'margin-right': parent.hova
                            ? '15px'
                            : '0'
                        }"
                                                            [sum]="
                         parent.totalMatah
                        "
                                                    ></app-sum-view>
                                                    {{parent.currencyIdSign}}
                                                </ng-container>
                                                <ng-template #empty> -</ng-template>
                                            </div>
                                        </div>
                                        <div class="text-ellipsis">
                                            <div
                                                #elementTooltip
                                                [innerHTML]="
                      parent
                        .custId || '-' | highlight: queryString
                    "
                                                [ngStyle]="{
                      'margin-right':
                        parent
                          .custId !== null
                          ? '0'
                          : '12%'
                    }"
                                                [pTooltip]="
                      parent
                        .custId
                    "
                                                [tooltipDisabled]="
                      elementTooltip.offsetWidth >= elementTooltip.scrollWidth
                    "
                                                class="text-ellipsis"
                                            ></div>
                                        </div>
                                        <div>
                                            <div style="flex: 25px">
                                                <div
                                                        *ngIf="
                        parent
                          .splitNum
                      "
                                                        [class.isChanged]="
                        parent
                          .isChanged
                      "
                                                        [class.isDeleted]="
                        parent
                          .isDeleted
                      "
                                                        class="childrenNum"
                                                >
                      <span>{{
                          parent
                              .splitNum
                          }}</span>
                                                </div>
                                                <div
                                                        *ngIf="
                        !parent.splitNum
                      "
                                                >
                                                    &nbsp;
                                                </div>
                                            </div>
                                            <div class="iconPic">
                                                <mat-icon
                                                        (click)="
                                                    sharedComponent.mixPanelEvent('tezuga makdima');
                        getPaymentDetails(
                       parent
                        )
                      "
                                                        style="width: 17px; height: 17px; color: #939393"
                                                        svgIcon="picIcon"
                                                ></mat-icon>
                                            </div>
                                            <div>
                                                <!--                                                <i-->
                                                <!--                                                        (click)="-->
                                                <!--                        tooltipEditFile =-->
                                                <!--                         parent;-->
                                                <!--                        tooltipEditParentFile =-->
                                                <!--                          journalTransData[indexSelectedJournal];-->
                                                <!--                        tooltipEdit.toggle($event)-->
                                                <!--                      "-->
                                                <!--                                                        class="fas fa-ellipsis-v"-->
                                                <!--                                                ></i>-->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </cdk-virtual-scroll-viewport>

                        </ng-scrollbar>

                        <p-overlayPanel
                            #tooltipEdit
                            [style]="{
																				    'margin-left': '28px',
'margin-top': '7px !important',
                    'width': 'auto'
                  }"
                            appendTo="body"
                            styleClass="tooltip-bottom tooltip-acc-deviation tooltip-daily-edit overlayPanelRightClick"
                        >
                            <ul *ngIf="tooltipEditParentFile" style="width: 195px">
                                <li
                                        (click)="
                  (tooltipEditParentFile.status === 'CREATE_JOURNAL_TRANS' &&
                    tooltipEditParentFile.collapseText) ||
                  tooltipEditParentFile.status === 'JOURNAL_TRANS_PROCESS' ||
                  tooltipEditParentFile.status === 'TEMP_COMMAND' ||
                  tooltipEditParentFile.status === 'PERMANENT_COMMAND'
                    ? null
                    : backToCare(tooltipEditFile);
                  tooltipEdit.hide()
                "
                                        [class.p-disabled]="
                  (tooltipEditParentFile.status === 'CREATE_JOURNAL_TRANS' &&
                    tooltipEditParentFile.collapseText) ||
                  tooltipEditParentFile.status === 'JOURNAL_TRANS_PROCESS' ||
                  tooltipEditParentFile.status === 'TEMP_COMMAND' ||
                  tooltipEditParentFile.status === 'PERMANENT_COMMAND'
                "
                                >
                                    <div
                                            class="p-helper-clearfix"
                                            style="display: flex; display: -ms-flexbox"
                                    >
                                        <div style="align-self: center; flex: 14; -ms-flex: 14">
                                            <mat-icon
                                                    style="width: 14px; vertical-align: middle"
                                                    svgIcon="cancel"
                                            ></mat-icon>
                                        </div>
                                        <p
                                                class="nameAcc"
                                                style="
                      overflow: hidden;
                      white-space: nowrap;
                      text-overflow: ellipsis;
                      flex: 85;
                      -ms-flex: 85;
                    "
                                        >
                                            ניכוי כרטיס וחזרה לטיפול
                                        </p>
                                    </div>
                                </li>
                                <li
                                        (click)="
                  showArchiveModal = {
                    paymentType: tooltipEditFile.paymentType,
                    paymentId: tooltipEditFile.paymentId
                  };
                  tooltipEdit.hide()
                "
                                >
                                    <div
                                            class="p-helper-clearfix"
                                            style="display: flex; display: -ms-flexbox"
                                    >
                                        <div style="align-self: center; flex: 14; -ms-flex: 14">
                                            <mat-icon
                                                    style="width: 14px; vertical-align: middle"
                                                    svgIcon="doc"
                                            ></mat-icon>
                                        </div>
                                        <p
                                                class="nameAcc"
                                                style="
                      overflow: hidden;
                      white-space: nowrap;
                      text-overflow: ellipsis;
                      flex: 85;
                      -ms-flex: 85;
                    "
                                        >
                                            קישור חשבונית
                                        </p>
                                    </div>
                                </li>
                                <!--                                            <li (click)="journalTransComponent.docToSend.show(tooltipEditFile.paymentId, null, false); tooltipEdit.hide();">-->
                                <!--                                                <div class="p-helper-clearfix"-->
                                <!--                                                     style="display: flex; display: -ms-flexbox;">-->
                                <!--                                                    <div style="align-self: center; flex: 20;-ms-flex:20;">-->
                                <!--                                                        <mat-icon svgIcon="send"-->
                                <!--                                                                  style="width: 14px;vertical-align: middle;"></mat-icon>-->
                                <!--                                                    </div>-->
                                <!--                                                    <p class="nameAcc"-->
                                <!--                                                       style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis;flex: 85;-ms-flex:85;">-->
                                <!--                                                        שליחת הודעה ללקוח-->
                                <!--                                                    </p>-->
                                <!--                                                </div>-->
                                <!--                                            </li>-->

                                <li
                                        (click)="
                  (tooltipEditParentFile.status === 'CREATE_JOURNAL_TRANS' &&
                    tooltipEditParentFile.collapseText) ||
                  tooltipEditParentFile.status === 'JOURNAL_TRANS_PROCESS' ||
                  tooltipEditParentFile.status === 'TEMP_COMMAND' ||
                  tooltipEditParentFile.status === 'PERMANENT_COMMAND'
                    ? null
                    : deleteCommandRow(tooltipEditFile);
                  tooltipEdit.hide()
                "
                                        [class.p-disabled]="
                  (tooltipEditParentFile.status === 'CREATE_JOURNAL_TRANS' &&
                    tooltipEditParentFile.collapseText) ||
                  tooltipEditParentFile.status === 'JOURNAL_TRANS_PROCESS' ||
                  tooltipEditParentFile.status === 'TEMP_COMMAND' ||
                  tooltipEditParentFile.status === 'PERMANENT_COMMAND'
                "
                                >
                                    <div
                                            class="p-helper-clearfix"
                                            style="display: flex; display: -ms-flexbox"
                                    >
                                        <div style="align-self: center; flex: 14; -ms-flex: 14">
                                            <mat-icon
                                                    style="width: 14px; vertical-align: middle"
                                                    svgIcon="trash"
                                            ></mat-icon>
                                        </div>
                                        <p
                                                class="nameAcc"
                                                style="
                      overflow: hidden;
                      white-space: nowrap;
                      text-overflow: ellipsis;
                      flex: 85;
                      -ms-flex: 85;
                    "
                                        >
                                            מחיקה
                                        </p>
                                    </div>
                                </li>
                            </ul>
                        </p-overlayPanel>
                    </ng-container>

                    <div
                            *ngIf="journalTransDataSave && !journalTransDataSave.length"
                            class="noData"
                    >
                        <mat-icon
                                style="
              vertical-align: middle;
              width: auto;
              height: 61px;
              margin-bottom: 10px;
            "
                                svgIcon="export2"
                        ></mat-icon>

                        <h1>
                            לא קיימות תנועות לפקודות יומן
                            -
                            {{exportFileStatusFilter === 'DONE_PROCESS' ?
                            ' קבצים שנקלטו'
                            : ' קבצים בתהליך'}}
                        </h1>
                    </div>
                    <div
                            *ngIf="
            journalTransDataSave &&
            journalTransDataSave.length && journalTransData &&
            journalTransData[indexSelectedJournal] &&
          (!journalTransData[indexSelectedJournal]?.transData ||
            (journalTransData[indexSelectedJournal]?.transData && !journalTransData[indexSelectedJournal]?.transData.length))
          "
                            class="noData"
                    >
                        <mat-icon
                                style="
              vertical-align: middle;
              width: auto;
              height: 61px;
              margin-bottom: 10px;
            "
                                svgIcon="interface"
                        ></mat-icon>

                        <h1>לא נמצאו תנועות לחיפוש המבוקש</h1>
                    </div>
                </div>
            </div>

            <div [class.show]="showFloatNav" class="bottomNavAction">
                <div [class.disabled]="!showFloatNav?.selcetedFilesEnabled">
                    <mat-icon
                            (click)="showFloatNav?.selcetedFilesEnabled ? backToCare() : null"
                            [pTooltip]="'ניכוי כרטיס וחזרה לטיפול'"
                            style="color: #ffffff; height: 100%; width: 19px"
                            svgIcon="cancel"
                            tooltipPosition="top"
                    ></mat-icon>
                </div>
                <div>
                    <mat-icon
                            (click)="showArchiveModal = showFloatNav?.selcetedFiles"
                            [pTooltip]="'קישור חשבונית'"
                            style="color: #ffffff; height: 100%; width: 19px"
                            svgIcon="doc"
                            tooltipPosition="top"
                    ></mat-icon>
                </div>
                <!--            <div>-->
                <!--                <mat-icon svgIcon="send"-->
                <!--                          (click)="journalTransComponent.docToSend.show(null, showFloatNav)"-->
                <!--                          [pTooltip]="'שליחת הודעה ללקוח'"-->
                <!--                          tooltipPosition="top"-->
                <!--                          style="color: #ffffff;-->
                <!--            height: 100%;-->
                <!--            width: 19px;"></mat-icon>-->
                <!--            </div>-->
                <div [class.disabled]="!showFloatNav?.selcetedFilesEnabled">
                    <i
                            (click)="
            showFloatNav?.selcetedFilesEnabled ? (fileToRemove = true) : null
          "
                            [pTooltip]="'מחיקה'"
                            class="fas fa-trash"
                            style="color: #ffffff; font-size: 20px"
                            tooltipPosition="top"
                    ></i>
                </div>
                <div>
                    <mat-icon
                            (click)="showOpenTicket()"
                            [pTooltip]="'פתיחת קריאת שירות'"
                            style="width: 21px; color: #ffffff"
                            svgIcon="icon_support"
                            tooltipPosition="top">
                    </mat-icon>
                </div>
            </div>
        </ng-container>
        <ng-container *ngIf="fileStatus === 'BANK_MATCH'">
            <div class="lineAccBankMatchAccountNav" style="display: flex">
                <div id="bankMatchAccountNav">
                    <div id="groupAcc">
                        <div
                                (mouseenter)="prevScroll(navBanks, true)"
                                (mouseleave)="scrollRobotStop($event)"
                                *ngIf="nav.prev"
                                id="prevScroll"
                        >
                            <i class="fas fa-angle-right"></i>
                        </div>
                        <ul #navBanks style="overflow-x: hidden; white-space: nowrap">
                            <ng-container *ngFor="let acc of accountsBarData.accountsBarDto">
                                <li *ngIf="tabMatched === 1"
                                    [class.transCountZeroHide]="(!acc.transCount) && !acc.show && !acc.title"
                                    [class.transCountZero]="(!acc.transCount) && acc.show && !acc.title"
                                >
                                    <div
                                            (click)="!acc.title ? setBankAcc(acc) : toggleAccChild(acc)"
                                            [class.activeTitle]="(acc.title && acc.show)"
                                            [class.active]="accountSelected.accountId === acc.accountId"
                                            [class.title]="(acc.title)"
                                            [ngStyle]="{
										    'border-bottom': acc.title ? '1px solid #0f3760' : 'none',
										'padding-left': acc.title ? '0' : '9px',
											'margin-left': acc.title && acc.show ? '0' : '9px'
										}"
                                            style="display: flex"
                                    >
                                        <img
                                                [alt]="acc.accountNickname"
                                                [ngSrc]="
                    acc.bankId
                      ? (acc.bankId
                        | toIconSrc
                          : (acc.accountType === 'BANK' ? 'bank' : 'card')
                          : ''
                          : true)
                      : ''
                  " fill style="height: auto; width: auto; position: relative;"
                                        />
                                        <ng-container *ngIf="acc.title">
                                            <div class="text-ellipsis">
                                                {{ ((acc.accountType === 'BANK' ? 'banks' : 'creditCards') + '.' + acc.bankId) | translate }}
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="!acc.title">
                                            <div [pTooltip]="acc.custId + (!!acc.custName ? ' - ' + acc.custName : '')"
                                                 class="text-ellipsis"
                                                 tooltipPosition="top">
                                                {{ acc.accountNickname }}
                                                ({{ acc.currencyCode | currencySymbol }})
                                                <!--                                            {{ acc.currencyId === 1 ? '' : acc.currencySign }}-->
                                            </div>
                                            <i
                                                    *ngIf="acc.accountType === 'BANK'"
                                                    [matTooltip]="'מספר הפקודות הפתוחות בצד הספרים לחשבון בנק'"
                                                    matTooltipPosition="below"
                                            >
                                                {{ acc.transCount > 99 ? '99+' : acc.transCount }}
                                            </i>
                                            <i
                                                    *ngIf="acc.accountType !== 'BANK'"
                                                    [matTooltip]="'מספר הפקודות הפתוחות בצד הספרים לכרטיס אשראי'"
                                                    matTooltipPosition="below"
                                            >
                                                {{ acc.transCount > 99 ? '99+' : acc.transCount }}
                                            </i>
                                        </ng-container>

                                    </div>
                                </li>
                                <li *ngIf="tabMatched === 2 && !acc.title">
                                    <div
                                            (click)="setBankAcc(acc)"
                                            [class.active]="accountSelected.accountId === acc.accountId"
                                            [ngStyle]="{
										    'border-bottom': acc.title ? '1px solid #0f3760' : 'none',
										'padding-left': acc.title ? '0' : '9px',
											'margin-left': acc.title && acc.show ? '0' : '9px'
										}"
                                            style="display: flex"
                                    >
                                        <img
                                                [alt]="acc.accountNickname"
                                                [ngSrc]="
                    acc.bankId
                      ? (acc.bankId
                        | toIconSrc
                          : (acc.accountType === 'BANK' ? 'bank' : 'card')
                          : ''
                          : true)
                      : ''
                  " fill style="height: auto; width: auto; position: relative;"
                                        />
                                        <div class="text-ellipsis" style="margin-left: 6px;">
                                            {{ acc.accountNickname }}
                                            ({{ acc.currencyCode | currencySymbol }})
                                            <!--                                        {{ acc.currencyId === 1 ? '' : acc.currencySign }}-->
                                        </div>
                                        <!--									<i-->
                                        <!--											*ngIf="acc.accountType === 'BANK'"-->
                                        <!--											[matTooltip]="'מספר הפקודות הפתוחות בצד הספרים לחשבון בנק'"-->
                                        <!--											matTooltipPosition="below"-->
                                        <!--									>-->
                                        <!--										{{ acc.transCount > 99 ? '99+' : acc.transCount }}-->
                                        <!--									</i>-->
                                        <!--									<i-->
                                        <!--											*ngIf="acc.accountType !== 'BANK'"-->
                                        <!--											[matTooltip]="'מספר הפקודות הפתוחות בצד הספרים לכרטיס אשראי'"-->
                                        <!--											matTooltipPosition="below"-->
                                        <!--									>-->
                                        <!--										{{ acc.transCount > 99 ? '99+' : acc.transCount }}-->
                                        <!--									</i>-->
                                    </div>
                                </li>
                            </ng-container>
                        </ul>
                        <div
                                (mouseenter)="nextScroll(navBanks, true)"
                                (mouseleave)="scrollRobotStop($event)"
                                *ngIf="nav.next"
                                id="nextScroll"
                        >
                            <i class="fas fa-angle-left"></i>
                        </div>
                    </div>
                </div>

                <div *ngIf="tabMatched === 1"
                     style="
    display: flex;
    margin-right: 10px;
">
                    <div
                            style="
    margin-left: 0;
    display:flex;
    align-items: flex-end;
">
                        <p style="color: #022258; font-size: 16px; font-weight:700;">
                            תצוגת טבלה
                        </p>
                        <div class="tabsTableOrder" style="margin-right:14px; display:flex; align-items: flex-end">
                            <div style="margin-left:8px;">
                                <mat-icon
                                        (click)="sharedComponent.mixPanelEvent('tezuga'); checkBoxesNear = true"
                                        [svgIcon]="checkBoxesNear === true ? 'rightBtnArrActive' : 'rightBtnArr'"
                                        style="cursor: pointer; width: 33px;height: 22px; display: block;">
                                </mat-icon>
                            </div>
                            <div>
                                <mat-icon
                                        (click)="sharedComponent.mixPanelEvent('tezuga'); checkBoxesNear = false"
                                        [svgIcon]="checkBoxesNear === false ? 'leftBtnArrActive' : 'leftBtnArr'"
                                        style="cursor: pointer; width: 33px;height: 22px; display: block;">
                                </mat-icon>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <ng-container *ngIf="tabMatched === 1">
                <div class="twoTables twoTablesModal" style="position: relative">
                    <div
                            [class.isBorder]="banktransForMatchAll?.length"
                            class="banktransForMatch"
                            style="flex: 800"
                    >
                        <div #banktransForMatchHeaderTitle class="title">
                            <i

                                    style="line-height: 1em"
                            >
                                ספרים

                                <span *ngIf="banktransForMatchAll && banktransForMatchAll?.length"
                                      style="color: #0f3860;">
								({{banktransForMatchAll.length}})
							</span>
                            </i>

                            <div class="search">
                                <input
                                        [formControl]="filterInputBooks"
                                        autocomplete="off"
                                        id="containTextFilter"
                                        placeholder="{{ 'filters.search' | translate }}"
                                        style="border-bottom: none"
                                        type="text"
                                />

                                <!--                            <div class="menu-dd menu-with-panel" style="position: relative;">-->
                                <!--                                <div class="advancedSearchBtn" (click)="togglePanel1()" [class.opened]="showPanelDD1" #selector>-->
                                <!--                                    חיפוש מתקדם-->
                                <!--                                </div>-->
                                <!--                                <div class="panelDD advancedSearchPanel" *ngIf="showPanelDD1" [@slideInOutDD] appClickDocument-->
                                <!--                                     (onClose)="showPanelDD1 = false">-->
                                <!--                                    <form novalidate [formGroup]="advancedSearchParams1">-->
                                <!--                                        <div class="rows-advancedSearchParams">-->
                                <!--                                            <div class="row">-->
                                <!--                                                <div class="label">-->
                                <!--                                                    סינון תאריכים לטבלה-->
                                <!--                                                </div>-->
                                <!--                                                <div class="content flexRow">-->
                                <!--                                                    <label for="sendDateFrom" class="labelFlex">-->
                                <!--                                                        מ- -->
                                <!--                                                    </label>-->
                                <!--                                                    <p-calendar formControlName="sendDateFrom"-->
                                <!--                                                                inputId="sendDateFrom"-->
                                <!--                                                                [ngClass]="{'err': (!advancedSearchParams1.get('sendDateFrom').value && advancedSearchParams1.get('sendDateTill').value)}"-->
                                <!--                                                                [inputStyle]="{'max-width': '121px'}"-->
                                <!--                                                                [locale]="'langCalendar'| translate"-->
                                <!--                                                                id="sendDateFrom"-->
                                <!--                                                                dateFormat="d/m/y"-->
                                <!--                                                                (onSelect)="changeDatesFrequencyDesc('sendDateFrom')"-->
                                <!--                                                                #transDateSelector>-->
                                <!--                                                    </p-calendar>-->
                                <!--                                                    <span style="padding: 0px 12.5px"></span>-->
                                <!--                                                    <label for="sendDateTill" class="labelFlex">-->
                                <!--                                                        עד- -->
                                <!--                                                    </label>-->
                                <!--                                                    <p-calendar formControlName="sendDateTill"-->
                                <!--                                                                inputId="sendDateTill"-->
                                <!--                                                                [ngClass]="{'err': (advancedSearchParams1.get('sendDateFrom').value && !advancedSearchParams1.get('sendDateTill').value)}"-->
                                <!--                                                                [inputStyle]="{'max-width': '121px'}"-->
                                <!--                                                                [locale]="'langCalendar'| translate"-->
                                <!--                                                                id="sendDateTill"-->
                                <!--                                                                dateFormat="d/m/y"-->
                                <!--                                                                (onSelect)="changeDatesFrequencyDesc('sendDateTill')">-->
                                <!--                                                    </p-calendar>-->
                                <!--                                                </div>-->
                                <!--                                            </div>-->
                                <!--                                            <div class="row">-->
                                <!--                                                <div class="label">-->
                                <!--                                                    תאריך אסמכתא-->
                                <!--                                                </div>-->
                                <!--                                                <div class="content flexRow">-->
                                <!--                                                    <label for="invoiceDateFrom" class="labelFlex">-->
                                <!--                                                        מ- -->
                                <!--                                                    </label>-->
                                <!--                                                    <p-calendar formControlName="invoiceDateFrom"-->
                                <!--                                                                inputId="invoiceDateFrom"-->
                                <!--                                                                [ngClass]="{'err': (!advancedSearchParams1.get('invoiceDateFrom').value && advancedSearchParams1.get('invoiceDateTill').value)}"-->
                                <!--                                                                [inputStyle]="{'max-width': '121px'}"-->
                                <!--                                                                [locale]="'langCalendar'| translate"-->
                                <!--                                                                id="invoiceDateFrom"-->
                                <!--                                                                dateFormat="d/m/y"-->
                                <!--                                                                (onSelect)="changeDatesFrequencyDesc('invoiceDateFrom')"-->
                                <!--                                                                #transDateSelector2>-->
                                <!--                                                    </p-calendar>-->
                                <!--                                                    <span style="padding: 0px 12.5px"></span>-->

                                <!--                                                    <label for="invoiceDateTill" class="labelFlex">-->
                                <!--                                                        עד- -->
                                <!--                                                    </label>-->
                                <!--                                                    <p-calendar formControlName="invoiceDateTill"-->
                                <!--                                                                inputId="invoiceDateTill"-->
                                <!--                                                                [ngClass]="{'err': (advancedSearchParams1.get('invoiceDateFrom').value && !advancedSearchParams1.get('invoiceDateTill').value)}"-->
                                <!--                                                                [inputStyle]="{'max-width': '121px'}"-->
                                <!--                                                                [locale]="'langCalendar'| translate"-->
                                <!--                                                                id="invoiceDateTill"-->
                                <!--                                                                dateFormat="d/m/y"-->
                                <!--                                                                (onSelect)="changeDatesFrequencyDesc('invoiceDateTill')">-->
                                <!--                                                    </p-calendar>-->
                                <!--                                                </div>-->
                                <!--                                            </div>-->
                                <!--                                            <div class="row">-->
                                <!--                                                <div class="label">-->
                                <!--                                                    תאריך ערך-->
                                <!--                                                </div>-->
                                <!--                                                <div class="content flexRow">-->
                                <!--                                                    <label for="invoiceDateFrom1" class="labelFlex">-->
                                <!--                                                        מ- -->
                                <!--                                                    </label>-->
                                <!--                                                    <p-calendar formControlName="invoiceDateFrom1"-->
                                <!--                                                                inputId="invoiceDateFrom1"-->
                                <!--                                                                [ngClass]="{'err': (!advancedSearchParams1.get('invoiceDateFrom1').value && advancedSearchParams1.get('invoiceDateTill1').value)}"-->
                                <!--                                                                [inputStyle]="{'max-width': '121px'}"-->
                                <!--                                                                [locale]="'langCalendar'| translate"-->
                                <!--                                                                id="invoiceDateFrom1"-->
                                <!--                                                                dateFormat="d/m/y"-->
                                <!--                                                                (onSelect)="changeDatesFrequencyDesc('invoiceDateFrom1')"-->
                                <!--                                                                #transDateSelector2>-->
                                <!--                                                    </p-calendar>-->
                                <!--                                                    <span style="padding: 0px 12.5px"></span>-->

                                <!--                                                    <label for="invoiceDateTill1" class="labelFlex">-->
                                <!--                                                        עד- -->
                                <!--                                                    </label>-->
                                <!--                                                    <p-calendar formControlName="invoiceDateTill1"-->
                                <!--                                                                inputId="invoiceDateTill1"-->
                                <!--                                                                [ngClass]="{'err': (advancedSearchParams1.get('invoiceDateFrom1').value && !advancedSearchParams1.get('invoiceDateTill1').value)}"-->
                                <!--                                                                [inputStyle]="{'max-width': '121px'}"-->
                                <!--                                                                [locale]="'langCalendar'| translate"-->
                                <!--                                                                id="invoiceDateTill1"-->
                                <!--                                                                dateFormat="d/m/y"-->
                                <!--                                                                (onSelect)="changeDatesFrequencyDesc('invoiceDateTill1')">-->
                                <!--                                                    </p-calendar>-->
                                <!--                                                </div>-->
                                <!--                                            </div>-->
                                <!--                                            <div class="row">-->

                                <!--                                                <div class="label">-->
                                <!--                                                    סכום-->
                                <!--                                                </div>-->
                                <!--                                                <div class="content flexRow">-->
                                <!--                                                    <label for="totalBeforeMaamFrom" class="labelFlex">-->
                                <!--                                                        מ- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           [ngClass]="{'err': (!advancedSearchParams1.get('totalBeforeMaamFrom').value && advancedSearchParams1.get('totalbeforeMaamTill').value)}"-->
                                <!--                                                           id="totalBeforeMaamFrom"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           appNumbersOnly="numWithTwoDec"-->
                                <!--                                                           formControlName="totalBeforeMaamFrom">-->
                                <!--                                                    <span style="padding: 0px 12.5px"></span>-->

                                <!--                                                    <label for="totalbeforeMaamTill" class="labelFlex">-->
                                <!--                                                        עד- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           appNumbersOnly="numWithTwoDec"-->
                                <!--                                                           [ngClass]="{'err': (advancedSearchParams1.get('totalBeforeMaamFrom').value && !advancedSearchParams1.get('totalbeforeMaamTill').value)}"-->
                                <!--                                                           id="totalbeforeMaamTill"-->
                                <!--                                                           formControlName="totalbeforeMaamTill">-->
                                <!--                                                </div>-->
                                <!--                                            </div>-->
                                <!--                                            <div class="row">-->

                                <!--                                                <div class="label">-->
                                <!--                                                    המחאה-->
                                <!--                                                </div>-->
                                <!--                                                <div class="content flexRow">-->
                                <!--                                                    <label for="totalIncludeMaamFrom" class="labelFlex">-->
                                <!--                                                        מ- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           [ngClass]="{'err': (!advancedSearchParams1.get('totalIncludeMaamFrom').value && advancedSearchParams1.get('totalIncludeMaamTill').value)}"-->
                                <!--                                                           id="totalIncludeMaamFrom"-->
                                <!--                                                           appNumbersOnly="numWithTwoDec"-->
                                <!--                                                           formControlName="totalIncludeMaamFrom">-->
                                <!--                                                    <span style="padding: 0px 12.5px"></span>-->

                                <!--                                                    <label for="totalIncludeMaamTill" class="labelFlex">-->
                                <!--                                                        עד- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           [ngClass]="{'err': (advancedSearchParams1.get('totalIncludeMaamFrom').value && !advancedSearchParams1.get('totalIncludeMaamTill').value)}"-->
                                <!--                                                           id="totalIncludeMaamTill"-->
                                <!--                                                           appNumbersOnly="numWithTwoDec"-->
                                <!--                                                           formControlName="totalIncludeMaamTill">-->
                                <!--                                                </div>-->
                                <!--                                            </div>-->
                                <!--                                            <div class="row">-->

                                <!--                                                <div class="label">-->
                                <!--                                                    אסמכתא 1-->
                                <!--                                                </div>-->
                                <!--                                                <div class="content flexRow">-->
                                <!--                                                    <label for="totalIncludeMaamFrom" class="labelFlex">-->
                                <!--                                                        מ- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           [ngClass]="{'err': (!advancedSearchParams1.get('totalIncludeMaamFrom').value && advancedSearchParams1.get('totalIncludeMaamTill').value)}"-->
                                <!--                                                           id="totalIncludeMaamFrom"-->
                                <!--                                                           appNumbersOnly="numWithTwoDec"-->
                                <!--                                                           formControlName="totalIncludeMaamFrom">-->
                                <!--                                                    <span style="padding: 0px 12.5px"></span>-->

                                <!--                                                    <label for="totalIncludeMaamTill" class="labelFlex">-->
                                <!--                                                        עד- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           [ngClass]="{'err': (advancedSearchParams1.get('totalIncludeMaamFrom').value && !advancedSearchParams1.get('totalIncludeMaamTill').value)}"-->
                                <!--                                                           id="totalIncludeMaamTill"-->
                                <!--                                                           appNumbersOnly="numWithTwoDec"-->
                                <!--                                                           formControlName="totalIncludeMaamTill">-->
                                <!--                                                </div>-->
                                <!--                                            </div>-->
                                <!--                                            <div class="row">-->

                                <!--                                                <div class="label">-->
                                <!--                                                    בנק/ חב. אשראי-->
                                <!--                                                </div>-->
                                <!--                                                <div class="content flexRow">-->
                                <!--                                                    <label for="totalIncludeMaamFrom" class="labelFlex">-->
                                <!--                                                        מ- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           [ngClass]="{'err': (!advancedSearchParams1.get('totalIncludeMaamFrom').value && advancedSearchParams1.get('totalIncludeMaamTill').value)}"-->
                                <!--                                                           id="totalIncludeMaamFrom"-->
                                <!--                                                           appNumbersOnly="numWithTwoDec"-->
                                <!--                                                           formControlName="totalIncludeMaamFrom">-->
                                <!--                                                    <span style="padding: 0px 12.5px"></span>-->

                                <!--                                                    <label for="totalIncludeMaamTill" class="labelFlex">-->
                                <!--                                                        עד- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           [ngClass]="{'err': (advancedSearchParams1.get('totalIncludeMaamFrom').value && !advancedSearchParams1.get('totalIncludeMaamTill').value)}"-->
                                <!--                                                           id="totalIncludeMaamTill"-->
                                <!--                                                           appNumbersOnly="numWithTwoDec"-->
                                <!--                                                           formControlName="totalIncludeMaamTill">-->
                                <!--                                                </div>-->
                                <!--                                            </div>-->
                                <!--                                            <div class="row">-->

                                <!--                                                <div class="label">-->
                                <!--                                                    סניף-->
                                <!--                                                </div>-->
                                <!--                                                <div class="content flexRow">-->
                                <!--                                                    <label for="totalIncludeMaamFrom" class="labelFlex">-->
                                <!--                                                        מ- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           [ngClass]="{'err': (!advancedSearchParams1.get('totalIncludeMaamFrom').value && advancedSearchParams1.get('totalIncludeMaamTill').value)}"-->
                                <!--                                                           id="totalIncludeMaamFrom"-->
                                <!--                                                           appNumbersOnly="regexPositiveInt"-->
                                <!--                                                           formControlName="totalIncludeMaamFrom">-->
                                <!--                                                    <span style="padding: 0px 12.5px"></span>-->

                                <!--                                                    <label for="totalIncludeMaamTill" class="labelFlex">-->
                                <!--                                                        עד- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           [ngClass]="{'err': (advancedSearchParams1.get('totalIncludeMaamFrom').value && !advancedSearchParams1.get('totalIncludeMaamTill').value)}"-->
                                <!--                                                           id="totalIncludeMaamTill"-->
                                <!--                                                           appNumbersOnly="regexPositiveInt"-->
                                <!--                                                           formControlName="totalIncludeMaamTill">-->
                                <!--                                                </div>-->
                                <!--                                            </div>-->
                                <!--                                            <div class="row">-->
                                <!--                                                <div class="label">-->
                                <!--                                                    מנה-->
                                <!--                                                </div>-->
                                <!--                                                <div class="content flexRow">-->
                                <!--                                                    <label for="totalIncludeMaamFrom" class="labelFlex">-->
                                <!--                                                        מ- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           [ngClass]="{'err': (!advancedSearchParams1.get('totalIncludeMaamFrom').value && advancedSearchParams1.get('totalIncludeMaamTill').value)}"-->
                                <!--                                                           id="totalIncludeMaamFrom"-->
                                <!--                                                           appNumbersOnly="regexPositiveInt"-->
                                <!--                                                           formControlName="totalIncludeMaamFrom">-->
                                <!--                                                    <span style="padding: 0px 12.5px"></span>-->

                                <!--                                                    <label for="totalIncludeMaamTill" class="labelFlex">-->
                                <!--                                                        עד- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           [ngClass]="{'err': (advancedSearchParams1.get('totalIncludeMaamFrom').value && !advancedSearchParams1.get('totalIncludeMaamTill').value)}"-->
                                <!--                                                           id="totalIncludeMaamTill"-->
                                <!--                                                           appNumbersOnly="regexPositiveInt"-->
                                <!--                                                           formControlName="totalIncludeMaamTill">-->
                                <!--                                                </div>-->
                                <!--                                            </div>-->
                                <!--                                        </div>-->

                                <!--                                        <div class="btns">-->
                                <!--                                            <button class="button-link" type="button" (click)="togglePanel1()">-->
                                <!--                                                {{'actions.cancellation'| translate}}-->
                                <!--                                            </button>-->
                                <!--                                            <button class="button-dark" type="button" (click)="search1()">-->
                                <!--                                                חיפוש-->
                                <!--                                            </button>-->
                                <!--                                        </div>-->
                                <!--                                    </form>-->
                                <!--                                </div>-->
                                <!--                            </div>-->
                            </div>
                        </div>

                        <!--                <div class="searchRow" *ngIf="banktransForMatchAll?.length" style="justify-content: space-between;">-->
                        <!--                    <ng-container-->
                        <!--                            *ngIf="accountSelected && hasRowOfDeleted; else noSelectedRows">-->
                        <!--                <span [innerHTML]="('expressions.markedTransactionsSummaryPtrn'| translate:{ sum:(hasRowOfDeleted['sum']| sum),-->
                        <!--                    currency: ((accountSelected.currencySign)| currencySymbol),-->
                        <!--                    size: hasRowOfDeleted.size})"></span>-->
                        <!--                    </ng-container>-->
                        <!--                    <ng-template #noSelectedRows>-->
                        <!--                        {{'expressions.markTransactionsForMatch'| translate}}-->
                        <!--                    </ng-template>-->
                        <!--                    <div *ngIf="hasRowOfDeleted && !hasRowOfChecked" class="btnDelete">-->
                        <!--                        &lt;!&ndash;                        <button class="button-dark" (click)="openPopBankMatchDelete()">&ndash;&gt;-->
                        <!--                        &lt;!&ndash;                            למחוק&ndash;&gt;-->
                        <!--                        &lt;!&ndash;                        </button>&ndash;&gt;-->
                        <!--                    </div>-->
                        <!--                </div>-->

                        <div
                                *ngIf="
              !banktransForMatchAll ||
              (banktransForMatchAll && banktransForMatchAll?.length)
            "
                                [class.checkBoxesNear]="checkBoxesNear"
                                class="bank-acc-details-table-container tableBanktransForMatch"
                                style="position: relative"
                        >
                            <div #banktransForMatchHeader class="bank-acc-details-table-header">
                                <ng-container *ngIf="checkBoxesNear === false">
                                    <div class="bank-acc-details-column-1">
                                        <p-checkbox (onChange)="
                  changeAllBooks()
                  "
                                                    [(ngModel)]="checkAllBooks"
                                                    [binary]="true"
                                                    [inputId]="'all'"
                                                    checkboxIcon="fa fa-check"
                                        >
                                        </p-checkbox>
                                    </div>
                                    <div class="bank-acc-details-column-2" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('batchNumber')">
                                            מנה

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'batchNumber'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'batchNumber'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-3" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('oppositeCustId')">
                                            ח.נגדי

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'oppositeCustId'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'oppositeCustId'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-4" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('transTypeCode')">
                                            ס.ת

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'transTypeCode'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'transTypeCode'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-5" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('transDateTime_date')">
                                            תאריך

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'transDateTime_date'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'transDateTime_date'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-6" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('transDateTime')">
                                            ת. ערך

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'transDateTime'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'transDateTime'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-7" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('asmachta')">
                                            אסמכתא

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'asmachta'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'asmachta'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-8" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('details')">
                                            תיאור/ פרטים

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'details'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'details'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-9" style="overflow: visible">
                                        <div>&nbsp;</div>
                                    </div>
                                    <div class="bank-acc-details-column-10" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('totalPlusMinus')">
                                            זכות/ חובה

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'totalPlusMinus'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'totalPlusMinus'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                </ng-container>
                                <ng-container *ngIf="checkBoxesNear === true">
                                    <div class="bank-acc-details-column-2" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('batchNumber')">
                                            מנה

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'batchNumber'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'batchNumber'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-3" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('oppositeCustId')">
                                            ח.נגדי

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'oppositeCustId'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'oppositeCustId'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-4" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('transTypeCode')">
                                            ס.ת

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'transTypeCode'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'transTypeCode'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-7" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('asmachta')">
                                            אסמכתא

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'asmachta'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'asmachta'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-8" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('details')">
                                            תיאור/ פרטים

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'details'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'details'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-9" style="overflow: visible">
                                        <div>&nbsp;</div>
                                    </div>
                                    <div class="bank-acc-details-column-5" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('transDateTime_date')">
                                            תאריך

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'transDateTime_date'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'transDateTime_date'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-6" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('transDateTime')">
                                            ת. ערך

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'transDateTime'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'transDateTime'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-10" style="overflow: visible">
                                        <div (click)="toggleBooksOrderTo('totalPlusMinus')">
                                            זכות/ חובה

                                            <mat-icon
                                                    [class.active]="
                      booksSortControl.value?.orderBy === 'totalPlusMinus'
                    "
                                                    [svgIcon]="
                      (booksSortControl.value?.orderBy === 'totalPlusMinus'
                        ? booksSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-1">
                                        <p-checkbox (onChange)="
                    changeAllBooks()
                  "
                                                    [(ngModel)]="checkAllBooks"
                                                    [binary]="true"
                                                    [inputId]="'all'"
                                                    checkboxIcon="fa fa-check"
                                        >
                                        </p-checkbox>
                                    </div>
                                </ng-container>
                            </div>
                            <div

                                    [ngStyle]="{'height': (getPageHeightFunc(banktransForMatchHeader.getBoundingClientRect().bottom +footer.getBoundingClientRect().height)) +'px'}"
                                    class="containerList22 scrollbar-dynamic bank-acc-details-table-body"
                                    style="position: relative">
                                <div *ngIf="loaderBooks" class="loader">
                                    <div class="circle"></div>
                                </div>
                                <ng-container *ngIf="banktransForMatchAll?.length">

                                    <div
                                            *ngIf="
                    !loaderBooks &&
                    banktransForMatchAll?.length &&
                    !banktransForMatch.length
                  "
                                            class="no-rows-found"
                                    >
                                        לא נמצאו תנועות מתאימות לחיפוש המבוקש
                                    </div>
                                    <ng-scrollbar
                                        #scrollbarCompanies
                                        (updated)="onScroll1(scrollbarCompanies, virtualScroll)"
                                        class="custom-scrollbar"
                                        thumbClass="scrollbar-thumb"
                                        trackClass="scrollbar">

                                        <cdk-virtual-scroll-viewport #virtualScroll itemSize="46" scrollViewport>
                                            <div *cdkVirtualFor="let item of banktransForMatch; let i = index; trackBy: trackByIdBooks">
                                                <div
                                                        (click)="
                        isFutureTransesOpened = !isFutureTransesOpened;
                        sharedComponent.mixPanelEvent(isFutureTransesOpened ? 'open atidy' : 'close atidy');
                        filtersAllBooks()
                      "
                                                        *ngIf="item.isFutureTransesTitle"
                                                        [class.opened]="isFutureTransesOpened"
                                                        class="bank-acc-details-row titleRow"
                                                >
                                                    <div style="font-size: 17px">
                                                        <img
                                                                [src]="
                            isFutureTransesOpened
                              ? '/assets/images/stateOpen.png'
                              : '/assets/images/stateClose.png'
                          "
                                                                height="9"
                                                                style="
                            width: 14px;
                            height: 9px;
                            vertical-align: middle;
                            cursor: pointer;
                            margin-left: 11px;
                          "
                                                                width="14"
                                                        />

                                                        פקודות עתידיות
                                                    </div>
                                                </div>

                                                <ng-container *ngIf="checkBoxesNear === false">
                                                    <div
                                                            *ngIf="!item.isFutureTransesTitle"
                                                            [class.bank-acc-details-row-selected]="
                        item.deleteRow ||
                        item?.journalTransId === tooltipElem?.journalTransId
                      "
                                                            [class.lastFutureTranses]="
                        !item.isFutureTransesTitle &&
                        item.isFutureTranses &&
                        ((banktransForMatch[i + 1] && !banktransForMatch[i + 1].isFutureTranses) ||
                          !banktransForMatch[i + 1])
                      "
                                                            class="bank-acc-details-row"
                                                    >
                                                        <div
                                                                class="bank-acc-details-column-1"
                                                                style="display: flex; align-items: center"
                                                        >
                                                            <p-checkbox (onChange)="
                            checkDeleted(item)
                          "
                                                                        [binary]="true"
                                                                        [disabled]="item.checkDisabled"
                                                                        [ngModel]="item.deleteRow"
                                                                        checkboxIcon="fa fa-check"
                                                            >
                                                            </p-checkbox>
                                                        </div>
                                                        <div class="bank-acc-details-column-2">
                        <span
                                [class.redNum]="item.sourceType === 'JOURNAL_TEMP'"
                                [innerHTML]="
                            item.batchNumber | highlight: filterInputBooks.value
                          "
                                [pTooltip]="
                            item.sourceType === 'JOURNAL_TEMP'
                              ? 'פקודה זמנית'
                              : !item.batchNumber
                              ? item.sourceType === 'JOURNAL_TRANS' ||
                                item.sourceType === 'OCR_FILE_RESULT' ||
                                item.sourceType === 'SPLIT_PAYMENT'
                                ? 'בתהליך קליטה - ספקים לקוחות'
                                : null
                              : null
                          "
                                style="
                            width: 100%;
                            height: 20px;
                            display: block;
                            line-height: normal;
                          "
                                tooltipPosition="top"
                        ></span>
                                                        </div>
                                                        <div class="bank-acc-details-column-3">
                                                            <div
                                                                #spanElement1
                                                                [innerHTML]="
                            item.oppositeCustId
                              | highlight: filterInputBooks.value
                          "
                                                                [pTooltip]="item.oppositeCustId"
                                                                [tooltipDisabled]="
                      spanElement1.offsetWidth >= spanElement1.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-4">
                                                            <div
                                                                #spanElement2
                                                                [innerHTML]="
                            item.transTypeCode
                              | highlight: filterInputBooks.value
                          "
                                                                [pTooltip]="item.transTypeCode"
                                                                [tooltipDisabled]="
                      spanElement2.offsetWidth >= spanElement2.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-5">
                                                            <div
                                                                #spanElement3
                                                                [innerHTML]="
                            item.transDateStr_date
                              | highlight: filterInputBooks.value
                          "
                                                                [pTooltip]="item.transDateStr_date"
                                                                [tooltipDisabled]="
                      spanElement3.offsetWidth >= spanElement3.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-6">
                                                            <div
                                                                #spanElement4
                                                                [innerHTML]="
                            item.transDateStr
                              | highlight: filterInputBooks.value
                          "
                                                                [pTooltip]="item.transDateStr"
                                                                [tooltipDisabled]="
                      spanElement4.offsetWidth >= spanElement4.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-7">
                                                            <div
                                                                #spanElement5
                                                                [innerHTML]="
                            item.asmachta | highlight: filterInputBooks.value
                          "
                                                                [pTooltip]="item.asmachta"
                                                                [tooltipDisabled]="
                      spanElement5.offsetWidth >= spanElement5.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-8">
                                                            <div
                                                                #spanElement6
                                                                [innerHTML]="
                            item.details | highlight: filterInputBooks.value
                          "
                                                                [pTooltip]="item.details"
                                                                [tooltipDisabled]="
                      spanElement6.offsetWidth >= spanElement6.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-9">
                                                            <mat-icon
                                                                    (click)="showDocumentListStorageData(item.fileId)"
                                                                    *ngIf="item.fileId"
                                                                    style="
                            width: 17px;
                            height: 17px;
                            color: #022258;
                            display: flex;
                            cursor: pointer;
                          "
                                                                    svgIcon="picIcon"
                                                            ></mat-icon>
                                                        </div>
                                                        <div
                                                                class="bank-acc-details-column-10"
                                                                style="position: relative"
                                                        >
                                                            <div
                                                                    [class.sum-credit]="!item.hova"
                                                                    [class.sum-debit]="item.hova"
                                                                    class="ltrNum"
                                                            >
                                                                <app-sum-view
                                                                        [highlight]="filterInputBooks.value"
                                                                        [sum]="item.total"
                                                                        class="text-ellipsis"
                                                                >
                                                                </app-sum-view>
                                                            </div>
                                                            <div>
                                                                <!--<img style="height: auto; width: auto; position: relative;" fill ngSrc="/assets/images/trash.png" style="width: 14px;vertical-align: middle;"-->
                                                                <!--(click)="openPopBankMatchDelete(item)"/>-->
                                                                <!--                                            <i class="fas fa-ellipsis-v"-->
                                                                <!--                                               [matTooltip]="('appWalk.customers.tazrim.bankmatch.unexpectedOpActionHandler'| translate)"-->
                                                                <!--                                               matTooltipPosition="before"-->
                                                                <!--                                               (click)="openTooltip($event, 162, item.bankTransId, item);"></i>-->
                                                                <!--                                       (click)="openTooltip($event, 102, item.bankTransId, item);"></i>-->
                                                            </div>
                                                        </div>
                                                        <!--<div class="arrow-right"-->
                                                        <!--*ngIf="showAdditionalItem && showAdditionalItem.bankTransId === item.bankTransId"></div>-->
                                                    </div>
                                                </ng-container>
                                                <ng-container *ngIf="checkBoxesNear === true">
                                                    <div
                                                            *ngIf="!item.isFutureTransesTitle"
                                                            [class.bank-acc-details-row-selected]="
                        item.deleteRow ||
                        item?.journalTransId === tooltipElem?.journalTransId
                      "
                                                            [class.lastFutureTranses]="
                        !item.isFutureTransesTitle &&
                        item.isFutureTranses &&
                        ((banktransForMatch[i + 1] && !banktransForMatch[i + 1].isFutureTranses) ||
                          !banktransForMatch[i + 1])
                      "
                                                            class="bank-acc-details-row"
                                                    >

                                                        <div class="bank-acc-details-column-2">
                        <span
                                [class.redNum]="item.sourceType === 'JOURNAL_TEMP'"
                                [innerHTML]="
                            item.batchNumber | highlight: filterInputBooks.value
                          "
                                [pTooltip]="
                            item.sourceType === 'JOURNAL_TEMP'
                              ? 'פקודה זמנית'
                              : !item.batchNumber
                              ? item.sourceType === 'JOURNAL_TRANS' ||
                                item.sourceType === 'OCR_FILE_RESULT' ||
                                item.sourceType === 'SPLIT_PAYMENT'
                                ? 'בתהליך קליטה - ספקים לקוחות'
                                : null
                              : null
                          "
                                style="
                            width: 100%;
                            height: 20px;
                            display: block;
                            line-height: normal;
                          "
                                tooltipPosition="top"
                        ></span>
                                                        </div>
                                                        <div class="bank-acc-details-column-3">
                                                            <div
                                                                #spanElement1
                                                                [innerHTML]="
                            item.oppositeCustId
                              | highlight: filterInputBooks.value
                          "
                                                                [pTooltip]="item.oppositeCustId"
                                                                [tooltipDisabled]="
                      spanElement1.offsetWidth >= spanElement1.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-4">
                                                            <div
                                                                #spanElement2
                                                                [innerHTML]="
                            item.transTypeCode
                              | highlight: filterInputBooks.value
                          "
                                                                [pTooltip]="item.transTypeCode"
                                                                [tooltipDisabled]="
                      spanElement2.offsetWidth >= spanElement2.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-7">
                                                            <div
                                                                #spanElement3
                                                                [innerHTML]="
                            item.asmachta | highlight: filterInputBooks.value
                          "
                                                                [pTooltip]="item.asmachta"
                                                                [tooltipDisabled]="
                      spanElement3.offsetWidth >= spanElement3.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-8">
                                                            <div
                                                                #spanElement4
                                                                [innerHTML]="
                            item.details | highlight: filterInputBooks.value
                          "
                                                                [pTooltip]="item.details"
                                                                [tooltipDisabled]="
                      spanElement4.offsetWidth >= spanElement4.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-9">
                                                            <mat-icon
                                                                    (click)="showDocumentListStorageData(item.fileId)"
                                                                    *ngIf="item.fileId"
                                                                    style="
                            width: 17px;
                            height: 17px;
                            color: #022258;
                            display: flex;
                            cursor: pointer;
                          "
                                                                    svgIcon="picIcon"
                                                            ></mat-icon>
                                                        </div>
                                                        <div class="bank-acc-details-column-5">
                                                            <div
                                                                #spanElement5
                                                                [innerHTML]="
                            item.transDateStr_date
                              | highlight: filterInputBooks.value
                          "
                                                                [pTooltip]="item.transDateStr_date"
                                                                [tooltipDisabled]="
                      spanElement5.offsetWidth >= spanElement5.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-6">
                                                            <div
                                                                #spanElement6
                                                                [innerHTML]="
                            item.transDateStr
                              | highlight: filterInputBooks.value
                          "
                                                                [pTooltip]="item.transDateStr"
                                                                [tooltipDisabled]="
                      spanElement6.offsetWidth >= spanElement6.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div
                                                                class="bank-acc-details-column-10"
                                                                style="position: relative"
                                                        >
                                                            <div
                                                                    [class.sum-credit]="!item.hova"
                                                                    [class.sum-debit]="item.hova"
                                                                    class="ltrNum"
                                                            >
                                                                <app-sum-view
                                                                        [highlight]="filterInputBooks.value"
                                                                        [sum]="item.total"
                                                                        class="text-ellipsis"
                                                                >
                                                                </app-sum-view>
                                                            </div>
                                                            <div>
                                                                <!--<img style="height: auto; width: auto; position: relative;" fill ngSrc="/assets/images/trash.png" style="width: 14px;vertical-align: middle;"-->
                                                                <!--(click)="openPopBankMatchDelete(item)"/>-->
                                                                <!--                                            <i class="fas fa-ellipsis-v"-->
                                                                <!--                                               [matTooltip]="('appWalk.customers.tazrim.bankmatch.unexpectedOpActionHandler'| translate)"-->
                                                                <!--                                               matTooltipPosition="before"-->
                                                                <!--                                               (click)="openTooltip($event, 162, item.bankTransId, item);"></i>-->
                                                                <!--                                       (click)="openTooltip($event, 102, item.bankTransId, item);"></i>-->
                                                            </div>
                                                        </div>
                                                        <div
                                                                class="bank-acc-details-column-1"
                                                                style="display: flex; align-items: center"
                                                        >
                                                            <p-checkbox (onChange)="
                             checkDeleted(item)
                          "
                                                                        [binary]="true"
                                                                        [disabled]="item.checkDisabled"
                                                                        [ngModel]="item.deleteRow"
                                                                        checkboxIcon="fa fa-check"
                                                            >
                                                            </p-checkbox>
                                                        </div>
                                                        <!--<div class="arrow-right"-->
                                                        <!--*ngIf="showAdditionalItem && showAdditionalItem.bankTransId === item.bankTransId"></div>-->
                                                    </div>
                                                </ng-container>

                                            </div>
                                        </cdk-virtual-scroll-viewport>
                                    </ng-scrollbar>

                                </ng-container>
                            </div>
                        </div>
                        <div
                                *ngIf="banktransForMatchAll && !banktransForMatchAll?.length"
                                [appScrollHeight]="
              banktransForMatchHeaderTitle.getBoundingClientRect().bottom +
              footer.getBoundingClientRect().height
            "
                                class="notData"
                        >
                            <p>לא קיימות תנועות צד ספרים</p>
                        </div>
                    </div>

                    <div
                            [class.isBorder]="cashflowMatchAll?.length"
                            class="banktransForMatch"
                            style="flex: 600"
                    >
                        <div #cashflowMatchHeaderTitle class="title searchRowReco">
                            <i

                                    style="line-height: 1em"
                            >
                                בנק

                                <span *ngIf="cashflowMatchAll && cashflowMatchAll?.length" style="color: #0f3860;">
								({{cashflowMatchAll.length}})
							</span>
                            </i>
                            <div class="search">
                                <input
                                        [formControl]="filterInputUnadjusted"
                                        autocomplete="off"
                                        id="containTextFilterUnadjusted"
                                        placeholder="{{ 'filters.search' | translate }}"
                                        style="border-bottom: none"
                                        type="text"
                                />

                                <!--                            <div class="menu-dd menu-with-panel" style="position: relative;">-->
                                <!--                                <div class="advancedSearchBtn" (click)="togglePanel1Bank()" [class.opened]="showPanelDD1Bank" #selector>-->
                                <!--                             חיפוש מתקדם-->
                                <!--                                </div>-->
                                <!--                                <div class="panelDD advancedSearchPanel" *ngIf="showPanelDD1Bank" [@slideInOutDD] appClickDocument-->
                                <!--                                     (onClose)="showPanelDD1Bank = false">-->
                                <!--                                    <form novalidate [formGroup]="advancedSearchParams1Bank">-->
                                <!--                                        <div class="rows-advancedSearchParams">-->
                                <!--                                            <div class="row">-->
                                <!--                                                <div class="label">-->
                                <!--                                                סינון תאריכים לטבלה-->
                                <!--                                                </div>-->
                                <!--                                                <div class="content flexRow">-->
                                <!--                                                    <label for="sendDateFrom" class="labelFlex">-->
                                <!--                                                        מ- -->
                                <!--                                                    </label>-->
                                <!--                                                    <p-calendar formControlName="sendDateFrom"-->
                                <!--                                                                inputId="sendDateFrom"-->
                                <!--                                                                [ngClass]="{'err': (!advancedSearchParams1Bank.get('sendDateFrom').value && advancedSearchParams1Bank.get('sendDateTill').value)}"-->
                                <!--                                                                [inputStyle]="{'max-width': '121px'}"-->
                                <!--                                                                [locale]="'langCalendar'| translate"-->
                                <!--                                                                id="sendDateFrom"-->
                                <!--                                                                dateFormat="d/m/y"-->
                                <!--                                                                (onSelect)="changeDatesFrequencyDescBank1('sendDateFrom')"-->
                                <!--                                                                #transDateSelector>-->
                                <!--                                                    </p-calendar>-->
                                <!--                                                    <span style="padding: 0px 12.5px"></span>-->
                                <!--                                                    <label for="sendDateTill" class="labelFlex">-->
                                <!--                                                        עד- -->
                                <!--                                                    </label>-->
                                <!--                                                    <p-calendar formControlName="sendDateTill"-->
                                <!--                                                                inputId="sendDateTill"-->
                                <!--                                                                [ngClass]="{'err': (advancedSearchParams1Bank.get('sendDateFrom').value && !advancedSearchParams1Bank.get('sendDateTill').value)}"-->
                                <!--                                                                [inputStyle]="{'max-width': '121px'}"-->
                                <!--                                                                [locale]="'langCalendar'| translate"-->
                                <!--                                                                id="sendDateTill"-->
                                <!--                                                                dateFormat="d/m/y"-->
                                <!--                                                                (onSelect)="changeDatesFrequencyDescBank1('sendDateTill')">-->
                                <!--                                                    </p-calendar>-->
                                <!--                                                </div>-->
                                <!--                                            </div>-->
                                <!--                                            <div class="row">-->
                                <!--                                                <div class="label">-->
                                <!--                                                    תאריך ערך-->
                                <!--                                                </div>-->
                                <!--                                                <div class="content flexRow">-->
                                <!--                                                    <label for="invoiceDateFrom1" class="labelFlex">-->
                                <!--                                                        מ- -->
                                <!--                                                    </label>-->
                                <!--                                                    <p-calendar formControlName="invoiceDateFrom1"-->
                                <!--                                                                inputId="invoiceDateFrom1"-->
                                <!--                                                                [ngClass]="{'err': (!advancedSearchParams1Bank.get('invoiceDateFrom1').value && advancedSearchParams1Bank.get('invoiceDateTill1').value)}"-->
                                <!--                                                                [inputStyle]="{'max-width': '121px'}"-->
                                <!--                                                                [locale]="'langCalendar'| translate"-->
                                <!--                                                                id="invoiceDateFrom1"-->
                                <!--                                                                dateFormat="d/m/y"-->
                                <!--                                                                (onSelect)="changeDatesFrequencyDescBank1('invoiceDateFrom1')"-->
                                <!--                                                                #transDateSelector2>-->
                                <!--                                                    </p-calendar>-->
                                <!--                                                    <span style="padding: 0px 12.5px"></span>-->

                                <!--                                                    <label for="invoiceDateTill1" class="labelFlex">-->
                                <!--                                                        עד- -->
                                <!--                                                    </label>-->
                                <!--                                                    <p-calendar formControlName="invoiceDateTill1"-->
                                <!--                                                                inputId="invoiceDateTill1"-->
                                <!--                                                                [ngClass]="{'err': (advancedSearchParams1Bank.get('invoiceDateFrom1').value && !advancedSearchParams1Bank.get('invoiceDateTill1').value)}"-->
                                <!--                                                                [inputStyle]="{'max-width': '121px'}"-->
                                <!--                                                                [locale]="'langCalendar'| translate"-->
                                <!--                                                                id="invoiceDateTill1"-->
                                <!--                                                                dateFormat="d/m/y"-->
                                <!--                                                                (onSelect)="changeDatesFrequencyDescBank1('invoiceDateTill1')">-->
                                <!--                                                    </p-calendar>-->
                                <!--                                                </div>-->
                                <!--                                            </div>-->
                                <!--                                            <div class="row">-->

                                <!--                                                <div class="label">-->
                                <!--                                                    סכום-->
                                <!--                                                </div>-->
                                <!--                                                <div class="content flexRow">-->
                                <!--                                                    <label for="totalBeforeMaamFrom" class="labelFlex">-->
                                <!--                                                        מ- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           [ngClass]="{'err': (!advancedSearchParams1Bank.get('totalBeforeMaamFrom').value && advancedSearchParams1Bank.get('totalbeforeMaamTill').value)}"-->
                                <!--                                                           id="totalBeforeMaamFrom"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           appNumbersOnly="numWithTwoDec"-->
                                <!--                                                           formControlName="totalBeforeMaamFrom">-->
                                <!--                                                    <span style="padding: 0px 12.5px"></span>-->

                                <!--                                                    <label for="totalbeforeMaamTill" class="labelFlex">-->
                                <!--                                                        עד- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           appNumbersOnly="numWithTwoDec"-->
                                <!--                                                           [ngClass]="{'err': (advancedSearchParams1Bank.get('totalBeforeMaamFrom').value && !advancedSearchParams1Bank.get('totalbeforeMaamTill').value)}"-->
                                <!--                                                           id="totalbeforeMaamTill"-->
                                <!--                                                           formControlName="totalbeforeMaamTill">-->
                                <!--                                                </div>-->
                                <!--                                            </div>-->
                                <!--                                            <div class="row">-->

                                <!--                                                <div class="label">-->
                                <!--                                                    אסמכתא-->
                                <!--                                                </div>-->
                                <!--                                                <div class="content flexRow">-->
                                <!--                                                    <label for="totalIncludeMaamFrom" class="labelFlex">-->
                                <!--                                                        מ- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           [ngClass]="{'err': (!advancedSearchParams1Bank.get('totalIncludeMaamFrom').value && advancedSearchParams1Bank.get('totalIncludeMaamTill').value)}"-->
                                <!--                                                           id="totalIncludeMaamFrom"-->
                                <!--                                                           appNumbersOnly="numWithTwoDec"-->
                                <!--                                                           formControlName="totalIncludeMaamFrom">-->
                                <!--                                                    <span style="padding: 0px 12.5px"></span>-->

                                <!--                                                    <label for="totalIncludeMaamTill" class="labelFlex">-->
                                <!--                                                        עד- -->
                                <!--                                                    </label>-->
                                <!--                                                    <input type="text"-->
                                <!--                                                           autocomplete="off"-->
                                <!--                                                           [ngClass]="{'err': (advancedSearchParams1Bank.get('totalIncludeMaamFrom').value && !advancedSearchParams1Bank.get('totalIncludeMaamTill').value)}"-->
                                <!--                                                           id="totalIncludeMaamTill"-->
                                <!--                                                           appNumbersOnly="numWithTwoDec"-->
                                <!--                                                           formControlName="totalIncludeMaamTill">-->
                                <!--                                                </div>-->
                                <!--                                            </div>-->
                                <!--                                        </div>-->

                                <!--                                        <div class="btns">-->
                                <!--                                            <button class="button-link" type="button" (click)="togglePanel1Bank()">-->
                                <!--                                                {{'actions.cancellation'| translate}}-->
                                <!--                                            </button>-->
                                <!--                                            <button class="button-dark" type="button" (click)="search1Bank()">-->
                                <!--                                                חיפוש-->
                                <!--                                            </button>-->
                                <!--                                        </div>-->
                                <!--                                    </form>-->
                                <!--                                </div>-->
                                <!--                            </div>-->
                            </div>

                            <ul class="tabs">
                                <li
                                        (click)="checkReco()"
                                        [class.active]="currentTab === 0"
                                        [class.disabled]="!cashflowMatchReco?.length"
                                        [matTooltipDisabled]="!cashflowMatchReco?.length"
                                        [matTooltip]="
                  'appWalk.customers.tazrim.bankmatch.recommendedOpsBtn'
                    | translate
                "
                                        [style.pointer-events]="
                  !cashflowMatchReco?.length ? 'none' : 'auto'
                "
                                        matTooltipPosition="below"
                                >
                                    מומלצים
                                </li>
                                <li
                                        (click)="currentTab = 1; filtersAllCash()"
                                        [class.active]="currentTab === 1"
                                        [style.pointer-events]="currentTab === 1 ? 'none' : 'auto'"
                                >
                                    הכל
                                </li>
                            </ul>
                        </div>

                        <!--                <div class="searchRow" *ngIf="cashflowMatchAll?.length">-->
                        <!--                    <ng-container-->
                        <!--                            *ngIf="accountSelected && hasRowOfChecked; else noSelectedRows">-->
                        <!--                            <span [innerHTML]="('expressions.markedTransactionsSummaryPtrn'| translate:{ sum:(hasRowOfChecked['sum']| sum),-->
                        <!--                    currency: ((accountSelected.currencySign)| currencySymbol),-->
                        <!--                                size: hasRowOfChecked.size})"></span>-->
                        <!--                    </ng-container>-->
                        <!--                    <ng-template #noSelectedRows>-->
                        <!--                        {{'expressions.markTransactionsForMatch'| translate}}-->
                        <!--                    </ng-template>-->

                        <!--                    <div class="btnGroup" *ngIf="hasRowOfChecked && !hasRowOfDeleted">-->
                        <!--                        &lt;!&ndash;                        <button class="button-dark" (click)="onMultiPostponeClick()">&ndash;&gt;-->
                        <!--                        &lt;!&ndash;                            לדחות&ndash;&gt;-->
                        <!--                        &lt;!&ndash;                        </button>&ndash;&gt;-->
                        <!--                        &lt;!&ndash;                        <button class="button-dark" (click)="rolloutDeleteOperationConfirmPrompt()">&ndash;&gt;-->
                        <!--                        &lt;!&ndash;                            &lt;!&ndash;<button class="button-dark" (click)="onMultiDeleteClick()">&ndash;&gt;&ndash;&gt;-->
                        <!--                        &lt;!&ndash;                            למחוק&ndash;&gt;-->
                        <!--                        &lt;!&ndash;                        </button>&ndash;&gt;-->
                        <!--                    </div>-->

                        <!--                    &lt;!&ndash;[style.pointer-events]="!(cashflowMatchReco?.length) || currentTab === 0 ? 'none' : 'auto'"&ndash;&gt;-->
                        <!--                    <ul class="tabs">-->
                        <!--                        <li (click)="checkReco()"-->
                        <!--                            [matTooltip]="('appWalk.customers.tazrim.bankmatch.recommendedOpsBtn'| translate)"-->
                        <!--                            matTooltipPosition="below"-->
                        <!--                            [matTooltipDisabled]="!cashflowMatchReco?.length"-->
                        <!--                            [class.disabled]="!cashflowMatchReco?.length"-->
                        <!--                            [style.pointer-events]="!cashflowMatchReco?.length ? 'none' : 'auto'"-->
                        <!--                            [class.active]="currentTab === 0">-->
                        <!--                            מומלצים-->
                        <!--                        </li>-->
                        <!--                        <li (click)="currentTab=1; filtersAllCash()"-->
                        <!--                            [style.pointer-events]="currentTab === 1 ? 'none' : 'auto'"-->
                        <!--                            [class.active]="currentTab === 1">-->
                        <!--                            הכל-->
                        <!--                        </li>-->
                        <!--                    </ul>-->
                        <!--                </div>-->

                        <div
                                *ngIf="
              !cashflowMatchAll ||
              (cashflowMatchAll && cashflowMatchAll?.length)
            "
                                class="bank-acc-details-table-container tableBanktransForMatch"
                                style="position: relative"
                        >
                            <div #cashflowMatchHeader class="bank-acc-details-table-header">
                                <ng-container *ngIf="checkBoxesNear === false">
                                    <div class="bank-acc-details-column-1">
                                        <div style="display: flex; align-items: center">
                                            <p-checkbox (onChange)="changeAllBank()"
                                                        [(ngModel)]="checkAllRows"
                                                        [binary]="true"
                                                        checkboxIcon="fa fa-check">
                                            </p-checkbox>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-2" style="overflow: visible">
                                        <div (click)="toggleBankOrderTo('targetOriginalDateTime')">
                                            {{
                                            accountSelected && accountSelected.accountType === 'BANK'
                                                ? 'תאריך'
                                                : 'תאריך עסקה'
                                            }}

                                            <mat-icon
                                                    [class.active]="
                      bankSortControl.value?.orderBy ===
                      'targetOriginalDateTime'
                    "
                                                    [svgIcon]="
                      (bankSortControl.value?.orderBy ===
                      'targetOriginalDateTime'
                        ? bankSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-3" style="overflow: visible">
                                        <div
                                                (click)="
                    toggleBankOrderTo(
                      accountSelected && accountSelected.accountType === 'BANK'
                        ? 'asmachta'
                        : 'nextCycleDateTime'
                    )
                  "
                                        >
                                            {{
                                            accountSelected && accountSelected.accountType === 'BANK'
                                                ? 'אסמכתא'
                                                : 'תאריך חיוב'
                                            }}

                                            <mat-icon
                                                    [class.active]="
                      bankSortControl.value?.orderBy ===
                      (accountSelected && accountSelected.accountType === 'BANK'
                        ? 'asmachta'
                        : 'nextCycleDateTime')
                    "
                                                    [svgIcon]="
                      (bankSortControl.value?.orderBy ===
                      (accountSelected && accountSelected.accountType === 'BANK'
                        ? 'asmachta'
                        : 'nextCycleDateTime')
                        ? bankSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-4" style="overflow: visible">
                                        <div (click)="toggleBankOrderTo('mainDesc')">
                                            תיאור/ פרטים

                                            <mat-icon
                                                    [class.active]="
                      bankSortControl.value?.orderBy === 'mainDesc'
                    "
                                                    [svgIcon]="
                      (bankSortControl.value?.orderBy === 'mainDesc'
                        ? bankSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-5" style="overflow: visible">
                                        <div (click)="toggleBankOrderTo('totalPlusMinus')">
                                            זכות/ חובה

                                            <mat-icon
                                                    [class.active]="
                      bankSortControl.value?.orderBy === 'totalPlusMinus'
                    "
                                                    [svgIcon]="
                      (bankSortControl.value?.orderBy === 'totalPlusMinus'
                        ? bankSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div *ngIf="accountSelected && accountSelected.accountType === 'BANK'"
                                         class="bank-acc-details-column-6"
                                         style="overflow: visible">
                                        <div (click)="toggleBankOrderTo('paymentDesc')">
                                            סוג תשלום

                                            <mat-icon
                                                    [class.active]="
                      bankSortControl.value?.orderBy === 'paymentDesc'
                    "
                                                    [svgIcon]="
                      (bankSortControl.value?.orderBy === 'paymentDesc'
                        ? bankSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                </ng-container>
                                <ng-container *ngIf="checkBoxesNear === true">
                                    <div class="bank-acc-details-column-1">
                                        <div style="display: flex; align-items: center">
                                            <p-checkbox (onChange)="
                       changeAllBank()
                    "
                                                        [(ngModel)]="checkAllRows"
                                                        [binary]="true"
                                                        checkboxIcon="fa fa-check"
                                            >
                                            </p-checkbox>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-5" style="overflow: visible">
                                        <div (click)="toggleBankOrderTo('totalPlusMinus')">
                                            זכות/ חובה

                                            <mat-icon
                                                    [class.active]="
                      bankSortControl.value?.orderBy === 'totalPlusMinus'
                    "
                                                    [svgIcon]="
                      (bankSortControl.value?.orderBy === 'totalPlusMinus'
                        ? bankSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-2" style="overflow: visible">
                                        <div (click)="toggleBankOrderTo('targetOriginalDateTime')">
                                            {{
                                            accountSelected && accountSelected.accountType === 'BANK'
                                                ? 'תאריך'
                                                : 'תאריך עסקה'
                                            }}

                                            <mat-icon
                                                    [class.active]="
                      bankSortControl.value?.orderBy ===
                      'targetOriginalDateTime'
                    "
                                                    [svgIcon]="
                      (bankSortControl.value?.orderBy ===
                      'targetOriginalDateTime'
                        ? bankSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-3" style="overflow: visible">
                                        <div
                                                (click)="
                    toggleBankOrderTo(
                      accountSelected && accountSelected.accountType === 'BANK'
                        ? 'asmachta'
                        : 'nextCycleDateTime'
                    )
                  "
                                        >
                                            {{
                                            accountSelected && accountSelected.accountType === 'BANK'
                                                ? 'אסמכתא'
                                                : 'תאריך חיוב'
                                            }}

                                            <mat-icon
                                                    [class.active]="
                      bankSortControl.value?.orderBy ===
                      (accountSelected && accountSelected.accountType === 'BANK'
                        ? 'asmachta'
                        : 'nextCycleDateTime')
                    "
                                                    [svgIcon]="
                      (bankSortControl.value?.orderBy ===
                      (accountSelected && accountSelected.accountType === 'BANK'
                        ? 'asmachta'
                        : 'nextCycleDateTime')
                        ? bankSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div class="bank-acc-details-column-4" style="overflow: visible">
                                        <div (click)="toggleBankOrderTo('mainDesc')">
                                            תיאור/ פרטים

                                            <mat-icon
                                                    [class.active]="
                      bankSortControl.value?.orderBy === 'mainDesc'
                    "
                                                    [svgIcon]="
                      (bankSortControl.value?.orderBy === 'mainDesc'
                        ? bankSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                    <div *ngIf="accountSelected && accountSelected.accountType === 'BANK'"
                                         class="bank-acc-details-column-6"
                                         style="overflow: visible">
                                        <div (click)="toggleBankOrderTo('paymentDesc')">
                                            סוג תשלום

                                            <mat-icon
                                                    [class.active]="
                      bankSortControl.value?.orderBy === 'paymentDesc'
                    "
                                                    [svgIcon]="
                      (bankSortControl.value?.orderBy === 'paymentDesc'
                        ? bankSortControl.value.order
                        : null
                      ) | sortIcon
                    "
                                                    class="sort-icon"
                                            >
                                            </mat-icon>
                                        </div>
                                    </div>
                                </ng-container>
                            </div>

                            <div
                                    [ngStyle]="{'height': (getPageHeightFunc( cashflowMatchHeader.getBoundingClientRect().bottom + footer.getBoundingClientRect().height)) +'px'}"
                                    class="containerList234 containerList scrollbar-dynamic bank-acc-details-table-body"
                                    style="position: relative">
                                <div *ngIf="loaderCash" class="loader">
                                    <div class="circle"></div>
                                </div>
                                <ng-container *ngIf="cashflowMatchAll?.length">
                                    <div
                                            *ngIf="
                    !loaderCash &&
                    (currentTab === 1
                      ? cashflowMatchAll && cashflowMatchAll?.length
                      : cashflowMatchReco && cashflowMatchReco?.length) &&
                    cashflowMatch &&
                    !cashflowMatch.length
                  "
                                            class="no-rows-found"
                                    >
                                        לא נמצאו תנועות מתאימות לחיפוש המבוקש
                                    </div>
                                    <ng-scrollbar
                                        #scrollbarCompanies2
                                        (updated)="onScroll2(scrollbarCompanies2, virtualScroll)"
                                        class="custom-scrollbar"
                                        thumbClass="scrollbar-thumb"
                                        trackClass="scrollbar">

                                        <cdk-virtual-scroll-viewport #virtualScroll itemSize="46" scrollViewport>
                                            <div *cdkVirtualFor="let item of cashflowMatch; let i = index; trackBy: trackByIdBank">
                                                <div
                                                        *ngIf="item.isFutureTransesTitle"
                                                        [class.opened]="isFutureTransesOpened"
                                                        class="bank-acc-details-row titleRow"
                                                >
                                                    <div style="font-size: 17px">
                                                    </div>
                                                </div>
                                                <div *ngIf="!item.isFutureTransesTitle"
                                                     [class.bank-acc-details-row-selected]="
                        item.checkRow ||
                        item?.paymentId === tooltipElem?.paymentId
                      "
                                                     class="bank-acc-details-row">


                                                    <ng-container *ngIf="checkBoxesNear === false">
                                                        <div
                                                                class="bank-acc-details-column-1"
                                                                style="display: flex; align-items: center"
                                                        >
                                                            <p-checkbox (onChange)="
                             checkChecked(item)
                          "
                                                                        [binary]="true"
                                                                        [disabled]="item.checkDisabled"
                                                                        [ngModel]="item.checkRow"
                                                                        checkboxIcon="fa fa-check"
                                                            >
                                                            </p-checkbox>
                                                        </div>
                                                        <div class="bank-acc-details-column-2">
                                                            <div
                                                                #spanElement1
                                                                [innerHTML]="
                            item.transDateStr
                              | highlight: filterInputUnadjusted.value
                          "
                                                                [pTooltip]="item.transDateStr"
                                                                [tooltipDisabled]="
                      spanElement1.offsetWidth >= spanElement1.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-3">
                                                            <div
                                                                #spanElement3
                                                                [innerHTML]="
                            item[
                              accountSelected &&
                              accountSelected.accountType === 'BANK'
                                ? 'asmachta'
                                : 'nextCycleDateStr'
                            ] | highlight: filterInputUnadjusted.value
                          "
                                                                [pTooltip]="
                            item[
                              accountSelected &&
                              accountSelected.accountType === 'BANK'
                                ? 'asmachta'
                                : 'nextCycleDateStr'
                            ]
                          "
                                                                [tooltipDisabled]="
                      spanElement3.offsetWidth >= spanElement3.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-4">
                                                            <div
                                                                #spanElement2
                                                                [innerHTML]="
                            item.mainDesc
                              | highlight: filterInputUnadjusted.value
                          "
                                                                [pTooltip]="item.mainDesc"
                                                                [tooltipDisabled]="
                      spanElement2.offsetWidth >= spanElement2.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div
                                                                class="bank-acc-details-column-5"

                                                        >


                                                            <div style=" flex: 65; position: relative;  display:flex; flex-direction: column; align-items: flex-start;">
                                                                <div
                                                                        [class.sum-credit]="!item.hova"
                                                                        [class.sum-debit]="item.hova"
                                                                        class="ltrNum"
                                                                >
                                                                    <app-sum-view
                                                                            [highlight]="filterInputUnadjusted.value"
                                                                            [sum]="item.total"
                                                                            class="text-ellipsis"
                                                                            style="line-height: normal"
                                                                    >
                                                                    </app-sum-view>
                                                                </div>

                                                                <div *ngIf="item.totalParent!==undefined"
                                                                     [class.paddingLeftTotal]="item.hova"
                                                                     class="ltrNum"
                                                                     style="font-size: 12px;line-height: 12px;display: flex;flex-direction: row-reverse;">
                                                                    <div style="margin-left: 3px">
                                                                        מתוך
                                                                    </div>
                                                                    <app-sum-view
                                                                            [highlight]="filterInputUnadjusted.value"
                                                                            [showDecimal]="false"
                                                                            [sum]="item.totalParent">
                                                                    </app-sum-view>
                                                                </div>
                                                            </div>
                                                            <div *ngIf="accountSelected && accountSelected.accountType !== 'BANK'"
                                                                 style="
    flex: 35;
    display: flex;
    justify-content: flex-end;
">
                                                                <i
                                                                        (click)="
                              tooltipEditFile = item; tooltipEdit.toggle($event)
                            "
                                                                        class="fas fa-ellipsis-v"
                                                                ></i>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="accountSelected && accountSelected.accountType === 'BANK'"
                                                             class="bank-acc-details-column-6"
                                                             style="position: relative"
                                                        >
                                                            <img *ngIf="item['partialChild']"
                                                                 [pTooltip]="'התקבל מהבנק פירוט לא תקין'"
                                                                 height="15"
                                                                 src="/assets/images/exclamation-triangle.png"
                                                                 style="position: absolute; right: 0; top:9px;"
                                                                 tooltipPosition="top"
                                                                 width="17"
                                                            />
                                                            <div style="
    flex: 65;
    display: flex;
    justify-content: center;
">
                                                                <ng-container
                                                                        *ngIf="
                      item.linkId || item.pictureLink;
                      else oldOne
                    "
                                                                >
                                                                    <div
                                                                        #nicknameInpLink1
                                                                        (refresh)="handler($event)"
                                                                        (showArchiveModalFromTransactionAdditional)="
                        showArchiveModalFromTransactionAdditional($event)
                      "
                                                                        *ngIf="
                        item.linkId || item.pictureLink
                      "
                                                                        [appTransactionAdditionalTrigger]="item"
                                                                        [class.bank-acc-details-link]="!item['partialChild']"
                                                                        [class.link]="!item['partialChild']"
                                                                        [companyCustomerDetailsArr]="customerCustList"
                                                                        [disabledClick]="item['partialChild']"

                                                                        [isJournal]="true"
                                                                        [pTooltip]="
																	item.childenLen!==undefined ? (
																	item.pictureLink ?

																	(
																		'מתוך הפקדת '
																		+
																		item.childenLen
																		+
																		' שיקים ע”ס '
																+
														(item.totalParent | number: '1.0-0')
															)
															:
															(
															'מתוך '
															+
															item.childenLen
															+
															' העברות ע”ס '
														+
														(item.totalParent | number: '1.0-0')
															)
															):
														item.paymentDescTranslate
															"
                                                                        class="nicknameInpLink"
                                                                        style="min-width: 0; position: relative;"
                                                                        tooltipPosition="right"
                                                                    >
                                                                        <ng-container
                                                                                *ngIf="item.paymentDesc === 'DirectDebit' || item.paymentDesc === 'cash'">
                                                                            <img [src]="
                          item.paymentDesc === 'DirectDebit'
                            ? '/assets/images/financial10.png'
                            : '/assets/images/view-cashflow.png'
                        "
                                                                                 class="iconPaymentDesc"
                                                                            />
                                                                        </ng-container>
                                                                        <ng-container
                                                                                *ngIf="item.paymentDesc !== 'DirectDebit'&& item.paymentDesc !== 'cash'">
                                                                            <mat-icon
                                                                                    [svgIcon]="item.paymentDesc + ((item.childenLen!==undefined && (item.paymentDesc === 'BankTransfer' || item.paymentDesc === 'Checks')) ? 'Multi' : '')"
                                                                                    style="width: auto; height:30px;"
                                                                            ></mat-icon>
                                                                        </ng-container>
                                                                        <i *ngIf="item.childenLen!==undefined"
                                                                           [class.pictureLinkI]="item.pictureLink"
                                                                           class="childenLen">{{item.childenLen}}</i>
                                                                    </div>

                                                                </ng-container>
                                                                <ng-template #oldOne>
                                                                    <div
                                                                        #nicknameInpLink
                                                                        (click)="
                                                                        !item['partialChild'] &&
                        item['status'] !== 'ADD_ITEM_IGNORE' &&
                        item['status'] !== 'HASH_MATCH_IGNORE' &&
                        item['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                        item['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                        item['status'] !== 'CUSTOMER_IGNORE' && item['status'] !== 'COMPANY_IGNORE' &&
                        item.loanId !== null
                          ? loanDetails(item.loanId, item.companyAccountId)
                          : null
                      "
                                                                        [class.link]="
                                                                        !item['partialChild']&&
                        item['status'] !== 'ADD_ITEM_IGNORE' &&
                        item['status'] !== 'HASH_MATCH_IGNORE' &&
                        item['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                        item['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                        item['status'] !== 'CUSTOMER_IGNORE' && item['status'] !== 'COMPANY_IGNORE' &&
                        item.loanId !== null
                      "
                                                                        [pTooltip]="
															item.paymentDescTranslate

															"
                                                                        class="nicknameInpLink"
                                                                        style="min-width: 0; position: relative"
                                                                        tooltipPosition="top"
                                                                    >

                                                                        <ng-container
                                                                                *ngIf="item.paymentDesc === 'DirectDebit' || item.paymentDesc === 'cash'">
                                                                            <img [src]="
                          item.paymentDesc === 'DirectDebit'
                            ? '/assets/images/financial10.png'
                            : '/assets/images/view-cashflow.png'
                        "
                                                                                 class="iconPaymentDesc"
                                                                            />
                                                                        </ng-container>
                                                                        <ng-container
                                                                                *ngIf="item.paymentDesc !== 'DirectDebit'&& item.paymentDesc !== 'cash'">
                                                                            <mat-icon
                                                                                    [svgIcon]="item.paymentDesc + ((item.childenLen!==undefined && (item.paymentDesc === 'BankTransfer' || item.paymentDesc === 'Checks')) ? 'Multi' : '')"
                                                                                    style="width: auto; height:30px;"
                                                                            ></mat-icon>
                                                                        </ng-container>

                                                                        <i *ngIf="item.childenLen!==undefined"
                                                                           [class.pictureLinkI]="item.pictureLink"
                                                                           class="childenLen">{{item.childenLen}}</i>
                                                                    </div>

                                                                </ng-template>
                                                            </div>
                                                            <div style="
    flex: 35;
    display: flex;
    justify-content: flex-end;
">
                                                                <!--<img style="height: auto; width: auto; position: relative;" fill ngSrc="/assets/images/trash.png" style="width: 14px;vertical-align: middle;"-->
                                                                <!--(click)="openPopBankMatchDelete(item)"/>-->
                                                                <!--                                            <i class="fas fa-ellipsis-v"-->
                                                                <!--                                               [matTooltip]="('appWalk.customers.tazrim.bankmatch.unexpectedOpActionHandler'| translate)"-->
                                                                <!--                                               matTooltipPosition="before"-->
                                                                <!--                                               (click)="openTooltip($event, 162, item.bankTransId, item);"></i>-->
                                                                <!--                                       (click)="openTooltip($event, 102, item.bankTransId, item);"></i>-->

                                                                <!--                                            <i class="fas fa-ellipsis-v"-->
                                                                <!--                                               (click)="openTooltip($event, 235, item.targetId, item)"></i>-->

                                                                <i
                                                                        (click)="
                              tooltipEditFile = item; tooltipEdit.toggle($event)
                            "
                                                                        class="fas fa-ellipsis-v"
                                                                ></i>
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container *ngIf="checkBoxesNear === true">
                                                        <div
                                                                class="bank-acc-details-column-1"
                                                                style="display: flex; align-items: center"
                                                        >
                                                            <p-checkbox (onChange)="
                          checkChecked(item)
                          "
                                                                        [binary]="true"
                                                                        [disabled]="item.checkDisabled"
                                                                        [ngModel]="item.checkRow"
                                                                        checkboxIcon="fa fa-check"
                                                            >
                                                            </p-checkbox>
                                                        </div>
                                                        <div
                                                                class="bank-acc-details-column-5"
                                                                style="position: relative; flex-direction: column; align-items: flex-start;"
                                                        >
                                                            <div
                                                                    [class.sum-credit]="!item.hova"
                                                                    [class.sum-debit]="item.hova"
                                                                    class="ltrNum"
                                                            >
                                                                <app-sum-view
                                                                        [highlight]="filterInputUnadjusted.value"
                                                                        [sum]="item.total"
                                                                        class="text-ellipsis"
                                                                        style="line-height: normal"
                                                                >
                                                                </app-sum-view>
                                                            </div>
                                                            <div *ngIf="item.totalParent!==undefined"
                                                                 [class.paddingLeftTotal]="item.hova"
                                                                 class="ltrNum"
                                                                 style="font-size: 12px;line-height: 12px;display: flex;flex-direction: row-reverse;">
                                                                <div style="margin-left: 3px">
                                                                    מתוך
                                                                </div>
                                                                <app-sum-view
                                                                        [highlight]="filterInputUnadjusted.value"
                                                                        [showDecimal]="false"
                                                                        [sum]="item.totalParent">
                                                                </app-sum-view>
                                                            </div>
                                                        </div>
                                                        <div class="bank-acc-details-column-2">
                                                            <div
                                                                #spanElement1
                                                                [innerHTML]="
                            item.transDateStr
                              | highlight: filterInputUnadjusted.value
                          "
                                                                [pTooltip]="item.transDateStr"
                                                                [tooltipDisabled]="
                      spanElement1.offsetWidth >= spanElement1.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-3">
                                                            <div
                                                                #spanElement2
                                                                [innerHTML]="
                            item[
                              accountSelected &&
                              accountSelected.accountType === 'BANK'
                                ? 'asmachta'
                                : 'nextCycleDateStr'
                            ] | highlight: filterInputUnadjusted.value
                          "
                                                                [pTooltip]="
                            item[
                              accountSelected &&
                              accountSelected.accountType === 'BANK'
                                ? 'asmachta'
                                : 'nextCycleDateStr'
                            ]
                          "
                                                                [tooltipDisabled]="
                      spanElement2.offsetWidth >= spanElement2.scrollWidth
                    "
                                                                class="text-ellipsis"
                                                                tooltipPosition="top"
                                                            ></div>
                                                        </div>
                                                        <div class="bank-acc-details-column-4">
                                                            <div class="text-ellipsis"
                                                                 style="
    flex: 65;
    display: flex;
">
                                                                <div
                                                                    #spanElement3
                                                                    [innerHTML]="
                            item.mainDesc
                              | highlight: filterInputUnadjusted.value
                          "
                                                                    [pTooltip]="item.mainDesc"
                                                                    [tooltipDisabled]="
                      spanElement3.offsetWidth >= spanElement3.scrollWidth
                    "
                                                                    class="text-ellipsis"
                                                                    tooltipPosition="top"
                                                                ></div>


                                                            </div>
                                                            <div style="
    flex: 35;
    display: flex;
    justify-content: flex-end;
">
                                                                <i
                                                                        (click)="
                              tooltipEditFile = item; tooltipEdit.toggle($event)
                            "
                                                                        class="fas fa-ellipsis-v"
                                                                ></i>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="accountSelected && accountSelected.accountType === 'BANK'"
                                                             class="bank-acc-details-column-6"
                                                             style="position: relative"
                                                        >
                                                            <img *ngIf="item['partialChild']"
                                                                 [pTooltip]="'התקבל מהבנק פירוט לא תקין'"
                                                                 height="15"
                                                                 src="/assets/images/exclamation-triangle.png"
                                                                 style="position: absolute; right: 0; top:9px;"
                                                                 tooltipPosition="top"
                                                                 width="17"
                                                            />
                                                            <div style="
    flex: 65;
    display: flex;
    justify-content: center;
">
                                                                <ng-container
                                                                        *ngIf="
                      item.linkId || item.pictureLink;
                      else oldOne
                    "
                                                                >
                                                                    <div
                                                                        #nicknameInpLink1
                                                                        (refresh)="handler($event)"
                                                                        (showArchiveModalFromTransactionAdditional)="
                        showArchiveModalFromTransactionAdditional($event)
                      "
                                                                        *ngIf="
                        item.linkId || item.pictureLink
                      "
                                                                        [appTransactionAdditionalTrigger]="item"
                                                                        [class.bank-acc-details-link]="!item['partialChild']"
                                                                        [class.link]="!item['partialChild']"
                                                                        [companyCustomerDetailsArr]="customerCustList"
                                                                        [disabledClick]="item['partialChild']"
                                                                        [isJournal]="true"
                                                                        [pTooltip]="
																	item.childenLen!==undefined ? (
																	item.pictureLink ?

																	(
																		'מתוך הפקדת '
																		+
																		item.childenLen
																		+
																		' שיקים ע”ס '
																+
														(item.totalParent | number: '1.0-0')
															)
															:
															(
															'מתוך '
															+
															item.childenLen
															+
															' העברות ע”ס '
														+
														(item.totalParent | number: '1.0-0')
															)
															):
														item.paymentDescTranslate
															"
                                                                        class="nicknameInpLink"
                                                                        style="min-width: 0; position: relative;"
                                                                        tooltipPosition="right"
                                                                    >
                                                                        <ng-container
                                                                                *ngIf="item.paymentDesc === 'DirectDebit' || item.paymentDesc === 'cash'">
                                                                            <img [src]="
                          item.paymentDesc === 'DirectDebit'
                            ? '/assets/images/financial10.png'
                            : '/assets/images/view-cashflow.png'
                        "
                                                                                 class="iconPaymentDesc"
                                                                            />
                                                                        </ng-container>
                                                                        <ng-container
                                                                                *ngIf="item.paymentDesc !== 'DirectDebit'&& item.paymentDesc !== 'cash'">
                                                                            <mat-icon
                                                                                    [svgIcon]="item.paymentDesc + ((item.childenLen!==undefined && (item.paymentDesc === 'BankTransfer' || item.paymentDesc === 'Checks')) ? 'Multi' : '')"
                                                                                    style="width: auto; height:30px;"
                                                                            ></mat-icon>
                                                                        </ng-container>
                                                                        <i *ngIf="item.childenLen!==undefined"
                                                                           [class.pictureLinkI]="item.pictureLink"
                                                                           class="childenLen">{{item.childenLen}}</i>
                                                                    </div>

                                                                </ng-container>
                                                                <ng-template #oldOne>
                                                                    <div
                                                                        #nicknameInpLink
                                                                        (click)="
                                                                        !item['partialChild'] &&
                        item['status'] !== 'ADD_ITEM_IGNORE' &&
                        item['status'] !== 'HASH_MATCH_IGNORE' &&
                        item['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                                                item['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                        item['status'] !== 'CUSTOMER_IGNORE' && item['status'] !== 'COMPANY_IGNORE' &&
                        item.loanId !== null
                          ? loanDetails(item.loanId, item.companyAccountId)
                          : null
                      "
                                                                        [class.link]="
                                                                               !item['partialChild'] &&
                        item['status'] !== 'ADD_ITEM_IGNORE' &&
                        item['status'] !== 'HASH_MATCH_IGNORE' &&
                        item['status'] !== 'BIZIBOX_MATCH_IGNORE' &&
                                                item['status'] !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                        item['status'] !== 'CUSTOMER_IGNORE' && item['status'] !== 'COMPANY_IGNORE' &&
                        item.loanId !== null
                      "
                                                                        [pTooltip]="
															item.paymentDescTranslate

															"
                                                                        class="nicknameInpLink"
                                                                        style="min-width: 0; position: relative"
                                                                        tooltipPosition="top"
                                                                    >

                                                                        <ng-container
                                                                                *ngIf="item.paymentDesc === 'DirectDebit' || item.paymentDesc === 'cash'">
                                                                            <img [src]="
                          item.paymentDesc === 'DirectDebit'
                            ? '/assets/images/financial10.png'
                            : '/assets/images/view-cashflow.png'
                        "
                                                                                 class="iconPaymentDesc"
                                                                            />
                                                                        </ng-container>
                                                                        <ng-container
                                                                                *ngIf="item.paymentDesc !== 'DirectDebit'&& item.paymentDesc !== 'cash'">
                                                                            <mat-icon
                                                                                    [svgIcon]="item.paymentDesc + ((item.childenLen!==undefined && (item.paymentDesc === 'BankTransfer' || item.paymentDesc === 'Checks')) ? 'Multi' : '')"
                                                                                    style="width: auto; height:30px;"
                                                                            ></mat-icon>
                                                                        </ng-container>

                                                                        <i *ngIf="item.childenLen!==undefined"
                                                                           [class.pictureLinkI]="item.pictureLink"
                                                                           class="childenLen">{{item.childenLen}}</i>
                                                                    </div>

                                                                </ng-template>

                                                            </div>
                                                            <div style="
    flex: 35;
    display: flex;
    justify-content: flex-end;
">
                                                                <!--<img style="height: auto; width: auto; position: relative;" fill ngSrc="/assets/images/trash.png" style="width: 14px;vertical-align: middle;"-->
                                                                <!--(click)="openPopBankMatchDelete(item)"/>-->
                                                                <!--                                            <i class="fas fa-ellipsis-v"-->
                                                                <!--                                               [matTooltip]="('appWalk.customers.tazrim.bankmatch.unexpectedOpActionHandler'| translate)"-->
                                                                <!--                                               matTooltipPosition="before"-->
                                                                <!--                                               (click)="openTooltip($event, 162, item.bankTransId, item);"></i>-->
                                                                <!--                                       (click)="openTooltip($event, 102, item.bankTransId, item);"></i>-->

                                                                <!--                                            <i class="fas fa-ellipsis-v"-->
                                                                <!--                                               (click)="openTooltip($event, 235, item.targetId, item)"></i>-->

                                                                <i
                                                                        (click)="
                              tooltipEditFile = item; tooltipEdit.toggle($event)
                            "
                                                                        class="fas fa-ellipsis-v"
                                                                ></i>
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                </div>
                                            </div>
                                        </cdk-virtual-scroll-viewport>
                                    </ng-scrollbar>


                                    <!-- 	              <div -->
                                    <!--                   *appVsFor=" -->
                                    <!--                     ; -->
                                    <!--                     scrollParent: '.containerList234'; -->
                                    <!--                     size: 46; -->
                                    <!--                     excess: 30; -->
                                    <!--                     let _items = vsCollection -->
                                    <!--                   " -->
                                    <!--                 > -->
                                    <!--                   <div -->
                                    <!--                     *ngFor="let item of _items; trackBy: trackByIdBank" -->
                                    <!--                     [ngStyle]="{ height: '46px' }" -->
                                    <!--                     [id]="item['paymentId'] + '_' + item['paymentType']" -->
                                    <!--                     #rowForScroll -->
                                    <!--                   > -->
                                    <!--                   </div> -->
                                    <!--                 </div> -->


                                    <p-overlayPanel
                                        #tooltipEdit
                                        [style]="{
																				    'margin-left': '28px',
'margin-top': '7px !important',
                    'width': 'auto'
                  }"
                                        appendTo="body"
                                        styleClass="tooltip-bottom tooltip-acc-deviation tooltip-daily-edit overlayPanelRightClick"
                                    >
                                        <ng-container *ngIf="tooltipEditFile">
                                            <ul style="width: 185px">
                                                <li
                                                        (click)="
                          backToCareBankMatch(tooltipEditFile);
                          tooltipEdit.hide()
                        "
                                                        *ngIf="
                          tooltipEditFile.status === 'ADD_ITEM_IGNORE' ||
                          tooltipEditFile.status === 'CUSTOMER_IGNORE' ||
                          tooltipEditFile.status === 'COMPANY_IGNORE'
                        "
                                                >
                                                    <div
                                                            class="p-helper-clearfix"
                                                            style="display: flex; display: -ms-flexbox"
                                                    >
                                                        <div
                                                                style="align-self: center; flex: 20; -ms-flex: 20"
                                                        >
                                                            <mat-icon
                                                                    style="width: 14px; vertical-align: middle"
                                                                    svgIcon="cancel"
                                                            ></mat-icon>
                                                        </div>
                                                        <p
                                                                class="nameAcc"
                                                                style="
                              overflow: hidden;
                              white-space: nowrap;
                              text-overflow: ellipsis;
                              flex: 85;
                              -ms-flex: 85;
                            "
                                                        >
                                                            חזרה לטיפול
                                                        </p>
                                                    </div>
                                                </li>
                                                <li
                                                        (click)="
                          updateIgnoreBankMatch(tooltipEditFile);
                          tooltipEdit.hide()
                        "
                                                        *ngIf="
                          tooltipEditFile.status === 'CHECKED' ||
                          tooltipEditFile.status === 'RECHECK' ||
                          tooltipEditFile.status === 'DONE' ||
                          tooltipEditFile.status === 'EMPTY'
                        "
                                                >
                                                    <div
                                                            class="p-helper-clearfix"
                                                            style="display: flex; display: -ms-flexbox"
                                                    >
                                                        <div
                                                                style="align-self: center; flex: 20; -ms-flex: 20"
                                                        >
                                                            <mat-icon
                                                                    style="width: 14px; vertical-align: middle"
                                                                    svgIcon="closeIcon"
                                                            ></mat-icon>
                                                        </div>
                                                        <p
                                                                class="nameAcc"
                                                                style="
                              overflow: hidden;
                              white-space: nowrap;
                              text-overflow: ellipsis;
                              flex: 85;
                              -ms-flex: 85;
                            "
                                                        >
                                                            לא לטיפול
                                                        </p>
                                                    </div>
                                                </li>
                                            </ul>
                                        </ng-container>
                                    </p-overlayPanel>


                                </ng-container>
                            </div>
                        </div>

                        <div
                                *ngIf="
              currentTab === 1
                ? cashflowMatchAll && !cashflowMatchAll?.length
                : cashflowMatchReco && !cashflowMatchReco?.length
            "
                                [appScrollHeight]="
              cashflowMatchHeaderTitle.getBoundingClientRect().bottom +
              footer.getBoundingClientRect().height
            "
                                class="notData"
                        >
                            <p>
                                לא קיימות תנועות
                                {{ currentTab === 0 ? ' מומלצות ל' : '' }}
                                צד בנק
                            </p>
                        </div>
                    </div>
                </div>
                <!--        *ngIf="hasRowOfChecked && hasRowOfDeleted"-->
                <div #footer class="bottomSumNav">
                    <div class="dateSelect">
                        <p>תאריך תחילת התאמות

                            <ng-container *ngIf="accountSelected && accountSelected.accountType !== 'BANK'">
                                -
                                ממחזור חיוב
                            </ng-container>
                        </p>
                        <!--                    [class.calendarInput_accountsBar_wrapper]="accountsBarData.startWorkChangePriv === false"-->
                        <div *ngIf="accountSelected" style="position: relative">
                            <ng-container *ngIf="overlayVisible">
                                <p-overlay
                                        [(visible)]="overlayVisible"
                                        [responsive]="{  direction: 'top' }"
                                        contentStyleClass="contentStyleClass_overlayPanel_accountSelected"
                                        styleClass="overlayPanel_accountSelected">
                                    <div class="parag">
                                        לשינוי תאריך תחילת התאמות,
                                    </div>
                                    <div class="parag">
                                        אנא פיתחו קריאת שרות.
                                        <img (click)="showOpenTicketDisabled()"
                                             src="/assets/images/iconSupportTooltip2.png"
                                        />
                                    </div>
                                </p-overlay>
                            </ng-container>

                            <p-calendar
                                    (click)="accountsBarData.startWorkChangePriv === false ? toggleOverlay() : null"
                                    (onSelect)="selectDate($event)"
                                    [(ngModel)]="accountSelected.startWorkDate"
                                    [dateFormat]="'dd/mm/yy'"
                                    [disabled]="accountsBarData.startWorkChangePriv === false"
                                    [locale]="'langCalendar' | translate"
                                    [minDate]="accountSelected.oldestWorkDate"
                                    [readonlyInput]="true"
                                    [showIcon]="true"
                                    [style]="{ width: '140px' }"
                                    appendTo="body"
                                    icon="far fa-calendar"
                                    placeholder="{{ 'titles.date' | translate }}"
                                    styleClass="calendarInput_accountsBar"
                            ></p-calendar>

                            <!--                        <ng-container-->
                            <!--                                *ngIf="accountsBarData.startWorkChangePriv === false">-->
                            <!--                            <mat-icon-->
                            <!--                                    [escape]="false"-->
                            <!--                                    [pTooltip]="iconSupportTooltip2()"-->
                            <!--                                    (click)="showOpenTicketDisabled()"-->
                            <!--                                    [svgIcon]="'icon_support'"-->
                            <!--                                    style="width: 25px;height: 25px;display: block;margin-right: 10px;cursor:pointer"-->
                            <!--                                    tooltipPosition="top"-->
                            <!--                                    tooltipStyleClass="iconSupportTooltip">-->
                            <!--                            </mat-icon>-->
                            <!--                        </ng-container>-->

                        </div>
                    </div>
                    <div class="sums-data">
                        צד ספרים:

                        <app-sum-view
                                [sum]="hasRowOfDeleted ? hasRowOfDeleted['sum'] : 0"
                                class="text-ellipsis"
                        >
                        </app-sum-view>
                        <span *ngIf="accountSelected"
                              class="currency">{{accountSelected?.currencyCode|currencySymbol}}</span>
                        צד בנק:

                        <app-sum-view
                                [sum]="hasRowOfChecked ? hasRowOfChecked['sum'] : 0"
                                class="text-ellipsis"
                        >
                        </app-sum-view>
                        <span *ngIf="accountSelected"
                              class="currency">{{accountSelected?.currencyCode|currencySymbol}}</span>
                        הפרש:

                        <app-sum-view
                                [sum]="
              toFixedNumber(hasRowOfDeleted ? hasRowOfDeleted['sum'] : 0) +
              toFixedNumber(hasRowOfChecked ? hasRowOfChecked['sum'] : 0)
            "
                                class="text-ellipsis"
                        >
                        </app-sum-view>
                        <span *ngIf="accountSelected"
                              class="currency">{{accountSelected?.currencyCode|currencySymbol}}</span>
                    </div>
                    <mat-icon (click)="showOpenTicket()"
                              *ngIf="hasRowOfDeleted || hasRowOfChecked"
                              [pTooltip]="'פתיחת קריאת שירות'"
                              [svgIcon]="'icon_support'"
                              class="abs"
                              style="width: 25px;height: 25px;display: block;margin-top: 25px;margin-left: 40px;cursor: pointer;fill: #022258;margin-right: auto;position: absolute;left: 170px;top: 0px;"
                              tooltipPosition="top">
                    </mat-icon>
                    <div style="margin-right: auto; display: flex; align-items: center">
                        <button
                                (click)="accountantMatch()"
                                [disabled]="disabledMatchBtn()"
                                class="button-dark"
                                style="
              width: 133px;
              font-size: 18px;
              font-weight: 600;
              height: 38px;
              line-height: 36px !important;
              padding: 0 !important;
            "
                        >
                            התאמה
                        </button>
                    </div>
                </div>
            </ng-container>
            <ng-container *ngIf="tabMatched === 2">
                <div class="matchedTrans">
                    <div
                        #banktransForMatchHeader
                        class="twoTables twoTablesModal"
                        style="position: relative"
                    >
                        <div class="banktransForMatch" style="flex: 800">
                            <div class="title">
                                <i
                                        style="line-height: 1em"
                                >
                                    ספרים
                                </i>

                                <div class="search">
                                    <input
                                            [formControl]="filterInputBooks"
                                            autocomplete="off"
                                            id="containTextFilter"
                                            placeholder="{{ 'filters.search' | translate }}"
                                            style="border-bottom: none"
                                            type="text"
                                    />
                                </div>
                            </div>

                            <div
                                    class="bank-acc-details-table-container tableBanktransForMatch"
                                    style="position: relative"
                            >
                                <div class="bank-acc-details-table-header">
                                    <div class="bank-acc-details-column-1">#</div>
                                    <div
                                            class="bank-acc-details-column-2"
                                            style="overflow: visible"
                                    >
                                        <div>תיאור / פרטים</div>
                                    </div>
                                    <div
                                            class="bank-acc-details-column-3"
                                            style="overflow: visible"
                                    >
                                        <div>תאריך</div>
                                    </div>
                                    <div
                                            class="bank-acc-details-column-4"
                                            style="overflow: visible"
                                    >
                                        <div>מנה</div>
                                    </div>
                                    <div
                                            class="bank-acc-details-column-5"
                                            style="overflow: visible"
                                    >
                                        <div>ח. נגדי</div>
                                    </div>
                                    <div
                                            class="bank-acc-details-column-6"
                                            style="overflow: visible"
                                    >
                                        <div>ס.ת.</div>
                                    </div>
                                    <div
                                            class="bank-acc-details-column-7"
                                            style="overflow: visible"
                                    >
                                        <div>אסמכתא</div>
                                    </div>
                                    <div
                                            class="bank-acc-details-column-8"
                                            style="overflow: visible"
                                    >
                                        <div>ת. ערך</div>
                                    </div>
                                    <div
                                            class="bank-acc-details-column-9"
                                            style="overflow: visible"
                                    >
                                        <div>זכות/ חובה</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="banktransForMatch" style="flex: 600">
                            <div class="title searchRowReco">
                                <i

                                        style="line-height: 1em"
                                >
                                    בנק
                                </i>
                                <div class="search">
                                    <input
                                            [formControl]="filterInputUnadjusted"
                                            autocomplete="off"
                                            id="containTextFilterUnadjusted"
                                            placeholder="{{ 'filters.search' | translate }}"
                                            style="border-bottom: none"
                                            type="text"
                                    />
                                </div>
                            </div>
                            <div
                                    class="bank-acc-details-table-container tableBanktransForMatch"
                                    style="position: relative"
                            >
                                <div class="bank-acc-details-table-header">
                                    <div class="bank-acc-details-column-1">
                                        <div>תיאור / פרטים</div>
                                    </div>
                                    <div
                                            class="bank-acc-details-column-2"
                                            style="overflow: visible"
                                    >
                                        <div>
                                            {{
                                            accountSelected && accountSelected.accountType === 'BANK'
                                                ? 'תאריך'
                                                : 'תאריך עסקה'
                                            }}
                                        </div>
                                    </div>
                                    <div
                                            class="bank-acc-details-column-3"
                                            style="overflow: visible"
                                    >
                                        <div>
                                            {{
                                            accountSelected && accountSelected.accountType === 'BANK'
                                                ? 'אסמכתא'
                                                : 'תאריך חיוב'
                                            }}
                                        </div>
                                    </div>
                                    <div
                                            *ngIf="
                    accountSelected && accountSelected.accountType === 'BANK'
                  "
                                            class="bank-acc-details-column-4"
                                            style="overflow: visible"
                                    >
                                        <div>ת. ערך</div>
                                    </div>
                                    <div
                                            class="bank-acc-details-column-5"
                                            style="overflow: visible"
                                    >
                                        <div>זכות/ חובה</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div
                            [ngStyle]="{'height': getPageHeightFunc( banktransForMatchHeader.getBoundingClientRect().bottom +20 +footer.getBoundingClientRect().height) +'px'}"
                            class="containerList containerListData scrollbar-dynamic bank-acc-details-table-body"
                            style="position: relative"
                    >
                        <div *ngIf="loaderMatchedTrans" class="loader">
                            <div class="circle"></div>
                        </div>
                        <ng-container *ngIf="matchedTransSaved?.length">
                            <ng-scrollbar
                                #scrollbarCompanies
                                (updated)="onScroll(scrollbarCompanies)"
                                class="custom-scrollbar"
                                thumbClass="scrollbar-thumb"
                                trackClass="scrollbar">

                                <cdk-virtual-scroll-viewport #virtualScroll itemSize="46" scrollViewport>
                                    <div *cdkVirtualFor="let item of matchedTrans; let i = index; trackBy: trackByIdBooks"
                                         [ngStyle]="{ height: '46px' }"
                                         style="position: relative"
                                    >

                                        <ng-container *ngIf="item.isFutureTransesTitle">
                                            <div
                                                    class="bank-acc-details-table-container tableBanktransForMatch"
                                                    style="position: relative"
                                            >
                                                <div
                                                        (click)="
                      isHashTransesOpened = !isHashTransesOpened;
                      sharedComponent.mixPanelEvent((isHashTransesOpened? 'open' : 'close') + ' hutam hash');
                      filtersMatchedTrans()
                    "
                                                        [class.opened]="isHashTransesOpened"
                                                        class="bank-acc-details-row titleRow"
                                                >
                                                    <div style="font-size: 17px">
                                                        <img
                                                                [src]="
                          isHashTransesOpened
                            ? '/assets/images/stateOpen.png'
                            : '/assets/images/stateClose.png'
                        "
                                                                height="9"
                                                                style="
                          width: 14px;
                          height: 9px;
                          vertical-align: middle;
                          cursor: pointer;
                          margin-left: 11px;
                        "
                                                                width="14"
                                                        />

                                                        הותאמו בחשבשבת
                                                    </div>
                                                </div>

                                                <mat-icon (click)="showOpenTicket('isFutureTranses')"
                                                          [pTooltip]="'פתיחת קריאת שירות'"
                                                          [svgIcon]="'icon_support'"
                                                          class="abs"
                                                          style="width: 25px;height: 25px;display: block;cursor: pointer;margin-right: auto;position: absolute;right: 170px;top: 8px;"
                                                          tooltipPosition="top">
                                                </mat-icon>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="item.isBiziboxMatchedTitle">
                                            <div
                                                    class="bank-acc-details-table-container tableBanktransForMatch"
                                                    style="position: relative"
                                            >
                                                <div
                                                        (click)="
                      isBiziboxMatchedOpened = !isBiziboxMatchedOpened;
                                            sharedComponent.mixPanelEvent((isBiziboxMatchedOpened? 'open' : 'close') + ' hutam bizibox');
                      filtersMatchedTrans()
                    "
                                                        [class.opened]="isBiziboxMatchedOpened"
                                                        class="bank-acc-details-row titleRow"
                                                >
                                                    <div style="font-size: 17px">
                                                        <img
                                                                [src]="
                          isBiziboxMatchedOpened
                            ? '/assets/images/stateOpen.png'
                            : '/assets/images/stateClose.png'
                        "
                                                                height="9"
                                                                style="
                          width: 14px;
                          height: 9px;
                          vertical-align: middle;
                          cursor: pointer;
                          margin-left: 11px;
                        "
                                                                width="14"
                                                        />

                                                        הותאמו בביזיבוקס
                                                    </div>
                                                </div>
                                                <mat-icon (click)="showOpenTicket('isBiziboxMatched')"
                                                          [pTooltip]="'פתיחת קריאת שירות'"
                                                          [svgIcon]="'icon_support'"
                                                          class="abs"
                                                          style="width: 25px;height: 25px;display: block;cursor: pointer;margin-right: auto;position: absolute;right: 170px;top: 8px;"
                                                          tooltipPosition="top">
                                                </mat-icon>
                                            </div>
                                        </ng-container>
                                        <ng-container *ngIf="item.isMadeInBiziboxTitle">
                                            <div
                                                    class="bank-acc-details-table-container tableBanktransForMatch"
                                                    style="position: relative"
                                            >
                                                <div
                                                        (click)="
                      isMadeInBiziboxOpened = !isMadeInBiziboxOpened;
                                                                  sharedComponent.mixPanelEvent((isMadeInBiziboxOpened? 'open' : 'close') + ' notzru bizibox');

                      filtersMatchedTrans()
                    "
                                                        [class.opened]="isMadeInBiziboxOpened"
                                                        class="bank-acc-details-row titleRow"
                                                >
                                                    <div style="font-size: 17px">
                                                        <img
                                                                [src]="
                          isMadeInBiziboxOpened
                            ? '/assets/images/stateOpen.png'
                            : '/assets/images/stateClose.png'
                        "
                                                                height="9"
                                                                style="
                          width: 14px;
                          height: 9px;
                          vertical-align: middle;
                          cursor: pointer;
                          margin-left: 11px;
                        "
                                                                width="14"
                                                        />

                                                        נוצרו בביזיבוקס
                                                    </div>
                                                </div>
                                                <mat-icon (click)="showOpenTicket('isMadeInBizibox')"
                                                          [pTooltip]="'פתיחת קריאת שירות'"
                                                          [svgIcon]="'icon_support'"
                                                          class="abs"
                                                          style="width: 25px;height: 25px;display: block;cursor: pointer;margin-right: auto;position: absolute;right: 170px;top: 8px;"
                                                          tooltipPosition="top">
                                                </mat-icon>
                                            </div>
                                        </ng-container>
                                        <ng-container
                                                *ngIf="!item.isFutureTransesTitle && !item.isMadeInBiziboxTitle && !item.isBiziboxMatchedTitle">
                                            <div
                                                    [class.isLast]="item.isLast"
                                                    [class.lastFutureTranses]="
                  (  !item.isFutureTransesTitle &&
                    item.isFutureTranses &&
                    ((matchedTrans[i + 1] &&
                      !matchedTrans[i + 1].isFutureTranses) ||
                      !matchedTrans[i + 1])) ||
                       (  !item.isMadeInBiziboxTitle &&
                    item.isMadeInBizibox &&
                    ((matchedTrans[i + 1] &&
                      !matchedTrans[i + 1].isMadeInBizibox) ||
                      !matchedTrans[i + 1]))
                 ||
                   (  !item.isBiziboxMatchedTitle &&
                    item.isBiziboxMatched &&
                    ((matchedTrans[i + 1] &&
                      !matchedTrans[i + 1].isBiziboxMatched) ||
                      !matchedTrans[i + 1]))

                  "
                                                    class="twoTables twoTablesModal rowWrap"
                                                    style="position: relative; margin: 0"
                                            >
                                                <div
                                                        class="banktransForMatch"
                                                        style="
                      flex: 800;
                      position: relative;
                      border-top: none !important;
                    "
                                                >
                                                    <div
                                                            class="bank-acc-details-table-container tableBanktransForMatch"
                                                            style="position: relative"
                                                    >
                                                        <div
                                                                class="bank-acc-details-row"
                                                                style="position: relative"
                                                        >
                                                            <div
                                                                    class="bank-acc-details-column-1"
                                                                    style="display: flex; align-items: center"
                                                            >
                                                                <div
                                                                        *ngIf="item.isFirst"
                                                                        [ngStyle]="{
                              height:
                                (item.isFirst
                                  ? item.totalRows * 46 - 2
                                  : 46 - 2) + 'px'
                            }"
                                                                        class="matchNum"
                                                                >
                                                                    {{
                                                                    item.isFirst && item.isFutureTranses
                                                                        ? item.matchNum
                                                                        : ''
                                                                    }}
                                                                </div>
                                                            </div>
                                                            <div
                                                                    class="bank-acc-details-column-2"
                                                                    style="
                            display: flex;
                            align-items: center;
                            justify-content: space-between;
                          "
                                                            >
                                                                <ng-container *ngIf="item.book">
                                                                    <div
                                                                        #spanElement1
                                                                        [innerHTML]="
                                item.book.details
                                  | highlight: filterInputBooks.value
                              "
                                                                        [pTooltip]="item.book.details"
                                                                        [tooltipDisabled]="
                      spanElement1.offsetWidth >= spanElement1.scrollWidth
                    "
                                                                        class="text-ellipsis"
                                                                        tooltipPosition="top"
                                                                    ></div>

                                                                    <mat-icon
                                                                            (click)="
                                showDocumentListStorageData(item.book.fileId)
                              "
                                                                            *ngIf="item.book.fileId"
                                                                            style="
                                width: 17px;
                                height: 17px;
                                color: #022258;
                                display: flex;
                                cursor: pointer;
                                flex: none;
                              "
                                                                            svgIcon="picIcon"
                                                                    ></mat-icon>
                                                                </ng-container>
                                                            </div>

                                                            <div class="bank-acc-details-column-3">
                                                                <ng-container *ngIf="item.book">
                                                                    <div
                                                                        #spanElement2
                                                                        [innerHTML]="
                                item.book.transDateStr_date
                                  | highlight: filterInputBooks.value
                              "
                                                                        [pTooltip]="item.book.transDateStr_date"
                                                                        [tooltipDisabled]="
                      spanElement2.offsetWidth >= spanElement2.scrollWidth
                    "
                                                                        class="text-ellipsis"
                                                                        tooltipPosition="top"
                                                                    ></div>
                                                                </ng-container>
                                                            </div>
                                                            <div class="bank-acc-details-column-4">
                                                                <ng-container *ngIf="item.book">
                            <span
                                    [class.redNum]="
                                item.book.sourceType === 'JOURNAL_TEMP'
                              "
                                    [innerHTML]="
                                item.book.batchNumber
                                  | highlight: filterInputBooks.value
                              "
                                    [pTooltip]="
                                item.book.sourceType === 'JOURNAL_TEMP'
                                  ? 'פקודה זמנית'
                                  : !item.book.batchNumber
                                  ? item.book.sourceType === 'JOURNAL_TRANS' ||
                                    item.book.sourceType ===
                                      'OCR_FILE_RESULT' ||
                                    item.book.sourceType === 'SPLIT_PAYMENT'
                                    ? 'בתהליך קליטה - ספקים לקוחות'
                                    : null
                                  : null
                              "
                                    style="
                                width: 100%;
                                height: 20px;
                                display: block;
                                line-height: normal;
                              "
                                    tooltipPosition="top"
                            ></span>
                                                                </ng-container>
                                                            </div>
                                                            <div class="bank-acc-details-column-5">
                                                                <ng-container *ngIf="item.book">
                                                                    <div
                                                                        #spanElement3
                                                                        [innerHTML]="
                                item.book.oppositeCustId
                                  | highlight: filterInputBooks.value
                              "
                                                                        [pTooltip]="item.book.oppositeCustId"
                                                                        [tooltipDisabled]="
                      spanElement3.offsetWidth >= spanElement3.scrollWidth
                    "
                                                                        class="text-ellipsis"
                                                                        tooltipPosition="top"
                                                                    ></div>
                                                                </ng-container>
                                                            </div>
                                                            <div class="bank-acc-details-column-6">
                                                                <ng-container *ngIf="item.book">
                                                                    <div
                                                                        #spanElement4
                                                                        [innerHTML]="
                                item.book.transTypeCode
                                  | highlight: filterInputBooks.value
                              "
                                                                        [pTooltip]="item.book.transTypeCode"
                                                                        [tooltipDisabled]="
                      spanElement4.offsetWidth >= spanElement4.scrollWidth
                    "
                                                                        class="text-ellipsis"
                                                                        tooltipPosition="top"
                                                                    ></div>
                                                                </ng-container>
                                                            </div>
                                                            <div class="bank-acc-details-column-7">
                                                                <ng-container *ngIf="item.book">
                                                                    <div
                                                                        #spanElement5
                                                                        [innerHTML]="
                                item.book.asmachta
                                  | highlight: filterInputBooks.value
                              "
                                                                        [pTooltip]="item.book.asmachta"
                                                                        [tooltipDisabled]="
                      spanElement5.offsetWidth >= spanElement5.scrollWidth
                    "
                                                                        class="text-ellipsis"
                                                                        tooltipPosition="top"
                                                                    ></div>
                                                                </ng-container>
                                                            </div>
                                                            <div class="bank-acc-details-column-8">
                                                                <ng-container *ngIf="item.book">
                                                                    <div
                                                                        #spanElement6
                                                                        [innerHTML]="
                                item.book.transDateStr
                                  | highlight: filterInputBooks.value
                              "
                                                                        [pTooltip]="item.book.transDateStr"
                                                                        [tooltipDisabled]="
                      spanElement6.offsetWidth >= spanElement6.scrollWidth
                    "
                                                                        class="text-ellipsis"
                                                                        tooltipPosition="top"
                                                                    ></div>
                                                                </ng-container>
                                                            </div>
                                                            <div
                                                                    class="bank-acc-details-column-9"
                                                                    style="position: relative"
                                                            >
                                                                <ng-container *ngIf="item.book">
                                                                    <div
                                                                            [class.sum-credit]="!item.book.hova"
                                                                            [class.sum-debit]="item.book.hova"
                                                                            class="ltrNum"
                                                                    >
                                                                        <app-sum-view
                                                                                [highlight]="filterInputBooks.value"
                                                                                [sum]="item.book.total"
                                                                                class="text-ellipsis"
                                                                        >
                                                                        </app-sum-view>
                                                                    </div>
                                                                </ng-container>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div
                                                        class="banktransForMatch"
                                                        style="
                      flex: 600;
                      position: relative;
                      border-top: none !important;
                    "
                                                >
                                                    <div
                                                            class="bank-acc-details-table-container tableBanktransForMatch"
                                                            style="position: relative"
                                                    >
                                                        <div
                                                                class="bank-acc-details-row"
                                                                style="position: relative"
                                                        >
                                                            <div class="bank-acc-details-column-1">
                                                                <ng-container *ngIf="item.bank">
                                                                    <div
                                                                        #spanElement7
                                                                        [innerHTML]="
                                item.bank.details
                                  | highlight: filterInputUnadjusted.value
                              "
                                                                        [pTooltip]="item.bank.details"
                                                                        [tooltipDisabled]="
                      spanElement7.offsetWidth >= spanElement7.scrollWidth
                    "
                                                                        class="text-ellipsis"
                                                                        tooltipPosition="top"
                                                                    ></div>
                                                                </ng-container>
                                                            </div>
                                                            <div class="bank-acc-details-column-2">
                                                                <ng-container *ngIf="item.bank">
                                                                    <div
                                                                        #spanElement8
                                                                        [innerHTML]="
                                item.bank.transDateStr_date
                                  | highlight: filterInputUnadjusted.value
                              "
                                                                        [pTooltip]="item.bank.transDateStr_date"
                                                                        [tooltipDisabled]="
                      spanElement8.offsetWidth >= spanElement8.scrollWidth
                    "
                                                                        class="text-ellipsis"
                                                                        tooltipPosition="top"
                                                                    ></div>
                                                                </ng-container>
                                                            </div>

                                                            <div class="bank-acc-details-column-3">
                                                                <ng-container *ngIf="item.bank">
                                                                    <div
                                                                        #spanElement11
                                                                        [innerHTML]="
                                item.bank[
                                  accountSelected &&
                                  accountSelected.accountType === 'BANK'
                                    ? 'asmachta'
                                    : 'transDateStr'
                                ] | highlight: filterInputUnadjusted.value
                              "
                                                                        [pTooltip]="
                                item.bank[
                                  accountSelected &&
                                  accountSelected.accountType === 'BANK'
                                    ? 'asmachta'
                                    : 'transDateStr'
                                ]
                              "
                                                                        [tooltipDisabled]="
                      spanElement11.offsetWidth >= spanElement11.scrollWidth
                    "
                                                                        class="text-ellipsis"
                                                                        tooltipPosition="top"
                                                                    ></div>
                                                                </ng-container>
                                                            </div>

                                                            <div
                                                                    *ngIf="
                            accountSelected &&
                            accountSelected.accountType === 'BANK'
                          "
                                                                    class="bank-acc-details-column-4"
                                                            >
                                                                <ng-container *ngIf="item.bank">
                                                                    <div
                                                                        #spanElement9
                                                                        [innerHTML]="
                                item.bank.transDateStr
                                  | highlight: filterInputUnadjusted.value
                              "
                                                                        [pTooltip]="item.bank.transDateStr"
                                                                        [tooltipDisabled]="
                      spanElement9.offsetWidth >= spanElement9.scrollWidth
                    "
                                                                        class="text-ellipsis"
                                                                        tooltipPosition="top"
                                                                    ></div>
                                                                </ng-container>
                                                            </div>
                                                            <div
                                                                    class="bank-acc-details-column-5"
                                                                    style="position: relative"
                                                            >
                                                                <ng-container *ngIf="item.bank">
                                                                    <div
                                                                            [class.sum-credit]="!item.bank.hova"
                                                                            [class.sum-debit]="item.bank.hova"
                                                                            class="ltrNum"
                                                                    >
                                                                        <app-sum-view
                                                                                [highlight]="filterInputUnadjusted.value"
                                                                                [sum]="item.bank.total"
                                                                                class="text-ellipsis"
                                                                        >
                                                                        </app-sum-view>
                                                                    </div>
                                                                </ng-container>
                                                                <ng-container *ngIf="!item.bank">
                                                                    &nbsp;
                                                                </ng-container>
                                                                <button
                                                                        (click)="
                              cancelMatch(
                                item.book && item.book.journalBankMatchId
                                  ? item.book.journalBankMatchId
                                  : item.bank.journalBankMatchId
                              )
                            "
                                                                        *ngIf="item.isFirst && !item.isFutureTranses && !item.isMadeInBizibox"
                                                                        [ngStyle]="{
                              height:
                                (item.isFirst ? item.totalRows * 46 - 10 : 36) +
                                'px'
                            }"
                                                                        class="button-dark matchNumBtn"
                                                                >
                                                                    בטל התאמה
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </div>

                                    <div
                                            *ngIf="
                !loaderMatchedTrans &&
                matchedTransSaved?.length &&
                !matchedTrans.length
              "
                                            class="no-rows-found"
                                    >
                                        לא נמצאו תנועות מתאימות לחיפוש המבוקש
                                    </div>
                                </cdk-virtual-scroll-viewport>
                            </ng-scrollbar>
                        </ng-container>

                        <div
                                *ngIf="!loaderMatchedTrans && !matchedTransSaved?.length"
                                class="no-rows-found"
                        >
                            לא נמצאו תנועות מתאימות לסינון התאריכים המבוקש
                        </div>
                    </div>


                    <!--                <ng-container *ngIf="banktransForMatchAll?.length">-->
                    <!--                    <div *appVsFor="banktransForMatch; scrollParent:'.containerList22'; autoresize: true; size: 46; excess:200; let _items = vsCollection;">-->
                    <!--                        <div *ngFor="let item of _items; index as i; trackBy: trackByIdBooks;"-->
                    <!--                             [ngStyle]="{height: '46px'}">-->
                    <!--                            <div class="bank-acc-details-row titleRow"-->
                    <!--                                 *ngIf="item.isFutureTransesTitle"-->
                    <!--                                 [class.opened]="isFutureTransesOpened"-->
                    <!--                                 (click)="isFutureTransesOpened = !isFutureTransesOpened; filtersAllBooks()">-->
                    <!--                                <div style="font-size: 17px;">-->
                    <!--                                    <img style="height: auto; width: auto; position: relative;" fill [ngSrc]="isFutureTransesOpened ? '/assets/images/stateOpen.png': '/assets/images/stateClose.png'"-->
                    <!--                                         style="width: 14px; height:9px; vertical-align: middle; cursor: pointer;margin-left: 11px;"/>-->

                    <!--                                    פקודות עתידיות-->
                    <!--                                </div>-->
                    <!--                            </div>-->
                    <!--                            <div class="bank-acc-details-row"-->
                    <!--                                 [class.lastFutureTranses]="!item.isFutureTransesTitle && item.isFutureTranses && (_items[i + 1] && !_items[i + 1].isFutureTranses || !_items[i + 1])"-->
                    <!--                                 *ngIf="!item.isFutureTransesTitle"-->
                    <!--                                 [class.bank-acc-details-row-selected]="item.deleteRow || item?.journalTransId === tooltipElem?.journalTransId">-->

                    <!--                                <div class="bank-acc-details-column-1"-->
                    <!--                                     style="display: flex; align-items: center;">-->
                    <!--                                    <p-checkbox checkboxIcon="fa fa-check" [binary]="true"-->
                    <!--                                                [disabled]="item.checkDisabled"-->
                    <!--                                                (onChange)="item.deleteRow=!item.deleteRow;checkDeleted()"-->
                    <!--                                                [(ngModel)]="item.deleteRow">-->
                    <!--                                    </p-checkbox>-->
                    <!--                                </div>-->
                    <!--                                <div class="bank-acc-details-column-2">-->
                    <!--                                    <div class="text-ellipsis"-->
                    <!--                                         [innerHTML]="item.batchNumber| highlight: filterInputBooks.value"-->
                    <!--                                         [pTooltip]="item.batchNumber"-->
                    <!--                                         tooltipPosition="top"></div>-->
                    <!--                                </div>-->
                    <!--                                <div class="bank-acc-details-column-3">-->
                    <!--                                    <div class="text-ellipsis"-->
                    <!--                                         [innerHTML]="item.oppositeCustId| highlight: filterInputBooks.value"-->
                    <!--                                         [pTooltip]="item.oppositeCustId"-->
                    <!--                                         tooltipPosition="top"></div>-->
                    <!--                                </div>-->
                    <!--                                <div class="bank-acc-details-column-4">-->
                    <!--                                    <div class="text-ellipsis"-->
                    <!--                                         [innerHTML]="item.transTypeCode| highlight: filterInputBooks.value"-->
                    <!--                                         [pTooltip]="item.transTypeCode"-->
                    <!--                                         tooltipPosition="top"></div>-->
                    <!--                                </div>-->
                    <!--                                <div class="bank-acc-details-column-5">-->
                    <!--                                    <div class="text-ellipsis"-->
                    <!--                                         [innerHTML]="item.transDateStr_date| highlight: filterInputBooks.value"-->
                    <!--                                         [pTooltip]="item.transDateStr_date"-->
                    <!--                                         tooltipPosition="top"></div>-->
                    <!--                                </div>-->
                    <!--                                <div class="bank-acc-details-column-6">-->
                    <!--                                    <div class="text-ellipsis"-->
                    <!--                                         [innerHTML]="item.transDateStr| highlight: filterInputBooks.value"-->
                    <!--                                         [pTooltip]="item.transDateStr"-->
                    <!--                                         tooltipPosition="top"></div>-->
                    <!--                                </div>-->
                    <!--                                <div class="bank-acc-details-column-7">-->
                    <!--                                    <div class="text-ellipsis"-->
                    <!--                                         [innerHTML]="item.asmachta| highlight: filterInputBooks.value"-->
                    <!--                                         [pTooltip]="item.asmachta"-->
                    <!--                                         tooltipPosition="top"></div>-->
                    <!--                                </div>-->
                    <!--                                <div class="bank-acc-details-column-8">-->
                    <!--                                    <div class="text-ellipsis"-->
                    <!--                                         [innerHTML]="item.details| highlight: filterInputBooks.value"-->
                    <!--                                         [pTooltip]="item.details"-->
                    <!--                                         tooltipPosition="top"></div>-->
                    <!--                                </div>-->
                    <!--                                <div class="bank-acc-details-column-9">-->
                    <!--                                    <mat-icon (click)="showDocumentListStorageData(item.fileId)"-->
                    <!--                                              *ngIf="item.fileId"-->
                    <!--                                              style="width: 17px;height: 17px;color: #022258;display: flex;cursor: pointer"-->
                    <!--                                              svgIcon="picIcon"></mat-icon>-->
                    <!--                                </div>-->
                    <!--                                <div class="bank-acc-details-column-10" style="position: relative;">-->
                    <!--                                    <div class="ltrNum" [class.sum-debit]="item.hova"-->
                    <!--                                         [class.sum-credit]="!item.hova">-->
                    <!--                                        <app-sum-view class="text-ellipsis"-->
                    <!--                                                      [sum]="item.total"-->
                    <!--                                                      [highlight]="filterInputBooks.value">-->
                    <!--                                        </app-sum-view>-->
                    <!--                                    </div>-->
                    <!--                                    <div>-->
                    <!--                                        &lt;!&ndash;<img style="height: auto; width: auto; position: relative;" fill ngSrc="/assets/images/trash.png" style="width: 14px;vertical-align: middle;"&ndash;&gt;-->
                    <!--                                        &lt;!&ndash;(click)="openPopBankMatchDelete(item)"/>&ndash;&gt;-->
                    <!--                                        &lt;!&ndash;                                            <i class="fas fa-ellipsis-v"&ndash;&gt;-->
                    <!--                                        &lt;!&ndash;                                               [matTooltip]="('appWalk.customers.tazrim.bankmatch.unexpectedOpActionHandler'| translate)"&ndash;&gt;-->
                    <!--                                        &lt;!&ndash;                                               matTooltipPosition="before"&ndash;&gt;-->
                    <!--                                        &lt;!&ndash;                                               (click)="openTooltip($event, 162, item.bankTransId, item);"></i>&ndash;&gt;-->
                    <!--                                        &lt;!&ndash;                                       (click)="openTooltip($event, 102, item.bankTransId, item);"></i>&ndash;&gt;-->
                    <!--                                    </div>-->
                    <!--                                </div>-->
                    <!--                                &lt;!&ndash;<div class="arrow-right"&ndash;&gt;-->
                    <!--                                &lt;!&ndash;*ngIf="showAdditionalItem && showAdditionalItem.bankTransId === item.bankTransId"></div>&ndash;&gt;-->
                    <!--                            </div>-->
                    <!--                        </div>-->
                    <!--                    </div>-->
                    <!--                    <div class="no-rows-found"-->
                    <!--                         *ngIf="!loaderBooks && banktransForMatchAll?.length && !banktransForMatch.length">-->
                    <!--                        לא נמצאו תנועות מתאימות לחיפוש המבוקש-->
                    <!--                    </div>-->
                    <!--                </ng-container>-->
                    <div
                        #footer
                        class="bottomSumNav"
                        style="height: 25px; margin-top: 10px"
                    >
                        <div class="dateSelect filterRow">
                            <div style="display: block; flex: none">
                                <app-match-date-range-selector-accountants
                                        (sendEvent)="sendEvent($event)"></app-match-date-range-selector-accountants>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-container>
        </ng-container>
    </div>
    <!--&& (-->
    <!--!(fileStatus === 'BANK' && userService.appData?.userData?.accountSelect && !userService.appData?.userData?.accountSelect.length && userService.appData?.userData?.accounts?.length)-->
    <!--&&-->
    <!--!(fileStatus === 'CREDIT' && userService.appData?.userData?.creditCards && userService.appData?.userData?.creditCards.length && !(cardsSelector && cardsSelector.selectedCards && cardsSelector.selectedCards.length))-->
    <!--)-->
    <ng-container
            *ngIf="!(!userService?.appData?.userData?.companySelect
?.bankJournalItem &&!userService?.appData?.userData?.companySelect
?.creditJournalItem)
&&
    this.accountsBarData &&
    ((userService.appData?.userData?.accounts &&
      !userService.appData?.userData?.accounts?.length &&
      (fileStatus === 'BANK' || fileStatus === 'CREDIT')) ||
      (fileStatus === 'BANK_MATCH' &&
        (!accountsBarData.accountsBarDto ||
          (accountsBarData.accountsBarDto &&
            !accountsBarData.accountsBarDto.length)))) &&
            !(fileStatus === 'CREDIT' && userService?.appData?.userData?.companySelect?.creditJournalItem)
  "
    >
        <div
                class="journalTransDataBank"
                style="
      height: 50vh;
      display: flex;
      align-items: center;
      justify-content: center;
    "
        >
            <h1
                    style="
        color: #022258;
        font-size: 40px;
        font-weight: 700;
        padding-top: 20px;
        text-align: center;
      "
            >

                {{((fileStatus === 'BANK' && !userService?.appData?.userData?.companySelect?.bankJournalItem) ||
                (fileStatus === 'CREDIT' && !userService?.appData?.userData?.companySelect?.creditJournalItem) ||
                (!userService?.appData?.userData?.companySelect?.bankJournalItem &&
                    !userService?.appData?.userData?.companySelect?.creditJournalItem &&
                    fileStatus === 'CREATE_JOURNAL_TRANS')) ? 'בקרוב' : 'לא נמצאו חשבונות לחברה שנבחרה'}}

            </h1>
        </div>
    </ng-container>
    <ng-container
            *ngIf="
        showScreen &&
    this.accountsBarData &&
    fileStatus === 'CREDIT' &&
cardsSelector &&
cardsSelector.creditCardsSrc &&
!cardsSelector.creditCardsSrc.length &&
userService?.appData?.userData?.companySelect?.creditJournalItem
  "
    >
        <div
                class="journalTransDataBank"
                style="
      height: 50vh;
      display: flex;
      align-items: center;
      justify-content: center;
    "
        >
            <h1
                    style="
        color: #022258;
        font-size: 40px;
        font-weight: 700;
        padding-top: 20px;
        text-align: center;
      "
            >

                לא נמצאו כרטיסים לחברה שנבחרה
            </h1>
        </div>
    </ng-container>
    <ng-container
            *ngIf="
    showScreen === null &&
    (!userService.appData?.userData?.accounts ||
      userService.appData?.userData?.accounts?.length) &&
    fileStatus !== 'CREATE_JOURNAL_TRANS' &&
    fileStatus !== 'BANK_MATCH'
  "
    >
        <div class="journalTransDataBank" style="height: 80vh">
            <!--        <h1 style="color: #022258;font-size: 40px;font-weight: 700; padding-top: 20px;text-align: center;"-->
            <!--            *ngIf="fileStatus === 'BANK' && userService.appData?.userData?.accountSelect && !userService.appData?.userData?.accountSelect.length && userService.appData?.userData?.accounts?.length">-->
            <!--            יש לבחור חשבון-->
            <!--        </h1>-->
            <!--        <h1 style="color: #022258;font-size: 40px;font-weight: 700; padding-top: 20px;text-align: center;"-->
            <!--            *ngIf="fileStatus === 'CREDIT' && userService.appData?.userData?.creditCards && userService.appData?.userData?.creditCards.length && !(cardsSelector && cardsSelector.selectedCards && cardsSelector.selectedCards.length)">-->
            <!--            יש לבחור כרטיס-->
            <!--        </h1>-->
            <!--        <ng-container *ngIf="(-->
            <!--         (fileStatus === 'BANK' && !(userService.appData?.userData?.accountSelect && !userService.appData?.userData?.accountSelect.length && userService.appData?.userData?.accounts?.length))-->
            <!--        ||-->
            <!--        (fileStatus === 'CREDIT' && !(userService.appData?.userData?.creditCards && userService.appData?.userData?.creditCards.length && !(cardsSelector && cardsSelector.selectedCards && cardsSelector.selectedCards.length)))-->
            <!--        )">-->
            <!--      -->
            <!--        </ng-container>-->
            <div class="loader">
                <div class="circle"></div>
            </div>
        </div>
    </ng-container>
    <ng-container
            *ngIf="
		(!userService?.appData?.userData?.companySelect
?.bankJournalItem &&!userService?.appData?.userData?.companySelect
?.creditJournalItem) ||
   (showScreen === false &&
    fileStatus !== 'BANK_MATCH')
  "
    >
        <div
                class="journalTransDataBank"
                style="
      height: 50vh;
      display: flex;
      align-items: center;
      justify-content: center;
    "
        >
            <h1
                    style="
        color: #022258;
        font-size: 40px;
        font-weight: 700;
        padding-top: 20px;
        text-align: center;
      "
            >
                בקרוב
            </h1>
        </div>
    </ng-container>
</ng-container>


<ng-container *ngIf="showDocumentListStorageDataFired">
    <p-sidebar (onHide)="hideDocumentListStorageData()"
               [modal]="true"
               [position]="'left'"
               [styleClass]="'sidebar-show-imgs list-imgs'"
               [visible]="(
showDocumentListStorageDataFired
        )"
               appendTo="body"
    >
        <div class="zoom-controls-inside">
            <button (click)="imageScaleNewInvoice = 1" mat-icon-button>
                <mat-icon class="rotate-90">height</mat-icon>
            </button>
            <button
                    (click)="rotateInside(); $event.stopPropagation()"
                    mat-icon-button
            >
                <mat-icon style="width: 17px; height: 17px" svgIcon="rotate"></mat-icon>
            </button>
            <button
                    (click)="zoomStepInside(1, 'imageScaleNewInvoice')"
                    mat-icon-button
            >
                <mat-icon>add</mat-icon>
            </button>
            <button
                    (click)="zoomStepInside(-1, 'imageScaleNewInvoice')"
                    mat-icon-button
            >
                <mat-icon>remove</mat-icon>
            </button>
        </div>
        <div
                [ngStyle]="{ height: window['innerHeight'] - 10 + 'px' }"
                class="scrollbar-dynamic scroll-chrome"
                style="overflow: auto"
        >
            <div *ngIf="!sidebarImgs" class="loader">
                <div class="circle"></div>
            </div>
            <ng-container *ngIf="sidebarImgs">
                <ng-container *ngFor="let imgLink of sidebarImgs; index as i">
                    <ng-container *ngIf="!finishedLoadedImgView">
                        <div class="loader">
                            <div class="circle"></div>
                        </div>
                    </ng-container>
                    <div style="position: relative">
                        <div
                                *ngIf="showArchiveModal_TransId"
                                style="
                z-index: 99;
                left: 0;
                width: 100%;
                height: 45px;
                background: white;
                box-shadow: 0px 0px 10px 2px #cacaca;
                position: fixed;
                right: 0;
                text-align: center;
                color: #007ebf;
                font-size: 24px;
                top: 20px;
                line-height: 43px;

                display: flex;
                align-items: center;
                justify-content: space-around;
                padding: 0px 300px;
              "
                        >
                            <div
                                    (click)="
                  showArchiveModal = showArchiveModal_TransId;
                  hideDocumentListStorageData()
                "
                                    style="cursor: pointer"
                            >
                                לשינוי התמונה לחצו כאן
                            </div>
                            <ng-container> |</ng-container>

                            <div
                                    (click)="
                  imageLink(showArchiveModal_TransId);
                  hideDocumentListStorageData()
                "
                                    style="cursor: pointer"
                            >
                                למחיקת התמונה לחצו כאן
                            </div>
                        </div>
                        <img
                                (load)="finishedLoadedImgView = true"
                                (loadstart)="finishedLoadedImgView = false"
                                [hidden]="!finishedLoadedImgView"
                                [ngStyle]="{ transform: 'rotate(' + degRotateImg + 'deg)' }"
                                [src]="imgLink.contentUrl"
                                [style.zoom.%]="imageScaleNewInvoice * 100"
                                style="height: auto; width: 1100px; position: relative;display: block; margin: 0 auto"

                        />
                    </div>
                </ng-container>
            </ng-container>
        </div>
    </p-sidebar>
</ng-container>

<ng-container *ngIf="fileData">
    <p-sidebar #sideBarAn
               (onHide)="hideDocumentPaymentDetails()"
               [modal]="true"
               [position]="'left'"
               [styleClass]="'sidebar-show-imgs list-imgs'"
               [visible]="(
fileData
        )"
               appendTo="body"
    >
        <div
            #imgTopOrder
            style="
        position: relative;
        box-shadow: 0px 0px 2px 2px #cacaca;
        z-index: 99999999999;
      "
        >
            <div
                    [class.isMatah]="currencyId_journalTranses"
                    [class.not_bankProcessTransType]="!bankProcessTransType"
                    class="imgTopOrder editOrderModal"
                    style="width: auto; z-index: 99; left: 0; right: 0; top: 0"
            >
                <div
                        class="table"
                        style="margin: 0; border-bottom: 1px solid #cdcdcd; overflow: hidden"
                >
                    <div
                            *ngIf="fileData.transDetails"
                            class="header title"
                            style="background: white"
                    >
                        <div
                                style="
                display: flex;
                justify-content: space-between;
                font-weight: 400;
                color: #022258;
              "
                        >
              <span class="semiBold">
                {{
                  fileData.transDetails.fromTable === 'BANK_TRANS'
                      ? 'מהבנק -'
                      : 'מהאשראי -'
                  }}
              </span>
                            {{
                            fileData.transDetails[
                                fileData.transDetails.fromTable === 'BANK_TRANS'
                                    ? 'transDate'
                                    : 'nextCycleDate'
                                ] | date: 'dd/MM/yy'
                            }}
                        </div>
                        <div class="border" style="background: white"></div>
                        <div>
                            <div
                                #inputElement
                                [pTooltip]="fileData.transDetails.mainDesc"
                                [tooltipDisabled]="
                  inputElement.offsetWidth >= inputElement.scrollWidth
                "
                                class="text-ellipsis"
                                style="color: #022258; font-weight: 400"
                            >
                                {{ fileData.transDetails.mainDesc }}
                            </div>
                        </div>
                        <div class="border" style="background: white"></div>
                        <div>
                            <div style="display: flex; justify-content: space-between">
                                <div style="width: 170px; overflow: hidden;">
                                    <div
                                        #inputElement
                                        [pTooltip]="fileData.transDetails.paymentDescTranslate"
                                        [tooltipDisabled]="
                      inputElement.offsetWidth >= inputElement.scrollWidth
                    "
                                        class="text-ellipsis"
                                        style="color: #022258; font-weight: 400"
                                    >
                                        {{ fileData.transDetails.paymentDescTranslate }}
                                    </div>
                                </div>
                                <div
                                        style="align-self: stretch; width: 11px; height: auto"
                                ></div>
                                <div style="width: 83px">
                                    <div
                                            *ngIf="fileData.transDetails.fromTable === 'BANK_TRANS'"
                                            style="color: #022258; font-weight: 400"
                                    >
                                        {{ fileData.transDetails.asmachta }}
                                    </div>
                                    <div
                                            *ngIf="fileData.transDetails.fromTable !== 'BANK_TRANS'"
                                            [class.sum-credit]="!fileData.transDetails.hova"
                                            [class.sum-debit]="fileData.transDetails.hova"
                                            style="font-weight: 400"
                                    >
                                        <app-sum-view
                                                [sum]="fileData.transDetails.originalTotal"
                                        ></app-sum-view>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="border" style="background: white"></div>
                        <div>
                            <div
                                    [class.sum-credit]="!fileData.transDetails.hova"
                                    [class.sum-debit]="fileData.transDetails.hova"
                                    style="font-weight: 400"
                            >
                                <app-sum-view
                                        [sum]="
                    fileData.transDetails.fromTable === 'BANK_TRANS'
                      ? fileData.transDetails.total
                      : fileData.transDetails.transTotal
                  "
                                ></app-sum-view>
                            </div>
                        </div>
                        <div class="border" style="background: white"></div>
                        <div>
                            <div style="display: flex; justify-content: space-between">
                                <div style="width: 170px;overflow: hidden;">
                                    <div
                                        #inputElement
                                        [pTooltip]="
                      fileData.transDetails.custId
                        ? fileData.transDetails.custId.cartisName
                        : ''
                    "
                                        [tooltipDisabled]="
                      inputElement.offsetWidth >= inputElement.scrollWidth
                    "
                                        class="text-ellipsis"
                                        style="color: #022258; font-weight: 400"
                                    >
                                        {{
                                        fileData.transDetails.custId
                                            ? fileData.transDetails.custId.cartisName
                                            : ''
                                        }}
                                    </div>
                                </div>
                                <div
                                        style="align-self: stretch; width: 11px; height: auto"
                                ></div>
                                <div style="width: 83px">
                                    <div style="text-align: left">
                                        <img
                                                *ngIf="
                        fileData.transDetails.status === 'CUSTOMER_IGNORE' ||
                        fileData.transDetails.status === 'COMPANY_IGNORE' ||
                        fileData.transDetails.status === 'BIZIBOX_MATCH_IGNORE' ||
                        fileData.transDetails.status === 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans'
                      "
                                                [pTooltip]="
                        fileData.transDetails.status === 'CUSTOMER_IGNORE' ||
                        fileData.transDetails.status === 'COMPANY_IGNORE' || fileData.transDetails.nonMatchedTrans
                          ? fileData.transDetails.status_desc
                          : 'לא לטיפול מהתאמה בביזיבוקס'
                      "
                                                src="/assets/images/CUSTOMER_IGNORE.png"
                                                style="vertical-align: middle; cursor: pointer"
                                                tooltipPosition="top"
                                        />

                                        <mat-icon
                                                *ngIf="
                        fileData.transDetails.status !== 'EMPTY' &&
                        fileData.transDetails.status !== 'CUSTOMER_IGNORE' &&
                        fileData.transDetails.status !== 'COMPANY_IGNORE' &&
                        fileData.transDetails.status !== 'BIZIBOX_MATCH_IGNORE'&&
                                                fileData.transDetails.status !== 'BIZIBOX_MATCH_IGNORE_nonMatchedTrans' &&
                      fileData.transDetails.status !== 'COMPANY_IGNORE'
                      "
                                                [ngStyle]="{
                        color:
                          fileData.transDetails.status === 'ADD_ITEM_IGNORE' ||
                          fileData.transDetails.status === 'HASH_MATCH_IGNORE'
                            ? '#4f4e4e'
                            : fileData.transDetails.status === 'DONE' ||
                              fileData.transDetails.status === 'RECHECK'
                            ? '#022258'
                            : '#a5a3a3',
                        width:
                          fileData.transDetails.status === 'ADD_ITEM_IGNORE' ||
                          fileData.transDetails.status === 'HASH_MATCH_IGNORE'
                            ? '14px'
                            : '17px'
                      }"
                                                [pTooltip]="
                        fileData.transDetails.status === 'HASH_MATCH_IGNORE'
                          ? 'לא לטיפול מהתאמה בחשבשבת'
                          : fileData.transDetails.status_desc
                      "
                                                [svgIcon]="
                        fileData.transDetails.status === 'TEMP_COMMAND'
                          ? 'check-solid'
                          : fileData.transDetails.status === 'PERMANENT_COMMAND'
                          ? 'check-double-solid'
                          : fileData.transDetails.status === 'RECHECK'
                          ? 'RECHECK'
                          : fileData.transDetails.status ===
                              'ADD_ITEM_IGNORE' ||
                            fileData.transDetails.status === 'HASH_MATCH_IGNORE'
                          ? 'close'
                          : 'tick'
                      "
                                                style="
                        width: 100%;
                        height: 100%;
                        vertical-align: middle;
                        cursor: pointer;
                      "
                                                tooltipPosition="top"
                                        >
                                        </mat-icon>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <ng-container
                            *ngIf="
              fileData &&
              fileData.journalTranses &&
              isArray(fileData.journalTranses.rows) &&
              fileData.journalTranses.rows.length
            "
                    >
                        <div class="header">
                            <div>תאריך</div>
                            <div class="border"></div>

                            <ng-container *ngIf="bankProcessTransType">
                                <div>ס.תנועה</div>
                                <div class="border"></div>
                            </ng-container>

                            <div>חובה</div>
                            <div class="border"></div>
                            <div>זכות</div>
                            <ng-container *ngIf="currencyId_journalTranses">
                                <div class="border"></div>
                                <div>
                                    (₪)
                                </div>
                                <div>
                                    (₪)
                                </div>
                                <div class="border"></div>
                                <div>
                                    ({{currencyId_journalTranses.sign}})
                                </div>
                                <div>
                                    ({{currencyId_journalTranses.sign}})
                                </div>
                            </ng-container>
                            <div class="border"></div>
                            <div>פרטים נוספים</div>
                        </div>

                        <div style="position: relative">
                            <p-scrollPanel [style]="{width: '100%',
                                height:
                  fileData.journalTranses.rows.length === 1
                    ? '80px'
                    : fileData.journalTranses.rows.length === 2
                    ? '160px' :
                     '240px' }" styleClass="customScrollPanel">
                                <ng-template #loaders>
                                    <div style="height: 125px">
                                        <div class="loaderPercent">
                                            <div class="circle"></div>
                                        </div>
                                    </div>
                                </ng-template>
                                <ng-container
                                        *ngIf="fileData.journalTranses.rows; else loaders"
                                >
                                    <div
                                            *ngFor="
                        let item of fileData.journalTranses.rows;
                        let i = index
                      "
                                            class="row"
                                    >
                                        <div>
                                            <div
                                                    (click)="item.opened = !item.opened"
                                                    class="date flex"
                                                    style="
                            margin-bottom: 10px;
                            justify-content: space-between;
                          "
                                            >
                                                <img
                                                        *ngIf="
                              item.dateValue ||
                              (item.thirdDate && item.thirdDateOpen)
                            "
                                                        [src]="
                              item.opened
                                ? '/assets/images/stateOpen.png'
                                : '/assets/images/stateClose.png'
                            "
                                                        height="7"
                                                        style="
                              width: 11px;
                              height: 7px;
                              vertical-align: middle;
                              cursor: pointer;
                              margin-left: 1px;
                            "
                                                        width="11"
                                                />
                                                <p>תאריך</p>

                                                <div>
                                                    {{ item.invoiceDate | date: 'dd/MM/yy' }}
                                                </div>
                                            </div>
                                            <div
                                                    *ngIf="item.opened && item.dateValue"
                                                    class="date flex"
                                                    style="
                            margin-bottom: 10px;
                            justify-content: space-between;
                          "
                                            >
                                                <p>תאריך ערך</p>

                                                <div>
                                                    {{ item.dateValue | date: 'dd/MM/yy' }}
                                                </div>
                                            </div>
                                            <div
                                                    *ngIf="
                            item.thirdDateOpen && item.opened && item.thirdDate
                          "
                                                    class="date flex"
                                                    style="
                            margin-bottom: 10px;
                            justify-content: space-between;
                          "
                                            >
                                                <p>תאריך נוסף</p>

                                                <div>
                                                    {{ item.thirdDate | date: 'dd/MM/yy' }}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="border"></div>

                                        <ng-container *ngIf="bankProcessTransType">
                                            <div>
                                                <!--                                        <ng-container  *ngIf="bankProcessTransType">-->
                                                <!--                                            -->
                                                <!--                                        </ng-container>-->
                                                <div *ngIf="item.transTypeCode; else empty">
                                                    {{ item.transTypeCode }}
                                                </div>
                                            </div>
                                            <div class="border"></div>
                                        </ng-container>

                                        <ng-container
                                                *ngTemplateOutlet="
                          fileData.item.hova ? expenseTemp : incomeTemp
                        "
                                        >
                                        </ng-container>
                                        <div class="border"></div>
                                        <ng-container
                                                *ngTemplateOutlet="
                          fileData.item.hova ? incomeTemp : expenseTemp
                        "
                                        >
                                        </ng-container>

                                        <ng-container *ngIf="currencyId_journalTranses">
                                            <div class="border"></div>
                                            <ng-container
                                                    *ngTemplateOutlet="fileData.item.hova ? expenseTempSums: incomeTempSums">

                                            </ng-container>
                                            <ng-container
                                                    *ngTemplateOutlet="fileData.item.hova ? incomeTempSums : expenseTempSums">

                                            </ng-container>

                                            <div class="border"></div>
                                            <ng-container
                                                    *ngTemplateOutlet="fileData.item.hova ? expenseMatahTemp: incomeMatahTemp">

                                            </ng-container>
                                            <ng-container
                                                    *ngTemplateOutlet="fileData.item.hova ? incomeMatahTemp : expenseMatahTemp">

                                            </ng-container>
                                        </ng-container>

                                        <div class="border"></div>
                                        <div style="position: relative">
                                            <div
                                                    (click)="item.openedAsm = !item.openedAsm"
                                                    class="flex"
                                                    style="margin-bottom: 10px"
                                            >
                                                <img
                                                        *ngIf="item.asmachta2 || item.asmachta3"
                                                        [src]="
                              item.openedAsm
                                ? '/assets/images/stateOpen.png'
                                : '/assets/images/stateClose.png'
                            "
                                                        height="7"
                                                        style="
                              width: 11px;
                              height: 7px;
                              vertical-align: middle;
                              cursor: pointer;
                              margin-right: -16px;
                              margin-left: 4px;
                            "
                                                        width="11"
                                                />
                                                <p style="width: 64px">אסמכתא</p>
                                                <div style="width: 65px; margin-left: 20px">
                                                    {{ item.asmachta }}
                                                </div>
                                            </div>
                                            <div
                                                    *ngIf="item.asmachta2 && item.openedAsm"
                                                    class="flex"
                                                    style="margin-bottom: 10px"
                                            >
                                                <p style="width: 64px">אסמכ. 2</p>
                                                <div style="width: 65px; margin-left: 20px">
                                                    {{ item.asmachta2 }}
                                                </div>
                                            </div>
                                            <div
                                                    *ngIf="item.asmachta3 && item.openedAsm"
                                                    class="flex"
                                                    style="margin-bottom: 10px"
                                            >
                                                <p style="width: 64px">אסמכ. 3</p>
                                                <div style="width: 65px; margin-left: 20px">
                                                    {{ item.asmachta3 }}
                                                </div>
                                            </div>
                                            <div class="flex">
                                                <p style="width: 64px">פרטים</p>
                                                <div
                                                    #inputElement
                                                    [pTooltip]="item.details"
                                                    [tooltipDisabled]="
                              inputElement.offsetWidth >=
                              inputElement.scrollWidth
                            "
                                                    class="text-ellipsis"
                                                    style="max-width: 200px"
                                                    tooltipPosition="top"
                                                >
                                                    {{ item.details }}
                                                </div>
                                            </div>
                                        </div>

                                        <ng-template #expenseTemp>
                                            <div>
                                                <div
                                                        class="flex"
                                                        style="
                              margin-bottom: 10px;
                              justify-content: space-between;
                            "
                                                >
                                                    <div
                                                            [ngStyle]="{
                                width: isMatah ? '170px' : '170px',
                                'min-width': isMatah ? '170px' : '170px'
                              }"
                                                    >
                                                        <div
                                                            #inputElement
                                                            [pTooltip]="
                                  item.paymentCustId
                                    ? item.paymentCustId.cartisName
                                    : ''
                                "
                                                            [tooltipDisabled]="
                                  inputElement.offsetWidth >=
                                  inputElement.scrollWidth
                                "
                                                            class="text-ellipsis"
                                                            tooltipPosition="top"
                                                        >
                                                            <p *ngIf="item.paymentCustId; else empty">
                                                                {{
                                                                item.paymentCustId
                                                                    ? item.paymentCustId.cartisName
                                                                    : ''
                                                                }}
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div
                                                            *ngIf="!currencyId_journalTranses"
                                                            style="
                                align-self: stretch;
                                width: 11px;
                                height: auto;
                              "
                                                    ></div>
                                                    <div
                                                            *ngIf="!currencyId_journalTranses"
                                                            class="input disabled"
                                                            style="width: 83px"
                                                    >
                                                        <app-sum-view
                                                                *ngIf="item.paymentTotal"
                                                                [sum]="item.paymentTotal"
                                                                class="text-item text-ellipsis"
                                                        ></app-sum-view>

                                                        <p
                                                                *ngIf="!item.paymentTotal"
                                                                class="text-item text-ellipsis"
                                                        >
                                                            0
                                                        </p>
                                                    </div>
                                                </div>

                                            </div>
                                        </ng-template>

                                        <ng-template #incomeTemp>
                                            <div>
                                                <div
                                                        class="flex"
                                                        style="
                              margin-bottom: 10px;
                              justify-content: space-between;
                            "
                                                >
                                                    <div
                                                            [ngStyle]="{
                                width: isMatah ? '170px' : '170px',
                                'min-width': isMatah ? '170px' : '170px'
                              }"
                                                    >
                                                        <div
                                                            #inputElement
                                                            [pTooltip]="
                                  item.custId ? item.custId.cartisName : ''
                                "
                                                            [tooltipDisabled]="
                                  inputElement.offsetWidth >=
                                  inputElement.scrollWidth
                                "
                                                            class="text-ellipsis"
                                                            tooltipPosition="top"
                                                        >
                                                            <p *ngIf="item.custId; else empty">
                                                                {{
                                                                item.custId ? item.custId.cartisName : ''
                                                                }}
                                                            </p>
                                                        </div>
                                                    </div>

                                                    <div
                                                            *ngIf="!currencyId_journalTranses"
                                                            style="
                                align-self: stretch;
                                width: 11px;
                                height: auto;
                              "
                                                    ></div>
                                                    <div
                                                            *ngIf="!currencyId_journalTranses"
                                                            class="input disabled"
                                                            style="width: 83px"
                                                    >
                                                        <app-sum-view
                                                                *ngIf="item.total"
                                                                [sum]="item.total"
                                                                class="text-item text-ellipsis"
                                                        ></app-sum-view>

                                                        <p
                                                                *ngIf="!item.total"
                                                                class="text-item text-ellipsis"
                                                        >
                                                            0
                                                        </p>
                                                    </div>
                                                </div>
                                                <div
                                                        *ngIf="item.taxDeductionCustId !== null && item.paymentNikui !== null && item.showTaxDeduction"
                                                        class="flex"
                                                        style="justify-content: space-between"
                                                >
                                                    <div
                                                            [ngStyle]="{
                                width: isMatah ? '170px' : '170px',
                                'min-width': isMatah ? '170px' : '170px'
                              }"
                                                    >
                                                        <div
                                                            #inputElement
                                                            [pTooltip]="
                                  item.taxDeductionCustId
                                    ? item.taxDeductionCustId.cartisName
                                    : ''
                                "
                                                            [tooltipDisabled]="
                                  inputElement.offsetWidth >=
                                  inputElement.scrollWidth
                                "
                                                            class="text-ellipsis"
                                                            tooltipPosition="top"
                                                        >
                                                            <p *ngIf="item.taxDeductionCustId; else empty">
                                                                {{
                                                                item.taxDeductionCustId
                                                                    ? item.taxDeductionCustId.cartisName
                                                                    : ''
                                                                }}
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div
                                                            *ngIf="!currencyId_journalTranses"
                                                            style="
                                align-self: stretch;
                                width: 11px;
                                height: auto;
                              "
                                                    ></div>
                                                    <div
                                                            *ngIf="!currencyId_journalTranses"
                                                            class="input disabled"
                                                            style="width: 83px"
                                                    >
                                                        <app-sum-view
                                                                *ngIf="item.paymentNikui"
                                                                [sum]="item.paymentNikui"
                                                                class="text-item text-ellipsis"
                                                        ></app-sum-view>

                                                        <p
                                                                *ngIf="!item.paymentNikui"
                                                                class="text-item text-ellipsis"
                                                        >
                                                            0
                                                        </p>
                                                    </div>
                                                </div>

                                            </div>
                                        </ng-template>

                                        <ng-template #expenseTempSums>
                                            <div>
                                                <div>
                                                    <div class="input disabled" style="width: 83px;">
                                                        <app-sum-view *ngIf="item.paymentTotal"
                                                                      [sum]="item.paymentTotal"
                                                                      class="text-item text-ellipsis"></app-sum-view>

                                                        <p *ngIf="!item.paymentTotal"
                                                           class="text-item text-ellipsis">
                                                            0
                                                        </p>
                                                    </div>
                                                </div>

                                            </div>
                                        </ng-template>
                                        <ng-template #incomeTempSums>
                                            <div>
                                                <div>
                                                    <div class="input disabled"
                                                         style="width: 83px;">
                                                        <app-sum-view *ngIf="item.total"
                                                                      [sum]="item.total"
                                                                      class="text-item text-ellipsis"></app-sum-view>

                                                        <p *ngIf="!item.total"
                                                           class="text-item text-ellipsis">
                                                            0
                                                        </p>
                                                    </div>
                                                </div>
                                                <div *ngIf="item.taxDeductionCustId !== null && item.paymentNikui !== null && item.showTaxDeduction">
                                                    <div class="input disabled" style="width: 83px;">
                                                        <app-sum-view *ngIf="item.paymentNikui"
                                                                      [sum]="item.paymentNikui"
                                                                      class="text-item text-ellipsis"></app-sum-view>

                                                        <p *ngIf="!item.paymentNikui"
                                                           class="text-item text-ellipsis">
                                                            0
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-template>

                                        <ng-template #expenseMatahTemp>
                                            <div style="position: relative; align-self: stretch;">
                                                <div>
                                                    <div>
                                                        <div class="input disabled" style="width: 83px;">
                                                            <app-sum-view *ngIf="item.paymentTotalMatah"
                                                                          [sum]="item.paymentTotalMatah"
                                                                          class="text-item text-ellipsis"></app-sum-view>

                                                            <p *ngIf="!item.paymentTotalMatah"
                                                               class="text-item text-ellipsis">
                                                                0
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>


                                                <!--                                                <i-->
                                                <!--                                                   [matTooltip]="'לפי שער יציג של ' + currencyRate_journalTranses + ' ₪'"-->
                                                <!--                                                   class="fas fa-globe"-->
                                                <!--                                                   matTooltipPosition="below"-->
                                                <!--                                                   style="-->
                                                <!--                                            position: absolute;-->
                                                <!--                                            bottom: 5px;-->
                                                <!--                                            left: 0px;-->
                                                <!--                                            cursor: pointer;-->
                                                <!--                                        "></i>-->
                                            </div>
                                        </ng-template>
                                        <ng-template #incomeMatahTemp>
                                            <div>
                                                <div style="position: relative; align-self: stretch;">
                                                    <div class="input disabled"
                                                         style="width: 83px;">
                                                        <app-sum-view *ngIf="item.totalMatah"
                                                                      [sum]="item.totalMatah"
                                                                      class="text-item text-ellipsis"></app-sum-view>

                                                        <p *ngIf="!item.totalMatah"
                                                           class="text-item text-ellipsis">
                                                            0
                                                        </p>
                                                    </div>
                                                    <i *ngIf="currencyRate_journalTranses"
                                                       [matTooltip]="'לפי שער יציג של ' + currencyRate_journalTranses + ' ₪'"
                                                       class="fas fa-globe"
                                                       matTooltipPosition="below"
                                                       style="
                                            position: absolute;
                                            bottom: 5px;
                                            left: 0px;
                                            cursor: pointer;
                                        "></i>
                                                </div>

                                                <div *ngIf="item.taxDeductionCustId !== null && item.paymentNikuiMatah !== null && item.showTaxDeduction">
                                                    <div class="input disabled" style="width: 83px;">
                                                        <app-sum-view *ngIf="item.paymentNikuiMatah"
                                                                      [sum]="item.paymentNikuiMatah"
                                                                      class="text-item text-ellipsis"></app-sum-view>

                                                        <p *ngIf="!item.paymentNikuiMatah"
                                                           class="text-item text-ellipsis">
                                                            0
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-template>
                                        <ng-template #empty>
                                            <div>&nbsp;</div>
                                        </ng-template>
                                    </div>
                                </ng-container>
                            </p-scrollPanel>
                        </div>

                    </ng-container>
                </div>
            </div>

            <div
                    *ngIf="fileData && fileData.transDetails"
                    style="
          z-index: 99;
          left: 0;
          width: 100%;
          height: 45px;
          background: white;
          box-shadow: unset;

          right: 0;
          text-align: center;
          color: #007ebf;
          font-size: 24px;
          line-height: 43px;

          display: flex;
          align-items: center;
          justify-content: space-around;
          padding: 0px 300px;

        "
            >
                <ng-container
                        *ngIf="
            fileData &&
            fileData.fileIdLink &&
            fileData.fileIdLink[fileData.fileId] &&
            isArray(fileData.fileIdLink[fileData.fileId])
          "
                >
                    <div
                            (click)="
              showArchiveModal = {
                paymentType: this.fileData.item.paymentType,
                paymentId: this.fileData.item.paymentId
              };
              hideDocumentPaymentDetails()
            "
                            style="cursor: pointer"
                    >
                        לשינוי התמונה לחצו כאן
                    </div>
                    <ng-container> |</ng-container>
                    <div
                            (click)="imageLinkPaymentDetails(); hideDocumentPaymentDetails()"
                            style="cursor: pointer"
                    >
                        למחיקת התמונה לחצו כאן
                    </div>
                </ng-container>
                <ng-container *ngIf="fileData && !fileData.fileIdLink">
                    <div
                            (click)="
              showArchiveModal = {
                paymentType: this.fileData.item.paymentType,
                paymentId: this.fileData.item.paymentId
              };
              hideDocumentPaymentDetails()
            "
                            style="cursor: pointer"
                    >
                        לקישור תמונת חשבונית לחצו כאן
                    </div>
                </ng-container>
            </div>

            <div
                    *ngIf="
          fileData &&
          ((fileData.loanDetails && fileData.loanDetails.length) ||
            (fileData.bankTransferDetails &&
              fileData.bankTransferDetails.length) ||
            (fileData.checkDetails && fileData.checkDetails.length))
        "
                    style="
          overflow: hidden;
          display: flex;
          justify-content: flex-end;
          height: 30px;
          align-items: center;
          padding: 10px 22px 0px 22px;
          background: white;
        "
            >
                <img
                        (click)="printAdditionalPaymentDetails()"
                        class="button-link"
                        height="19"
                        src="/assets/images/printIcon.png"
                        style="height: 19px !important; width: 19px !important; padding: 0"
                        width="19"
                />
            </div>

            <div class="wrapDataToPrint">
                <ng-container *ngIf="fileData && fileData.loanDetails">
                    <div *ngIf="fileData.loanDetails.length" class="fileData_loanDetails">
                        <ng-container *ngIf="fileData.loanDetails[0] as selectedItem">
                            <div>
                                <div>
                                    <div>
                                        <div>מס’ חשבון</div>
                                        <div>
                                            <ng-container
                                                    *ngIf="
                          selectedItem.companyAccountId
                            | asBankAccount as itemAcc
                        "
                                            >
                                                <!--{{(('banks.' + itemAcc.bankId)| translate) + ' '}}-->
                                                <app-bank-view
                                                        [bankNumber]="itemAcc.bankId"
                                                ></app-bank-view>
                                            </ng-container>
                                            {{ selectedItem.bankAccountId }}
                                        </div>
                                    </div>
                                    <div>
                                        <div>תאריך התחלה</div>
                                        <div>
                                            {{ selectedItem.loanDate | date: 'dd/MM/yy' }}
                                        </div>
                                    </div>
                                    <div>
                                        <div>תאריך סיום</div>
                                        <div>
                                            {{ selectedItem.loanFinish | date: 'dd/MM/yy' }}
                                        </div>
                                    </div>
                                    <div>
                                        <div>ריבית שנתית</div>
                                        <div>{{ selectedItem.loanIntrest }}%</div>
                                    </div>
                                </div>
                                <div>
                                    <div
                                            *ngIf="selectedItem.loanPayments !== null"
                                            class="pieContainer"
                                    >
                                        <div class="forceLTR" id="numnersCenter">
                                            <!--<div id="numnersCenter" *ngIf="showItemPop.paymentsNumberLeft || showItemPop.loanPayments">-->
                                            {{
                                            selectedItem.paymentsNumberLeft === null
                                                ? 0
                                                : selectedItem.loanPayments -
                                                selectedItem.paymentsNumberLeft
                                            }}
                                            /{{
                                            selectedItem.loanPayments === null
                                                ? 0
                                                : selectedItem.loanPayments
                                            }}
                                        </div>
                                        <div class="pieBackground"></div>
                                        <div class="pieInside"></div>
                                        <div
                                                *ngFor="let slice of selectedItem.arrSlices; index as i"
                                                [class.active]="slice"
                                                class="hold"
                                                id="pieSliceBlue{{ i + 1 }}"
                                        >
                                            <div class="pie"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <div>
                                    <div>סכום הלוואה</div>
                                    <div>
                                        {{ selectedItem.loanOriginalTotal | sum: true }}
                                    </div>
                                    <div>יתרה לסיום</div>
                                    <div>
                                        {{ selectedItem.loanTotalLeft | sum: true }}
                                    </div>
                                </div>
                                <div>
                                    <div>תשלומים</div>
                                    <div>
                                        {{ selectedItem.loanPayments }}
                                    </div>
                                    <div>תשלומים שנותרו</div>
                                    <div>
                                        {{ selectedItem.paymentsNumberLeft }}
                                    </div>
                                </div>
                                <div>
                                    <div>תאריך התשלום הבא</div>
                                    <div>
                                        {{ selectedItem.loanNextPaymentDate | date: 'dd/MM/yy' }}
                                    </div>
                                    <div>סכום התשלום הבא</div>
                                    <div>
                                        {{ selectedItem.nextPaymentTotal | sum: true }}
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </ng-container>

                <ng-container
                        *ngIf="
            fileData &&
            fileData.bankTransferDetails &&
            fileData.bankTransferDetails.length
          "
                >
                    <div
                            *ngIf="!(fileData.bankTransferDetails?.length > 0)"
                            class="no-rows-found"
                    >
                        {{ 'expressions.noDetailsForTransfer' | translate }}
                    </div>

                    <div
                            class="additional-details-container"
                            style="
              width: 100%;
              height: auto;
              position: relative;
              margin-top: 0;
              border-radius: 0;
              background: white;
              border: none;
              box-shadow: none;
            "
                    >
                        <div
                                *ngIf="fileData.bankTransferDetails.length > 1"
                                class="additional-details-transfer"
                        >
                            <div class="header-container">
                                <div class="header-row">
                                    <div class="cell-1 text-ellipsis">
                                        {{ 'titles.beneficiaryName' | translate }}
                                    </div>
                                    <div class="cell-2">{{ 'titles.bank' | translate }}</div>
                                    <div class="cell-3">{{ 'titles.branch' | translate }}</div>
                                    <div class="cell-4">
                                        {{ 'titles.accountNumber' | translate }}
                                    </div>
                                    <div class="cell-7">{{ 'titles.sum' | translate }}</div>
                                    <div class="cell-isCustIdCards">כרטיס נגדי</div>
                                    <div class="cell-8"></div>
                                </div>
                            </div>
                            <div
                                    *ngIf="
                  transTypesService.selectedCompanyTransTypes
                    | async as categories
                "
                                    [appScrollHeight]="234"
                                    appendTo="parent"
                                    class="scroll-chrome"
                            >
                                <div
                                        *ngFor="let adtnlRow of fileData.bankTransferDetails"
                                        class="body-row"
                                >
                                    <div class="cell-1 text-ellipsis">
                                        {{ adtnlRow.namepayertransfer }}
                                    </div>
                                    <div class="cell-2 text-ellipsis">
                                        <app-bank-view
                                                [bankNumber]="adtnlRow.banktransfernumber"
                                                [showName]="true"
                                                style="
                        align-self: center;
                        flex: 0 0 auto;
                        -ms-flex: 0 0 auto;
                      "
                                        ></app-bank-view>
                                    </div>
                                    <div class="cell-3">{{ adtnlRow.branchtransfernumber }}</div>
                                    <div class="cell-4">{{ adtnlRow.accounttransfernumber }}</div>
                                    <div class="cell-7 ltrNum">
                                        <app-sum-view [sum]="adtnlRow.transfertotal"></app-sum-view>
                                    </div>
                                    <div
                                            [pTooltip]="getCustName(adtnlRow['custId'])"
                                            class="cell-isCustIdCards btnDDArrow"
                                            tooltipPosition="top"
                                    >
                                        {{ adtnlRow['custId'] ? adtnlRow['custId'] : ' ' }}
                                    </div>
                                    <div class="cell-8">
                                        <ng-container
                                                *ngIf="adtnlRow['fileId'] === null; else fileId"
                                        >
                                            <mat-icon
                                                    style="
                          width: 14px;
                          vertical-align: middle;
                          color: #141414;
                          cursor: pointer;
                        "
                                                    svgIcon="doc"
                                            ></mat-icon>
                                        </ng-container>

                                        <ng-template #fileId>
                                            <ng-container
                                                    *ngIf="
                          (!adtnlRow.linkId ||
                            (adtnlRow.linkId &&
                              adtnlRow.linkId ===
                                '00000000-0000-0000-0000-000000000000')) &&
                          (!adtnlRow.pictureLink ||
                            (adtnlRow.pictureLink &&
                              adtnlRow.pictureLink ===
                                '00000000-0000-0000-0000-000000000000'))
                        "
                                            >
                                                <mat-icon
                                                        style="
                            width: 14px;
                            vertical-align: middle;
                            color: #41aae0;
                          "
                                                        svgIcon="doc"
                                                ></mat-icon>
                                            </ng-container>
                                        </ng-template>
                                    </div>
                                </div>
                            </div>
                            <div
                                    *ngIf="fileData.bankTransferDetails.length > 1"
                                    class="footer-container isCustIdCards"
                            >
                                <div>
                                    {{ 'sumsTitles.total' | translate }}
                                    {{ fileData.bankTransferDetails.length }}
                                    {{ 'expressions.transfers' | translate }}
                                </div>
                                <div class="ltrNum">
                                    <app-sum-view
                                            [sum]="transactionAdditionalDetailsSum"
                                    ></app-sum-view>
                                </div>
                            </div>
                        </div>

                        <div
                                *ngIf="fileData.bankTransferDetails.length === 1"
                                class="additional-details-transfer-one"
                        >
                            <div class="header">
                                {{ 'titles.transferDetails' | translate }}
                            </div>
                            <div class="body">
                                <div class="column">
                                    <div class="row">
                                        <div class="label">
                                            {{ 'titles.beneficiaryName' | translate }}
                                        </div>
                                        <div class="value">
                                            {{ fileData.bankTransferDetails[0].namepayertransfer }}
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="label">{{ 'titles.branch' | translate }}</div>
                                        <div class="value">
                                            {{
                                            fileData.bankTransferDetails[0].biziboxMutavId
                                                ? fileData.bankTransferDetails[0].branchtransfernumber
                                                : fileData.bankTransferDetails[0].branchnumber
                                            }}
                                        </div>
                                    </div>
                                    <div
                                            [class.sumToPrintFlex]="printWorker"
                                            class="row sumToPrint"
                                    >
                                        <div class="label">{{ 'titles.sum' | translate }}</div>
                                        <div class="value">
                                            <app-sum-view
                                                    [isABS]="true"
                                                    [sum]="fileData.bankTransferDetails[0].transfertotal"
                                            ></app-sum-view>

                                            {{ rowToSplit.hova ? 'בחובה' : 'בזכות' }}
                                        </div>
                                    </div>
                                </div>
                                <div class="column">
                                    <div class="row">
                                        <div class="label">{{ 'titles.bank' | translate }}</div>
                                        <div class="value">
                                            <app-bank-view
                                                    [bankNumber]="
                          fileData.bankTransferDetails[0].biziboxMutavId
                            ? fileData.bankTransferDetails[0].banktransfernumber
                            : fileData.bankTransferDetails[0].banknumber
                        "
                                                    [showName]="true"
                                                    style="
                          align-self: center;
                          flex: 0 0 auto;
                          -ms-flex: 0 0 auto;
                        "
                                            ></app-bank-view>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="label">
                                            {{ 'titles.accountFull' | translate }}
                                        </div>
                                        <div class="value">
                                            {{
                                            fileData.bankTransferDetails[0].biziboxMutavId
                                                ? fileData.bankTransferDetails[0]
                                                    .accounttransfernumber
                                                : fileData.bankTransferDetails[0].accountnumber
                                            }}
                                        </div>
                                    </div>
                                </div>
                                <div class="column" style="flex: 2 0 100%; -ms-flex: 2 0 100%">
                                    <div
                                            *ngIf="
                      fileData.bankTransferDetails[0].detailsContentType ===
                        'html' ||
                        fileData.bankTransferDetails[0].detailstransfer
                          ?.length > 200;
                      else notInlinedValue
                    "
                                    >
                                        <div class="label">
                                            {{ 'titles.transferEssence' | translate }}
                                        </div>
                                        <div class="value forceLTR html-inlined">
                                            <div
                                                    [appScrollbar]="true"
                                                    [innerHtml]="
                          fileData.bankTransferDetails[0].detailstransfer
                        "
                                                    class="scrollbar-dynamic forceLTR"
                                                    style="
                          height: 250px;
                          overflow: auto;
                          background-color: white;
                          text-align: left;
                        "
                                            ></div>
                                        </div>
                                    </div>
                                    <ng-template #notInlinedValue>
                                        <div
                                                [ngStyle]="
                        fileData.bankTransferDetails[0].detailsContentType && {
                          'border-bottom-color': 'transparent'
                        }
                      "
                                                class="row"
                                        >
                                            <div class="label">
                                                {{ 'titles.note' | translate }}
                                            </div>
                                            <ng-container
                                                    *ngIf="
                          fileData.bankTransferDetails[0].detailsContentType;
                          else plainDetailsValue
                        "
                                            >
                                                <div
                                                        *ngIf="
                            fileData.bankTransferDetails[0]
                              .detailsContentType === 'json'
                          "
                                                        class="value"
                                                >
                                                    <div
                                                            [appScrollbar]="true"
                                                            class="scrollbar-dynamic"
                                                            style="
                              height: 270px;
                              overflow: auto;
                              background-color: white;
                            "
                                                    >
                                                        <div
                                                                *ngFor="
                                let item of fileData.bankTransferDetails[0]
                                  .detailstransfer
                              "
                                                                class="row"
                                                        >
                                                            <div class="label">{{ item.key }}</div>
                                                            <div class="value">{{ item.value }}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <ng-template #plainDetailsValue>
                                                <div class="value">
                                                    {{ fileData.bankTransferDetails[0].detailstransfer }}
                                                </div>
                                            </ng-template>
                                        </div>
                                    </ng-template>
                                </div>
                            </div>
                        </div>
                    </div>
                </ng-container>

                <ng-container
                        *ngIf="
            fileData && fileData.checkDetails && fileData.checkDetails.length
          "
                >
                    <ng-container
                            *ngFor="
              let img of fileData.checkDetails;
              index as i;
              last as isLast
            "
                    >
                        <div *ngIf="img.image" style="margin-top: 5px">
                            <img
                                    [src]="checkImageSourceFrom(img)"
                                    alt="{{ img.chequeBankNumber }}"
                                    style="height: auto; width: 100%; position: relative;display: block; margin: 0 auto"

                            />
                        </div>
                        <div
                                *ngIf="!img.image"
                                style="
                margin-top: 0px;
                width: 100%;
                height: 210px;
                position: relative;
                border-radius: 0;
                background: white;
                display: flex;
                align-items: center;
                justify-content: center;
              "
                        >
                            <div class="no-rows-found" style="padding-top: 0">
                                לא נמצאה סריקה עבור צ'ק זה
                            </div>
                        </div>
                    </ng-container>
                </ng-container>
            </div>
        </div>
        <div
                *ngIf="
        fileData &&
        fileData.fileIdLink &&
        fileData.fileIdLink[fileData.fileId] &&
        isArray(fileData.fileIdLink[fileData.fileId])
      "
                class="zoom-controls-inside"
        >
            <button (click)="imageScaleNewInvoice = 1" mat-icon-button>
                <mat-icon class="rotate-90">height</mat-icon>
            </button>
            <button
                    (click)="rotateInside(); $event.stopPropagation()"
                    mat-icon-button
            >
                <mat-icon style="width: 17px; height: 17px" svgIcon="rotate"></mat-icon>
            </button>
            <button
                    (click)="zoomStepInside(1, 'imageScaleNewInvoice')"
                    mat-icon-button
            >
                <mat-icon>add</mat-icon>
            </button>
            <button
                    (click)="zoomStepInside(-1, 'imageScaleNewInvoice')"
                    mat-icon-button
            >
                <mat-icon>remove</mat-icon>
            </button>
        </div>
        <div
                [ngStyle]="{
        height: window['innerHeight'] - imgTopOrder.clientHeight - 10 + 'px'
      }"
                class="scrollbar-dynamic scroll-chrome"
                style="overflow: auto"
        >
            <ng-container
                    *ngIf="
          fileData &&
          fileData.fileIdLink &&
          fileData.fileIdLink[fileData.fileId] &&
          isArray(fileData.fileIdLink[fileData.fileId])
        "
            >
                <ng-container
                        *ngFor="
            let imgLink of fileData.fileIdLink[fileData.fileId];
            index as i
          "
                >
                    <ng-container *ngIf="!imgLink.finishedLoadedImgView">
                        <div class="loader">
                            <div class="circle"></div>
                        </div>
                    </ng-container>
                    <img
                            (load)="imgLink.finishedLoadedImgView = true"
                            (loadstart)="imgLink.finishedLoadedImgView = false"
                            [hidden]="!imgLink.finishedLoadedImgView"
                            [ngStyle]="{ transform: 'rotate(' + degRotateImg + 'deg)' }"
                            [src]="imgLink.contentUrl"
                            [style.zoom.%]="imageScaleNewInvoice * 100"
                            style="height: auto; width: 1100px; position: relative;display: block; margin: 0 auto"

                    />
                </ng-container>
            </ng-container>
        </div>

        <div *ngIf="fileData && !fileData.transDetails" class="loader">
            <div class="circle"></div>
        </div>
    </p-sidebar>
</ng-container>

<ng-container *ngIf="custModal">
    <p-dialog (visibleChange)="custModal = false"
              [draggable]="false"
              [modal]="true"
              [resizable]="false"
              [visible]="(
custModal
        )"
              appendTo="body"
              styleClass="custmDialog"
    >
        <p-header>{{ 'שיוך כרטיס נגדי' }}</p-header>
        <app-cust-selector
                (selectedCustChange)="custModal = $event"
                (selectedCustSet)="selectCust(custModal, true)"
                [fileStatus]="fileStatus === 'BANK' ? 'account' : 'card'"
                [rowForMatchCust]="rowForMatchCust"
                [selectedCompany]="userService.appData?.userData?.companySelect"
                [showFloatNav]="showFloatNav"
                [zCompanyCustomerDetailsArr]="customerCustList">
        </app-cust-selector>
        <p-footer>
            <button (click)="custModal = false" class="button-link">
                {{ 'actions.cancellation' | translate }}
            </button>
            <button
                    (click)="selectCust(custModal, false, true)"
                    [disabled]="custModal === true"
                    class="button-dark"
            >
                {{ 'actions.approve' | translate }}
            </button>
        </p-footer>
    </p-dialog>
</ng-container>

<ng-container *ngIf="modalEditCardsBeforeSend">
    <p-dialog (onHide)="modalEditCardsBeforeSend = false"
              (visibleChange)="modalEditCardsBeforeSend = false"
              [modal]="true"
              [resizable]="false"
              [visible]="(
modalEditCardsBeforeSend
        )"
              appendTo="body"
              styleClass="modalEditCardsBeforeSend"
    >
        <p-header>
            <h1>
                {{ paramsForUpdateCust.custId === null ? 'הסרת ' : 'החלפת / שיוך ' }}
                כרטיס נגדי
            </h1>
        </p-header>

        <ng-container *ngIf="paramsForUpdateCust.custId !== null">
            <!--            <p style="text-align: right">-->
            <!--                <ng-container *ngIf="rowForMatchCust; else multiple">-->
            <!--                    התנועה שבחרת תשוייך לכרטיס נגדי-->
            <!--                    {{ custIdForMatch.lName }}-->
            <!--                    {{ custIdForMatch.custId || '' }}-->
            <!--                </ng-container>-->
            <!--                <ng-template #multiple>-->
            <!--          <span-->
            <!--                  (click)="tooltipAcc.toggle($event); $event.stopPropagation()"-->
            <!--                  class="link"-->
            <!--          >{{ showFloatNav.selcetedFiles.length }} התנועות</span>-->
            <!--                    <p-overlayPanel-->
            <!--                        #tooltipAcc-->
            <!--                        [hideTransitionOptions]="'0ms'"-->
            <!--                        [showTransitionOptions]="'0ms'"-->
            <!--                        [style]="{-->
            <!--																        'margin-left': '-50%',-->
            <!--              'margin-top': '0px',-->
            <!--               width: 'auto' }"-->
            <!--                        appendTo="body"-->
            <!--                        styleClass="tooltip-acc-list budget-tooltip-list dont-print tooltip-selcetedFiles-list"-->
            <!--                    >-->
            <!--            <ul class="scroll-chrome">-->
            <!--                <li *ngFor="let item of showFloatNav.selcetedFiles">-->
            <!--                    {{ item.mainDesc }}-->
            <!--                </li>-->
            <!--            </ul>-->
            <!--            </p-overlayPanel>-->
            <!--            שבחרת ישוייכו לכרטיס נגדי-->
            <!--            {{ custIdForMatch.lName }}-->
            <!--            {{ custIdForMatch.custId || '' }}-->
            <!--            </ng-template>-->
            <!--            עבור:-->
            <!--            </p>-->

            <ul style="margin-top: 5px;">
                <!--                'כל תנועות ה' +-->
                <!--                (fileStatus === 'BANK' ? 'בנק' : 'אשראי') +-->
                <!--                (rowForMatchCust &&-->
                <!--                (rowForMatchCust.paymentDesc === 'credit' ||-->
                <!--                rowForMatchCust.paymentDesc === 'Loans')-->
                <!--                ? ' העתידיות שלא נקלטו בקובץ'-->
                <!--                : ' שלא נקלטו בקובץ (עבר ועתיד)')-->
                <li>
                    <p-radioButton
                            [(ngModel)]="paramsForUpdateCust.updateAll"
                            [inputId]="'setFieldValueForFuture2'"
                            [label]="'שיוך לכל התנועות שלא נוצר להן קובץ (עבר ועתיד)'"
                            [value]="true"
                            name="changeOption"
                    ></p-radioButton>
                </li>
                <li>
                    <p-radioButton
                            [(ngModel)]="paramsForUpdateCust.updateAll"
                            [inputId]="'setFieldValueForFuture1'"
                            [label]="'שיוך לתנועה זו בלבד'"
                            [value]="false"
                            name="changeOption"
                    ></p-radioButton>
                </li>
            </ul>
        </ng-container>
        <ng-container *ngIf="paramsForUpdateCust.custId === null">
            <p style="text-align: right">
                <ng-container *ngIf="rowForMatchCust; else multiple">
                    לתנועה שבחרת יתבטל הכרטיס הנגדי המוגדר כעת
                    <br/>
                    "{{ modalEditCardsBeforeSend }}". הגדירו לנו מה לעשות -
                </ng-container>
                <ng-template #multiple>
                    ל
                    <span
                            (click)="tooltipAcc.toggle($event); $event.stopPropagation()"
                            class="link"
                    >{{ showFloatNav.selcetedFiles.length }} התנועות</span
                    >
                    <p-overlayPanel
                        #tooltipAcc
                        [hideTransitionOptions]="'0ms'"
                        [showTransitionOptions]="'0ms'"
                        [style]="{ 															        'margin-left': '-50%',
              'margin-top': '0px', width: 'auto' }"
                        appendTo="body"
                        styleClass="tooltip-acc-list budget-tooltip-list dont-print tooltip-selcetedFiles-list"
                    >
                        <ul class="scroll-chrome">
                            <li *ngFor="let item of showFloatNav.selcetedFiles">
                                {{ item.mainDesc }}
                            </li>
                        </ul>
                    </p-overlayPanel>
                    שבחרת יתבטל הכרטיס הנגדי המוגדר כעת.
                    <br/>
                    הגדירו לנו מה לעשות -
                </ng-template>
            </p>

            <ul>
                <li>
                    <p-radioButton
                            [(ngModel)]="paramsForUpdateCust.updateAll"
                            [inputId]="'setFieldValueForFuture1'"
                            [label]="'בטלו בחירה רק לתנועה זו בלבד'"
                            [value]="false"
                            name="changeOption"
                    ></p-radioButton>
                </li>
                <li>
                    <p-radioButton
                            [(ngModel)]="paramsForUpdateCust.updateAll"
                            [inputId]="'setFieldValueForFuture2'"
                            [label]="
              'בטלו בחירה ל' +
              'כל תנועות ה' +
              (fileStatus === 'BANK' ? 'בנק' : 'אשראי') +
              ' שלא נקלטו בקובץ (עבר ועתיד)'
            "
                            [value]="true"
                            name="changeOption"
                    ></p-radioButton>
                </li>
            </ul>
        </ng-container>

        <p-footer>
            <button (click)="modalEditCardsBeforeSend = false" class="button-link">
                {{ 'actions.cancellation' | translate }}
            </button>
            <button (click)="updateCust()" class="button-dark">
                {{ 'actions.approve' | translate }}
            </button>
        </p-footer>
    </p-dialog>
</ng-container>


<ng-container *ngIf="custPopUpForPayments">
    <p-dialog (onHide)="custPopUpForPayments = false"
              (visibleChange)="custPopUpForPayments = false"
              [draggable]="false"
              [modal]="true"
              [resizable]="false"
              [visible]="custPopUpForPayments"
              appendTo="body"
              styleClass="custPopUpForPayments">
        <p-header>
            <h1>
                איכלוס כרטיס נגדי
            </h1>
        </p-header>

        <p style="font-family: 'Assistant';
    font-style: normal;
    font-weight: 400;
    font-size: 18px;
    line-height: 30px;
    text-align: right;
    color: #02225C;">
            עסקה זו בוצעה לפני תחילת העבודה בביזיבוקס,
            <br>
            אין באפשרותנו לזהות אם קיימת פקודה לעסקה זו.
            <br>
            מה ברצונך לעשות?
        </p>
        <ul style="margin-top: 15px;">
            <li>
                <p-radioButton
                        [(ngModel)]="custPopUpForPayments.ngModelOpt"
                        [inputId]="'ngModelOpt1'"
                        [label]="'צור פקודה לכל התשלומים הפתוחים בביזיבוקס'"
                        [value]="'1'"
                        name="changeOption"
                ></p-radioButton>
            </li>
            <li>
                <p-radioButton
                        [(ngModel)]="custPopUpForPayments.ngModelOpt"
                        [inputId]="'ngModelOpt2'"
                        [label]="'צור פקודה לתשלום זה בלבד'"
                        [value]="'2'"
                        name="changeOption"
                ></p-radioButton>
            </li>
            <li>
                <p-radioButton
                        [(ngModel)]="custPopUpForPayments.ngModelOpt"
                        [inputId]="'ngModelOpt3'"
                        [label]="'אל תיצור פקודה, קיימת פקודה בחשבשבת'"
                        [value]="'3'"
                        name="changeOption"></p-radioButton>
                <div style="margin-right: 24px">
                    <p-dropdown [(ngModel)]="custPopUpForPayments.selectedDD"
                                [disabled]="custPopUpForPayments.ngModelOpt !== '3'"
                                [options]="custPopUpForPayments.ddOpt"
                                [style]="{ width: '209px' }"
                                appendTo="body"
                                optionLabel="title"
                                optionValue="value"></p-dropdown>
                </div>
            </li>
        </ul>

        <ng-template pTemplate="footer">
            <button (click)="custPopUpForPayments = false" class="button-link">
                {{ 'actions.cancellation' | translate }}
            </button>
            <button (click)="updatePaymentCreditData()" class="button-dark">
                {{ 'actions.approve' | translate }}
            </button>
        </ng-template>
    </p-dialog>
</ng-container>


<ng-container *ngIf="toggleLoanDetails && selectedCompanyAccountIds?.length">
    <app-loan-details-prompt
            (hideLoan)="toggleLoanDetails = false; loanId = null"
            (loanDeleted)="changeAcc(null)"
            [companyAccountId]="selectedCompanyAccountIds"
            [loanId]="loanId"
            [modal]="modalLoan"
    ></app-loan-details-prompt>
</ng-container>

<ng-container *ngIf="showArchiveModal">
    <p-dialog (onHide)="showArchiveModal = false; archiveModal.isModal = false"
              (visibleChange)="showArchiveModal = false; archiveModal.isModal = false"
              [modal]="true"
              [visible]="(
showArchiveModal
        )"
              appendTo="body"
              styleClass="archiveModal"
    >
        <p-header> קישור תמונה</p-header>
        <app-archives
            #archiveModal
            (setFiles)="connectFilesFromModal($event)"
            [isModal]="!!showArchiveModal"
        ></app-archives>
        <p-footer>
            <button
                    (click)="showArchiveModal = false; archiveModal.isModal = false"
                    class="button-link"
            >
                {{ 'actions.cancellation' | translate }}
            </button>
            <button
                    (click)="connectFilesSubmit(); archiveModal.isModal = false"
                    [disabled]="!connectFilesFromModalArr.length"
                    class="button-dark"
            >
                {{ 'actions.approve' | translate }}
            </button>
        </p-footer>
    </p-dialog>
</ng-container>

<ng-container *ngIf="editReceiptModalShow">
    <p-dialog #editOrderModal
              (onHide)="onHideEditReceipt()"
              (visibleChange)="editReceiptModalShow = false; onHideEditReceipt()"
              [draggable]="false"
              [maskStyleClass]="showDocumentListStorageDataFiredRece
        ? 'isShowDocumentListStorageDataFiredMask'
        : ''"
              [modal]="true"
              [resizable]="false"
              [visible]="(
editReceiptModalShow
        )"
              appendTo="body"
              styleClass="bankEditReceiptModal editReceiptModal {{
      bankProcessTransType ? 'bankProcessTransTypeReceiptModal' : ''
    }}
{{
      srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1) ? 'isMatah' : ''
    }}
{{
      showDocumentListStorageDataFiredRece
        ? 'isShowDocumentListStorageDataFired'
        : ''
    }}"
    >
        <p-header>{{ journalPaymentPrompt ? 'עריכת פקודה מרובה - עסקת תשלומים' :


            'עריכת/ פיצול פקודה' }}</p-header>

        <div class="table" style="position: relative">
            <div *ngIf="fileStatus === 'BANK'" class="header title" style="position: relative;padding-left: 23%;">
                <div
                        style="
            margin-right: 0;
            margin-left: 0;
            padding-right: 0;
            display: flex;
            justify-content: space-between;
            flex: 165px;
            color: #022258;
            padding-left: 27px;
          "
                >
                    <span class="semiBold" style="display: flex">
                        		<img
                                        [src]="
        rowToSplit.account.bankId
          ? (rowToSplit.account.bankId | toIconSrc: 'bank'  : ''
                                  : false
                                  : true)
          : ''
      "
                                        style="height: auto;width: 19px;position: relative;margin-left: 5px;"

                                />
			<span>
                {{
                rowToSplit.account.bankAccountId
                }}
			</span>
                    </span>
                    {{ rowToSplit.transDate | date: 'dd/MM/yy' }}
                </div>
                <div class="border"></div>
                <ng-container *ngIf="bankProcessTransType">
                    <div style="color: #022258">
                        {{ rowToSplit.transTypeCode }}
                    </div>
                    <div class="border"></div>
                </ng-container>
                <div style="display: flex; justify-content: space-between">
                    <div style="width: 195px; min-width: 195px">
                        <div
                            #inputElement
                            [pTooltip]="rowToSplit.mainDesc"
                            [tooltipDisabled]="
                inputElement.offsetWidth >= inputElement.scrollWidth
              "
                            class="text-ellipsis"
                            style="color: #022258"
                        >
                            {{ rowToSplit.mainDesc }}
                        </div>
                    </div>
                    <div style="align-self: stretch; width: 11px; height: auto"></div>
                    <div style="width: 83px">
                        <div
                            #inputElement
                            [pTooltip]="rowToSplit.paymentDescTranslate"
                            [tooltipDisabled]="
                inputElement.offsetWidth >= inputElement.scrollWidth
              "
                            class="text-ellipsis"
                            style="color: #022258"
                        >
                            {{ rowToSplit.paymentDescTranslate }}
                        </div>
                    </div>
                </div>
                <div class="border"></div>
                <div style="display: flex; justify-content: space-between">
                    <div style="width: 195px; min-width: 195px">
                        <div style="color: #022258">
                            {{ rowToSplit.asmachta }}
                        </div>
                    </div>
                    <div style="align-self: stretch; width: 11px; height: auto"></div>
                    <div style="width: 83px">
                        <div
                                [class.sum-credit]="!rowToSplit.hova"
                                [class.sum-debit]="rowToSplit.hova"
                        >
                            <app-sum-view [sum]="rowToSplit.total"></app-sum-view>
                        </div>
                    </div>
                </div>
                <div class="border"></div>
                <!--                <div *ngIf="(srcCurrencyId === 1 || !(srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"-->
                <!--                     style="display: flex; justify-content: space-between">-->
                <!--                    <div style="width: 195px; min-width: 195px">-->
                <!--                        <div style="color: #022258">-->
                <!--                            {{-->
                <!--                            rowToSplit.custName === 'בחירה' &&-->
                <!--                            receipt &&-->
                <!--                            arrReceipt &&-->
                <!--                            arrReceipt.controls[0].get('paymentCustId') &&-->
                <!--                            arrReceipt.controls[0].get('paymentCustId').value &&-->
                <!--                            arrReceipt.controls[0].get('paymentCustId').value.custId-->
                <!--                                ? arrReceipt.controls[0].get('paymentCustId').value.cartisName-->
                <!--                                : rowToSplit.custName-->
                <!--                            }}-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                    <div style="align-self: stretch; width: 11px; height: auto"></div>-->
                <!--                    <div style="width: 83px">-->
                <!--                        <div style="text-align: left">-->
                <!--                            <img-->
                <!--                                    *ngIf="-->
                <!--                  rowToSplit.status === 'CUSTOMER_IGNORE' ||-->
                <!--                  rowToSplit.status === 'BIZIBOX_MATCH_IGNORE'-->
                <!--                "-->
                <!--                                    [pTooltip]="-->
                <!--                  rowToSplit.status === 'CUSTOMER_IGNORE' || rowToSplit.nonMatchedTrans-->
                <!--                    ? rowToSplit.status_desc-->
                <!--                    : 'לא לטיפול מהתאמה בביזיבוקס'-->
                <!--                "-->
                <!--                                    src="/assets/images/CUSTOMER_IGNORE.png"-->
                <!--                                    style="-->
                <!--                  width: 100%;-->
                <!--                  height: 100%;-->
                <!--                  vertical-align: middle;-->
                <!--                  cursor: pointer;-->
                <!--                "-->
                <!--                                    tooltipPosition="top"-->
                <!--                            />-->

                <!--                            <mat-icon-->
                <!--                                    *ngIf="-->
                <!--                  rowToSplit.status !== 'EMPTY' &&-->
                <!--                  rowToSplit.status !== 'CUSTOMER_IGNORE' &&-->
                <!--                  rowToSplit.status !== 'BIZIBOX_MATCH_IGNORE'-->
                <!--                "-->
                <!--                                    [ngStyle]="{-->
                <!--                  color:-->
                <!--                    rowToSplit.status === 'ADD_ITEM_IGNORE' ||-->
                <!--                    rowToSplit.status === 'HASH_MATCH_IGNORE'-->
                <!--                      ? '#4f4e4e'-->
                <!--                      : rowToSplit.status === 'DONE' ||-->
                <!--                        rowToSplit.status === 'RECHECK'-->
                <!--                      ? '#022258'-->
                <!--                      : '#a5a3a3',-->
                <!--                  width:-->
                <!--                    rowToSplit.status === 'ADD_ITEM_IGNORE' ||-->
                <!--                    rowToSplit.status === 'HASH_MATCH_IGNORE'-->
                <!--                      ? '14px'-->
                <!--                      : '17px'-->
                <!--                }"-->
                <!--                                    [pTooltip]="-->
                <!--                  rowToSplit.status === 'HASH_MATCH_IGNORE'-->
                <!--                    ? 'לא לטיפול מהתאמה בחשבשבת'-->
                <!--                    : rowToSplit.status_desc-->
                <!--                "-->
                <!--                                    [svgIcon]="-->
                <!--                  rowToSplit.status === 'TEMP_COMMAND'-->
                <!--                    ? 'check-solid'-->
                <!--                    : rowToSplit.status === 'PERMANENT_COMMAND'-->
                <!--                    ? 'check-double-solid'-->
                <!--                    : rowToSplit.status === 'RECHECK'-->
                <!--                    ? 'RECHECK'-->
                <!--                    : rowToSplit.status === 'ADD_ITEM_IGNORE' ||-->
                <!--                      rowToSplit.status === 'HASH_MATCH_IGNORE'-->
                <!--                    ? 'close'-->
                <!--                    : 'tick'-->
                <!--                "-->
                <!--                                    style="-->
                <!--                  width: 100%;-->
                <!--                  height: 100%;-->
                <!--                  vertical-align: middle;-->
                <!--                  cursor: pointer;-->
                <!--                "-->
                <!--                                    tooltipPosition="top"-->
                <!--                            >-->
                <!--                            </mat-icon>-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                </div>-->
                <div class="calcSumsByRate" style="color: #022258;">
                    <div *ngIf="srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)"
                         [class.leftZero]="srcCurrencyId !== 1"
                         class="currencyRateGr">
                        <p style="font-weight: 700">
                            שער חליפין
                        </p>
                        <div class="currencyRateInput">
                            <input
                                    (keyup)="calcSumsByRate()"
                                    [(ngModel)]="currencyRate"
                                    appNumbersOnly="positive"
                                    autocomplete="off"
                            />
                            <p>
                                ש״ח
                            </p>
                        </div>
                    </div>
                    <div *ngIf="srcCurrencyId === 1">
                        <p style="font-weight: 700">
                            סוג מטבע
                        </p>
                        <p-dropdown (onChange)="getCurrCodeChange()"
                                    [(ngModel)]="currencyIdDD"
                                    [dropdownIcon]="'p-dropdown-icon'"
                                    [options]="revaluationCurrCodeArr"
                                    [scrollHeight]="'135px'"
                                    [style]="{ width: '100px' }"
                                    appendTo="body"
                                    placeholder="בחירה"
                                    styleClass="ddInfoCompanyForm">
                            <ng-template let-item pTemplate="selectedItem">
                                <div class="curr" style="display: flex; align-items: center">
                                    <div>
                                        {{item.code}}
                                    </div>
                                    <div style="padding: 0 5px;">
                                        -
                                    </div>
                                    <div>
                                        {{item.sign}}
                                    </div>
                                </div>
                            </ng-template>
                            <ng-template let-item pTemplate="item">
                                <div class="curr" style="display: flex; align-items: center">
                                    <div>
                                        {{item.code}}
                                    </div>
                                    <div style="padding: 0 5px;">
                                        -
                                    </div>
                                    <div>
                                        {{item.sign}}
                                    </div>
                                </div>
                            </ng-template>
                        </p-dropdown>
                    </div>
                </div>
            </div>
            <div *ngIf="fileStatus === 'CREDIT'" class="header title" style="position: relative;padding-left: 23%;">
                <div
                        style="
            margin-right: 0;
            margin-left: 0;
            padding-right: 0;
            display: flex;
            justify-content: space-between;
            flex: 165px;
            color: #022258;
            padding-left: 27px;
          "
                >
                    <span class="semiBold" style="display: flex">
                        		<img
                                        [src]="
        rowToSplit.card.creditCardTypeId
          ? (rowToSplit.card.creditCardTypeId | toIconSrc: 'card'  : ''
                                  : false
                                  : true)
          : ''
      "
                                        style="height: auto;width: 19px;position: relative;margin-left: 5px;"

                                />
			<span>
                {{
                rowToSplit.card.creditCardNo
                }}
			</span>
                    </span>
                    {{ rowToSplit.transDate | date: 'dd/MM/yy' }}
                </div>
                <div class="border"></div>
                <ng-container *ngIf="bankProcessTransType">
                    <div style="color: #022258">
                        {{ rowToSplit.transTypeCode }}
                    </div>
                    <div class="border"></div>
                </ng-container>
                <div style="display: flex; justify-content: space-between">
                    <div style="width: 195px; min-width: 195px">
                        <div style="color: #022258">
                            {{ rowToSplit.nextCycleDate | date: 'dd/MM/yy' }}
                        </div>
                    </div>
                    <div style="align-self: stretch; width: 11px; height: auto"></div>
                    <div style="width: 83px">
                        <div
                            #inputElement
                            [pTooltip]="rowToSplit.mainDesc"
                            [tooltipDisabled]="
                inputElement.offsetWidth >= inputElement.scrollWidth
              "
                            class="text-ellipsis"
                            style="color: #022258"
                        >
                            {{ rowToSplit.mainDesc }}
                        </div>
                    </div>
                </div>
                <div class="border"></div>
                <div style="display: flex; justify-content: space-between">
                    <div style="width: 195px; min-width: 195px">
                        <div class="sum-credit">
                            <app-sum-view [sum]="rowToSplit.originalTotal"></app-sum-view>
                        </div>
                    </div>
                    <div style="align-self: stretch; width: 11px; height: auto"></div>
                    <div style="width: 83px">
                        <div
                                [class.sum-credit]="!rowToSplit.hova"
                                [class.sum-debit]="rowToSplit.hova"
                        >
                            <app-sum-view [sum]="rowToSplit.transTotal"></app-sum-view>
                        </div>
                    </div>
                </div>
                <div class="border"></div>
                <!--                <div *ngIf="!(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"-->
                <!--                     style="display: flex; justify-content: space-between">-->
                <!--                    <div style="width: 195px; min-width: 195px">-->
                <!--                        <div style="color: #022258">-->
                <!--                            {{-->
                <!--                            rowToSplit.custName === 'בחירה' &&-->
                <!--                            receipt &&-->
                <!--                            arrReceipt &&-->
                <!--                            arrReceipt.controls[0].get('paymentCustId') &&-->
                <!--                            arrReceipt.controls[0].get('paymentCustId').value &&-->
                <!--                            arrReceipt.controls[0].get('paymentCustId').value.custId-->
                <!--                                ? arrReceipt.controls[0].get('paymentCustId').value.cartisName-->
                <!--                                : rowToSplit.custName-->
                <!--                            }}-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                    <div style="align-self: stretch; width: 11px; height: auto"></div>-->
                <!--                    <div style="width: 83px">-->
                <!--                        <div style="text-align: left">-->
                <!--                            <img-->
                <!--                                    *ngIf="-->
                <!--                  rowToSplit.status === 'CUSTOMER_IGNORE' ||-->
                <!--                  rowToSplit.status === 'BIZIBOX_MATCH_IGNORE'-->
                <!--                "-->
                <!--                                    [pTooltip]="-->
                <!--                  rowToSplit.status === 'CUSTOMER_IGNORE'  || rowToSplit.nonMatchedTrans-->
                <!--                    ? rowToSplit.status_desc-->
                <!--                    : 'לא לטיפול מהתאמה בביזיבוקס'-->
                <!--                "-->
                <!--                                    src="/assets/images/CUSTOMER_IGNORE.png"-->
                <!--                                    style="-->
                <!--                  width: 100%;-->
                <!--                  height: 100%;-->
                <!--                  vertical-align: middle;-->
                <!--                  cursor: pointer;-->
                <!--                "-->
                <!--                                    tooltipPosition="top"-->
                <!--                            />-->

                <!--                            <mat-icon-->
                <!--                                    *ngIf="-->
                <!--                  rowToSplit.status !== 'EMPTY' &&-->
                <!--                  rowToSplit.status !== 'CUSTOMER_IGNORE' &&-->
                <!--                  rowToSplit.status !== 'BIZIBOX_MATCH_IGNORE'-->
                <!--                "-->
                <!--                                    [ngStyle]="{-->
                <!--                  color:-->
                <!--                    rowToSplit.status === 'ADD_ITEM_IGNORE' ||-->
                <!--                    rowToSplit.status === 'HASH_MATCH_IGNORE'-->
                <!--                      ? '#4f4e4e'-->
                <!--                      : rowToSplit.status === 'DONE' ||-->
                <!--                        rowToSplit.status === 'RECHECK'-->
                <!--                      ? '#022258'-->
                <!--                      : '#a5a3a3',-->
                <!--                  width:-->
                <!--                    rowToSplit.status === 'ADD_ITEM_IGNORE' ||-->
                <!--                    rowToSplit.status === 'HASH_MATCH_IGNORE'-->
                <!--                      ? '14px'-->
                <!--                      : '17px'-->
                <!--                }"-->
                <!--                                    [pTooltip]="-->
                <!--                  rowToSplit.status === 'HASH_MATCH_IGNORE'-->
                <!--                    ? 'לא לטיפול מהתאמה בחשבשבת'-->
                <!--                    : rowToSplit.status_desc-->
                <!--                "-->
                <!--                                    [svgIcon]="-->
                <!--                  rowToSplit.status === 'TEMP_COMMAND'-->
                <!--                    ? 'check-solid'-->
                <!--                    : rowToSplit.status === 'PERMANENT_COMMAND'-->
                <!--                    ? 'check-double-solid'-->
                <!--                    : rowToSplit.status === 'RECHECK'-->
                <!--                    ? 'RECHECK'-->
                <!--                    : rowToSplit.status === 'ADD_ITEM_IGNORE' ||-->
                <!--                      rowToSplit.status === 'HASH_MATCH_IGNORE'-->
                <!--                    ? 'close'-->
                <!--                    : 'tick'-->
                <!--                "-->
                <!--                                    style="-->
                <!--                  width: 100%;-->
                <!--                  height: 100%;-->
                <!--                  vertical-align: middle;-->
                <!--                  cursor: pointer;-->
                <!--                "-->
                <!--                                    tooltipPosition="top"-->
                <!--                            >-->
                <!--                            </mat-icon>-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                </div>-->
                <div class="calcSumsByRate" style="color: #022258;">
                    <div *ngIf="srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)"
                         [class.leftZero]="srcCurrencyId !== 1"
                         class="currencyRateGr">
                        <p style="font-weight: 700">
                            שער חליפין
                        </p>
                        <div class="currencyRateInput">
                            <input
                                    (keyup)="calcSumsByRate()"
                                    [(ngModel)]="currencyRate"
                                    appNumbersOnly="positive"
                                    autocomplete="off"
                            />
                            <p>
                                ש״ח
                            </p>
                        </div>
                    </div>
                    <div *ngIf="srcCurrencyId === 1">
                        <p style="font-weight: 700">
                            סוג מטבע
                        </p>
                        <p-dropdown (onChange)="getCurrCodeChange()"
                                    [(ngModel)]="currencyIdDD"
                                    [dropdownIcon]="'p-dropdown-icon'"
                                    [options]="revaluationCurrCodeArr"
                                    [scrollHeight]="'135px'"
                                    [style]="{ width: '100px' }"
                                    appendTo="body"
                                    placeholder="בחירה"
                                    styleClass="ddInfoCompanyForm">
                            <ng-template let-item pTemplate="selectedItem">
                                <div class="curr" style="display: flex; align-items: center">
                                    <div>
                                        {{item.code}}
                                    </div>
                                    <div style="padding: 0 5px;">
                                        -
                                    </div>
                                    <div>
                                        {{item.sign}}
                                    </div>
                                </div>
                            </ng-template>
                            <ng-template let-item pTemplate="item">
                                <div class="curr" style="display: flex; align-items: center">
                                    <div>
                                        {{item.code}}
                                    </div>
                                    <div style="padding: 0 5px;">
                                        -
                                    </div>
                                    <div>
                                        {{item.sign}}
                                    </div>
                                </div>
                            </ng-template>
                        </p-dropdown>
                    </div>
                </div>
            </div>

            <div class="header">
                <div>תאריך</div>
                <div class="border"></div>
                <ng-container *ngIf="bankProcessTransType">
                    <div>סוג תנועה</div>
                    <div class="border"></div>
                </ng-container>
                <div>חובה</div>
                <div class="border"></div>
                <div>זכות</div>
                <ng-container
                        *ngIf="srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)">
                    <div class="border"></div>
                    <div>(₪)</div>
                    <div>(₪)</div>
                </ng-container>
                <ng-container
                        *ngIf="currencyIdDD && (srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))">
                    <div class="border"></div>
                    <div>({{ currencyIdDD['sign'] }})</div>
                    <div>({{ currencyIdDD['sign'] }})</div>
                </ng-container>
                <div class="border"></div>
                <div>פרטים נוספים</div>
            </div>

            <div
                    [style.max-height.px]="showDocumentListStorageDataFiredRece ? 252 : 348"
                    class="scroll-chrome scrollbar-dynamic"
                    style="overflow-y: auto"
            >
                <ng-template #loader>
                    <div style="height: 84px">
                        <div class="loaderPercent">
                            <div class="circle"></div>
                        </div>
                    </div>
                </ng-template>
                <div *ngIf="receipt; else loader" [formGroup]="receipt">
                    <div formArrayName="arr">
                        <div
                                *ngFor="
                let item of arrReceipt.controls;
                let i = index;
                last as isLast
              "
                                [class.last]="isLast"
                                [formGroupName]="i"
                                class="row main"
                        >
                            <div>
                                <div
                                        class="date flex"
                                        style="margin-bottom: 10px; justify-content: space-between"
                                >
                                    <p style="min-width: 74px">תאריך</p>

                                    <div style="width: 85px">
                                        <p-calendar
                                                [dateFormat]="'dd/mm/yy'"
                                                [locale]="'langCalendar' | translate"
                                                [style]="{ width: '85px' }"
                                                appendTo="body"
                                                formControlName="invoiceDate"
                                                placeholder="בחירה"
                                        ></p-calendar>
                                    </div>
                                </div>
                                <div
                                        class="date flex"
                                        style="
                    margin-bottom: 10px;
                    position: relative;
                    justify-content: space-between;
                  "
                                >
                                    <img
                                            (click)="
                      !item.get('thirdDateOpen').value
                        ? thirdDateOpenItem(item, true)
                        : null
                    "
                                            [ngStyle]="{
                      cursor: !item.get('thirdDateOpen').value ? 'pointer' : 'default'
                    }"
                                            [src]="
                      !item.get('thirdDateOpen').value
                        ? '/assets/images/thirdDateActive.png'
                        : '/assets/images/thirdDateNotActive.png'
                    "
                                            class="plusIconAsmachta"
                                            style="
											height: auto; width: auto;
                      position: absolute;
                      right: -17px;
                      top: 4px;
                      cursor: pointer;
                    "
                                    />
                                    <p style="min-width: 74px">תאריך ערך</p>

                                    <div style="width: 85px">
                                        <p-calendar
                                                [dateFormat]="'dd/mm/yy'"
                                                [locale]="'langCalendar' | translate"
                                                [style]="{ width: '85px' }"
                                                appendTo="body"
                                                formControlName="dateValue"
                                                placeholder="בחירה"
                                        ></p-calendar>
                                    </div>
                                </div>
                                <div
                                        *ngIf="item.get('thirdDateOpen').value"
                                        class="date flex"
                                        style="
                    margin-bottom: 10px;
                    position: relative;
                    justify-content: space-between;
                  "
                                >
                                    <mat-icon
                                            (click)="thirdDateOpenItem(item, false);
                      item.get('thirdDate').patchValue('')
                    "
                                            style="
                      color: #022258;
                      cursor: pointer;
                      position: absolute;
                      right: -17px;
                      top: 1px;
                      width: 14px;
                      height: 14px;
                      display: block;
                    "
                                            svgIcon="trash"
                                    >
                                    </mat-icon>

                                    <p style="min-width: 74px">תאריך נוסף</p>

                                    <div style="width: 85px">
                                        <p-calendar
                                                [dateFormat]="'dd/mm/yy'"
                                                [locale]="'langCalendar' | translate"
                                                [style]="{ width: '85px' }"
                                                appendTo="body"
                                                formControlName="thirdDate"
                                                placeholder="בחירה"
                                        ></p-calendar>
                                    </div>
                                </div>
                                <div class="flex">
                                    <p
                                            (click)="
                      arrReceipt.controls[0].get('showTaxDeduction').value &&
                      !arrReceipt.controls[0].get('taxDeductionCustId').value
                        ? null
                        : addReceipt()
                    "
                                            *ngIf="i === 0 && !journalPaymentPrompt"
                                            [class.disabled]="

                      arrReceipt.controls[0].get('showTaxDeduction').value
                      &&
                      !arrReceipt.controls[0].get('taxDeductionCustId').value
                    "
                                            class="addOrder"
                                    >
                                        <img
                                                height="15"
                                                src="/assets/images/iconCopy.png"
                                                style="margin-left: 5px"
                                                width="13"
                                        />
                                        פיצול פקודה
                                    </p>
                                    <p
                                            (click)="removeReceipt(i)"
                                            *ngIf="i > 0 && !journalPaymentPrompt"
                                            class="removeOrder"
                                    >
                                        <mat-icon
                                                style="
                        color: #038ed6;
                        margin-left: 4px;
                        width: 15px;
                        height: 15px;
                      "
                                                svgIcon="trash"
                                        >
                                        </mat-icon>
                                        מחיקה
                                    </p>
                                </div>
                            </div>

                            <div class="border"></div>

                            <ng-container *ngIf="bankProcessTransType">
                                <div>
                                    <p-dropdown
                                        #formDropdowns
                                        (onChange)="selectTransTypeCodeFromModal(i)"
                                        [autoDisplayFirst]="false"
                                        [dropdownIcon]="'fa fa-fw fa-caret-down'"
                                        [options]="item.get('transTypeDefinedArr').value"
                                        [scrollHeight]="'185px'"
                                        [style]="{ width: '100%' }"
                                        appendTo="body"
                                        formControlName="transTypeCode"
                                        name="transTypeCode"

                                        panelStyleClass="company-customer-dropdown-panel cardsDD card195"
                                        placeholder="בחירה"
                                    >
                                        <ng-template let-item pTemplate="selectedItem">
                      <span
                          #spanElement
                          [innerHTML]="
                          (item.onlyName ? item.label : item.value)
                            | highlight: queryString
                        "
                          [pTooltip]="item.label + ' ' + item.value"
                          [tooltipDisabled]="
                          spanElement.offsetWidth >= spanElement.scrollWidth
                        "
                          style="
                          vertical-align: middle;
                          display: block;
                          white-space: nowrap;
                          overflow: hidden;
                          text-overflow: ellipsis;
                        "
                          tooltipPosition="top"
                      ></span>
                                        </ng-template>
                                        <ng-template let-item pTemplate="item">
                                            <div class="p-helper-clearfix cust-item">
                                                <div
                                                        style="
                            display: flex;
                            align-items: center;
                            flex-direction: row;
                            justify-content: space-between;
                          "
                                                >
                                                    <span class="text-ellipsis">{{ item.label }}</span>
                                                    <span
                                                            *ngIf="!item.onlyName"
                                                            class="text-ellipsis"
                                                            style="
                              width: 60px;
                              display: inline-block;
                              margin-right: 10px;
                            "
                                                    >{{ item.value }}</span
                                                    >
                                                </div>
                                            </div>
                                        </ng-template>
                                        <ng-template pTemplate="empty">
                                            <div
                                                    class="p-helper-clearfix" style="display: block;
    white-space: nowrap;
    overflow: hidden;
    line-height: 33px;
    text-overflow: ellipsis;
    margin: 0px 14px !important;">
                                                לא נמצאו תוצאות
                                            </div>
                                        </ng-template>
                                        <ng-template pTemplate="emptyfilter">
                                            <div
                                                    class="p-helper-clearfix" style="display: block;
    white-space: nowrap;
    overflow: hidden;
    line-height: 33px;
    text-overflow: ellipsis;
    margin: 0px 14px !important;">
                                                לא נמצאו תוצאות
                                            </div>
                                        </ng-template>
                                    </p-dropdown>
                                </div>
                                <div class="border"></div>
                            </ng-container>

                            <ng-container
                                    *ngTemplateOutlet="rowToSplit?.hova ? (i > 0 && journalPaymentPrompt ? emptyColTemp : incomeTemp) :
                                    (i === 0 && journalPaymentPrompt ? emptyColTemp : expenseTemp)"
                            >
                            </ng-container>

                            <div class="border"></div>
                            <ng-container
                                    *ngTemplateOutlet="rowToSplit?.hova ? (i === 0 && journalPaymentPrompt ? emptyColTemp : expenseTemp) : (i > 0 && journalPaymentPrompt ? emptyColTemp : incomeTemp)"
                            >
                            </ng-container>
                            <ng-container
                                    *ngIf="srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)">
                                <div class="border"></div>
                                <ng-container
                                        *ngTemplateOutlet="rowToSplit?.hova ? (i > 0 && journalPaymentPrompt ? emptyColTemp : incomeTempILS) :
                                    (i === 0 && journalPaymentPrompt ? emptyColTemp : expenseTempILS)"
                                >
                                </ng-container>
                                <ng-container
                                        *ngTemplateOutlet="rowToSplit?.hova ? (i > 0 && journalPaymentPrompt ? emptyColTemp : expenseTempILS) :
                                    (i === 0 && journalPaymentPrompt ? emptyColTemp : incomeTempILS)"
                                >
                                </ng-container>
                            </ng-container>
                            <ng-container
                                    *ngIf="srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)">
                                <div class="border"></div>
                                <ng-container
                                        *ngTemplateOutlet="rowToSplit?.hova ? (i > 0 && journalPaymentPrompt ? emptyColTemp : incomeTempMatah) :
                                    (i === 0 && journalPaymentPrompt ? emptyColTemp : expenseTempMatah)"
                                >
                                </ng-container>
                                <ng-container
                                        *ngTemplateOutlet="rowToSplit?.hova ? (i > 0 && journalPaymentPrompt ? emptyColTemp : expenseTempMatah) :
                                    (i === 0 && journalPaymentPrompt ? emptyColTemp : incomeTempMatah)"
                                >
                                </ng-container>
                            </ng-container>
                            <div class="border"></div>
                            <div style="position: relative">
                                <img
                                        (click)="item['showAsmachta3'] = true"
                                        *ngIf="
                    (!item.get('asmachta3').value ||
                      item.get('asmachta3').value === '') &&
                    !item['showAsmachta3']
                  "
                                        class="plusIconAsmachta"
                                        src="/assets/images/thirdDateActive.png"
                                />

                                <img
                                        (click)="
                    arrReceipt.controls.length === 1
                      ? (showDocumentListStorageDataFiredRece =
                          'showDocumentAtleft')
                      : arrReceipt.controls.length > 3 ||
                        getJournalHistory.length
                      ? (showDocumentListStorageDataFiredRece =
                          'showDocumentAtSecond')
                      : (showDocumentListStorageDataFiredRece =
                          'showDocumentAtBottom');
                    dialogMaskListenRece();
                    showZoomInside = false
                  "
                                        *ngIf="
                    i === 0 &&
                    (rowToSplit.paymentDesc === 'BankTransfer' ||
                      rowToSplit.paymentDesc === 'Checks')
                  "
                                        class="openInvoiceModal"
                                        src="/assets/images/openInvoiceModal.png"
                                />

                                <div class="flex" style="margin-bottom: 10px">
                                    <p style="width: 90px">אסמכ. 1</p>
                                    <div style="max-width: 200px">
                                        <input
                                                appNumbersOnly="positive"
                                                autocomplete="off"
                                                class="input-show"
                                                formControlName="asmachta"
                                        />
                                    </div>
                                </div>
                                <div class="flex" style="margin-bottom: 10px">
                                    <p style="width: 90px">אסמכ. 2</p>
                                    <div
                                            style="max-width: 185px; display: flex; align-items: center"
                                    >
                                        <input
                                                [size]="
                        item.get('paymentAsmachta').value
                          ? item.get('paymentAsmachta').value.length
                          : 26
                      "
                                                appNumbersOnly="positive"
                                                autocomplete="off"
                                                class="input-show"
                                                formControlName="paymentAsmachta"
                                                maxlength="14"
                                                style="cursor: text"
                                        />
                                    </div>
                                </div>
                                <div
                                        *ngIf="
                    (item.get('asmachta3').value &&
                      item.get('asmachta3').value !== '') ||
                    item['showAsmachta3']
                  "
                                        class="flex"
                                        style="margin-bottom: 10px"
                                >
                                    <p style="width: 90px">אסמכ. 3</p>
                                    <div
                                            style="max-width: 185px; display: flex; align-items: center"
                                    >
                                        <input
                                                [size]="
                        item.get('asmachta3').value
                          ? item.get('asmachta3').value.length
                          : 26
                      "
                                                appNumbersOnly="positive"
                                                autocomplete="off"
                                                class="input-show"
                                                formControlName="asmachta3"
                                                maxlength="14"
                                                style="cursor: text"
                                        />
                                        <mat-icon
                                                (click)="
                        item['showAsmachta3'] = false;
                        item.get('asmachta3').patchValue('')
                      "
                                                style="
                        color: #022258;
                        margin-right: 3px;
                        cursor: pointer;
                        width: 15px;
                        height: 15px;
                        display: block;
                      "
                                                svgIcon="trash"
                                        >
                                        </mat-icon>
                                    </div>
                                </div>

                                <div class="flex">
                                    <p style="width: 90px">פרטים</p>
                                    <div style="max-width: 200px">
                                        <input
                                            #inputElement
                                            (blur)="inputElement['elemNotReadonly'] = false"
                                            (click)="
                        inputElement['elemNotReadonly'] = true;
                        inputElement.focus()
                      "
                                            [pTooltip]="item.get('details').value"
                                            [readonly]="!inputElement['elemNotReadonly']"
                                            [size]="
                        item.get('details').value
                          ? item.get('details').value.length
                          : 26
                      "
                                            [tooltipDisabled]="
                        inputElement.offsetWidth >= inputElement.scrollWidth
                      "
                                            autocomplete="off"
                                            class="input-show text-ellipsis"
                                            formControlName="details"
                                            style="cursor: text"
                                            tooltipPosition="top"
                                        />
                                    </div>
                                </div>
                            </div>
                            <ng-template #emptyColTemp>
                                <div>&nbsp;</div>
                            </ng-template>
                            <ng-template #expenseTemp>
                                <div>
                                    <div
                                            class="flex"
                                            style="margin-bottom: 10px; justify-content: space-between"
                                    >
                                        <div [ngStyle]="{
                                        width: (srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)) ? '170px' : '185px',
                                        'min-width': (srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)) ? '170px' : '185px'
                                        }"
                                             style="width: 195px; min-width: 195px"
                                        >
                                            <!-- ספק לקוח custId  -->
                                            <app-dropdown-wrap
                                                #aaa
                                                #formDropdowns
                                                (onChange)="setCustIdReceipt()"
                                                (onShow)="disabledValues([arrReceipt.controls[i].get('taxDeductionCustId').value, arrReceipt.controls[i].get('paymentCustId').value])"
                                                [autoDisplayFirst]="false"
                                                [class.invalid]="
                          arrReceipt.controls[i].get('custId').enabled &&
                          arrReceipt.controls[i].get('custId').invalid&& !journalPaymentPrompt
                        "
                                                [dropdownIcon]="'fa fa-fw fa-caret-down'"
                                                [filter]="true"
                                                [options]="
                          userService.appData.userData.companyCustomerDetails.all
                        "
                                                [style]="{ width: (srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)) ? '170px' : '185px' }"
                                                [virtualScrollItemSize]="38"
                                                [virtualScroll]="true"
                                                appendTo="body"
                                                dataKey="custId"
                                                emptyFilterMessage="לא נמצאו תוצאות"
                                                filterBy="lName,custId,hp"
                                                formControlName="custId"
                                                name="custId"

                                                optionDisabled="disabledVal"
                                                optionLabel="custId"
                                                panelStyleClass="company-customer-dropdown-panel cardsDD card195"
                                                placeholder="בחירה"
                                            >
                                                <ng-template let-item pTemplate="selectedItem">
                          <span
                              #spanElement
                              [pTooltip]="item.cartisName"
                              [tooltipDisabled]="
                              spanElement.offsetWidth >= spanElement.scrollWidth
                            "
                              style="
                              vertical-align: middle;
                              display: block;
                              white-space: nowrap;
                              overflow: hidden;
                              text-overflow: ellipsis;
                              line-height: 20px;
                            "
                              tooltipPosition="top"
                          >{{ item.cartisName }}</span
                          >
                                                </ng-template>

                                                <ng-template let-item pTemplate="item">
                                                    <div

                                                            [ngStyle]="
                              (arrReceipt.controls[i].get('taxDeductionCustId')
                                .value &&
                                arrReceipt.controls[i].get('taxDeductionCustId')
                                  .value.custId &&
                                arrReceipt.controls[i].get('taxDeductionCustId')
                                  .value.custId === item.custId) ||
                              (arrReceipt.controls[i].get('paymentCustId')
                                .value &&
                                arrReceipt.controls[i].get('paymentCustId')
                                  .value.custId &&
                                arrReceipt.controls[i].get('paymentCustId')
                                  .value.custId === item.custId)
                                ? { opacity: '0.4', cursor: 'default' }
                                : {}
                            "
                                                            class="p-helper-clearfix"
                                                            style="flex-flow: column"
                                                    >
                                                        <div>
                      <span class="text-ellipsis">{{
                          item.custId
                          }}
                          {{item.lName ? (' - ' + item.lName) : ''}}
                      </span>
                                                        </div>
                                                        <div style="font-size: 12px">
                        <span

                                class="text-ellipsis secondary"
                        >

                                   <ng-container
                                           *ngIf="
                                arrReceipt.controls[i].get('paymentCustId')
                                  .value &&
                                arrReceipt.controls[i].get('paymentCustId')
                                  .value.custId &&
                                arrReceipt.controls[i].get('paymentCustId')
                                  .value.custId === item.custId
                              "

                                   >
                                                            הכרטיס כבר נבחר בכרטיס
                                       {{ fileStatus === 'BANK' ? 'בנק' : 'אשראי' }}
                                                        </ng-container>
                                                        <ng-container
                                                                *ngIf="
                                arrReceipt.controls[i].get('taxDeductionCustId')
                                  .value &&
                                arrReceipt.controls[i].get('taxDeductionCustId')
                                  .value.custId &&
                                arrReceipt.controls[i].get('taxDeductionCustId')
                                  .value.custId === item.custId
                              "

                                                        >
                                                            הכרטיס כבר נבחר בכרטיס ניכוי מס
                                                        </ng-container>
						</span>
                                                        </div>

                                                    </div>
                                                </ng-template>
                                                <ng-template pTemplate="empty">
                                                    <div
                                                            class="p-helper-clearfix"
                                                            style="font-size: 0.95em; padding: 0.3em 1em"
                                                    >
                                                        <!--                                                        <ng-container-->
                                                        <!--                                                                *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                                                        <!--                                                            <div>לא מצאת את הכרטיס שחיפשת?</div>-->
                                                        <!--                                                            <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                        <!--                                                            <button class="button-link"-->
                                                        <!--                                                                    style="padding: 0; font-size: inherit;"-->
                                                        <!--                                                                    (click)="getCompanyCustomerDetailsTimer();aaa.putStyle(); $event.stopPropagation()">-->
                                                        <!--                                                                ולחצו על-->
                                                        <!--                                                                רענון הנתונים-->
                                                        <!--                                                            </button>-->
                                                        <!--                                                        </ng-container>-->

                                                        <ng-container>
                                                            <!--                                                            <div>לא מצאת את הכרטיס?</div>-->
                                                            <!--                                                            <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                            <!--                                                            <div>-->
                                                            <!--                                                                ובנתיים-->
                                                            <!--                                                                <button class="button-link"-->
                                                            <!--                                                                        style="padding: 0; font-size: inherit; text-decoration: underline"-->
                                                            <!--                                                                        (click)="setValCartisModal(formDropdowns, arrReceipt.controls[i].get('custId'));  getCompanyCustomerDetailsTimer();">-->
                                                            <!--                                                                    לחצו לעדכון-->
                                                            <!--                                                                </button>-->
                                                            <!--                                                            </div>-->

                                                            <div>לא מצאתם את הכרטיס שחיפשתם?</div>
                                                            <div>צרו כרטיס חדש בחשבשבת.</div>
                                                            <div>
                                                                בינתיים ניתן לעדכן ידנית את
                                                                <strong style="font-weight: 700">
                                                                    מפתח הכרטיס במדויק
                                                                </strong>
                                                                <br/>
                                                                עד שנמשוך את פרטי הכרטיס.
                                                            </div>
                                                            <button
                                                                    (click)="
                                  setValCartisModal(
                                    formDropdowns,
                                    arrReceipt.controls[i].get('custId')
                                  );
                                  getCompanyCustomerDetailsTimer()
                                "
                                                                    class="button-link"
                                                                    style="
                                  padding: 0;
                                  font-size: inherit;
                                  text-decoration: underline;
                                "
                                                            >
                                                                לעדכון ידני לחצו פה
                                                            </button>
                                                        </ng-container>

                                                        <!--                                                        <ng-container *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                                                        <!--                                                            <div>לא מצאתם את הכרטיס שחיפשתם?</div>-->
                                                        <!--                                                            <div>צרו כרטיס חדש בחשבשבת.</div>-->
                                                        <!--                                                            <div>-->
                                                        <!--                                                                בנתיים ניתן לעדכן ידנית עד שנמשוך <br>-->
                                                        <!--                                                                את פרטי הכרטיס.-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                            <button class="button-link" style="padding: 0; font-size: inherit;"-->
                                                        <!--                                                                    (click)="setValCartisModal(formDropdowns, arrReceipt.controls[i].get('custId')); formDropdowns.putStyle(); getCompanyCustomerDetailsTimer(); $event.stopPropagation()">-->
                                                        <!--                                                                לעדכון ידני לחצו פה-->
                                                        <!--                                                            </button>-->
                                                        <!--                                                        </ng-container>-->
                                                        <!--                                                        <ng-template #loader>-->
                                                        <!--                                                            <div style="height: 84px;">-->
                                                        <!--                                                                <div class="loaderPercent blueCircle"-->
                                                        <!--                                                                     style="background: #e6e5e5;">-->
                                                        <!--                                                                    <div class="circle"></div>-->
                                                        <!--                                                                </div>-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                            <div style="-->
                                                        <!--    z-index: 999;-->
                                                        <!--    position: absolute;-->
                                                        <!--    bottom: 26px;-->
                                                        <!--    font-size: 14.5px;-->
                                                        <!--    text-align: center;-->
                                                        <!--    font-weight: 600;-->
                                                        <!--    left: 0;-->
                                                        <!--    right: 0;-->
                                                        <!--">-->
                                                        <!--                                                                מתבצע סינכרון-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                        </ng-template>-->
                                                    </div>

                                                </ng-template>
                                                <ng-template pTemplate="emptyfilter">
                                                    <div
                                                            class="p-helper-clearfix"
                                                            style="font-size: 0.95em; padding: 0.3em 1em"
                                                    >
                                                        <!--                                                        <ng-container-->
                                                        <!--                                                                *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                                                        <!--                                                            <div>לא מצאת את הכרטיס שחיפשת?</div>-->
                                                        <!--                                                            <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                        <!--                                                            <button class="button-link"-->
                                                        <!--                                                                    style="padding: 0; font-size: inherit;"-->
                                                        <!--                                                                    (click)="getCompanyCustomerDetailsTimer();aaa.putStyle(); $event.stopPropagation()">-->
                                                        <!--                                                                ולחצו על-->
                                                        <!--                                                                רענון הנתונים-->
                                                        <!--                                                            </button>-->
                                                        <!--                                                        </ng-container>-->

                                                        <ng-container>
                                                            <!--                                                            <div>לא מצאת את הכרטיס?</div>-->
                                                            <!--                                                            <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                            <!--                                                            <div>-->
                                                            <!--                                                                ובנתיים-->
                                                            <!--                                                                <button class="button-link"-->
                                                            <!--                                                                        style="padding: 0; font-size: inherit; text-decoration: underline"-->
                                                            <!--                                                                        (click)="setValCartisModal(formDropdowns, arrReceipt.controls[i].get('custId'));  getCompanyCustomerDetailsTimer();">-->
                                                            <!--                                                                    לחצו לעדכון-->
                                                            <!--                                                                </button>-->
                                                            <!--                                                            </div>-->

                                                            <div>לא מצאתם את הכרטיס שחיפשתם?</div>
                                                            <div>צרו כרטיס חדש בחשבשבת.</div>
                                                            <div>
                                                                בינתיים ניתן לעדכן ידנית את
                                                                <strong style="font-weight: 700">
                                                                    מפתח הכרטיס במדויק
                                                                </strong>
                                                                <br/>
                                                                עד שנמשוך את פרטי הכרטיס.
                                                            </div>
                                                            <button
                                                                    (click)="
                                  setValCartisModal(
                                    formDropdowns,
                                    arrReceipt.controls[i].get('custId')
                                  );
                                  getCompanyCustomerDetailsTimer()
                                "
                                                                    class="button-link"
                                                                    style="
                                  padding: 0;
                                  font-size: inherit;
                                  text-decoration: underline;
                                "
                                                            >
                                                                לעדכון ידני לחצו פה
                                                            </button>
                                                        </ng-container>

                                                        <!--                                                        <ng-container *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                                                        <!--                                                            <div>לא מצאתם את הכרטיס שחיפשתם?</div>-->
                                                        <!--                                                            <div>צרו כרטיס חדש בחשבשבת.</div>-->
                                                        <!--                                                            <div>-->
                                                        <!--                                                                בנתיים ניתן לעדכן ידנית עד שנמשוך <br>-->
                                                        <!--                                                                את פרטי הכרטיס.-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                            <button class="button-link" style="padding: 0; font-size: inherit;"-->
                                                        <!--                                                                    (click)="setValCartisModal(formDropdowns, arrReceipt.controls[i].get('custId')); formDropdowns.putStyle(); getCompanyCustomerDetailsTimer(); $event.stopPropagation()">-->
                                                        <!--                                                                לעדכון ידני לחצו פה-->
                                                        <!--                                                            </button>-->
                                                        <!--                                                        </ng-container>-->
                                                        <!--                                                        <ng-template #loader>-->
                                                        <!--                                                            <div style="height: 84px;">-->
                                                        <!--                                                                <div class="loaderPercent blueCircle"-->
                                                        <!--                                                                     style="background: #e6e5e5;">-->
                                                        <!--                                                                    <div class="circle"></div>-->
                                                        <!--                                                                </div>-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                            <div style="-->
                                                        <!--    z-index: 999;-->
                                                        <!--    position: absolute;-->
                                                        <!--    bottom: 26px;-->
                                                        <!--    font-size: 14.5px;-->
                                                        <!--    text-align: center;-->
                                                        <!--    font-weight: 600;-->
                                                        <!--    left: 0;-->
                                                        <!--    right: 0;-->
                                                        <!--">-->
                                                        <!--                                                                מתבצע סינכרון-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                        </ng-template>-->
                                                    </div>

                                                </ng-template>
                                            </app-dropdown-wrap>
                                        </div>
                                        <div *ngIf="!(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"
                                             style="align-self: stretch; width: 11px; height: auto"
                                        ></div>
                                        <div *ngIf="!(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"
                                             [class.disabled]="
                        arrReceipt.controls[i].get('total').disabled
                      "
                                             [class.invalid]="
                        arrReceipt.controls[i].get('total').enabled &&
                        (arrReceipt.controls[i].get('total').invalid ||
                          getNum(arrReceipt.controls[i].get('total').value) ===
                            0) && !journalPaymentPrompt
                      "
                                             class="input"
                                             style="width: 83px"
                                        >
                                            <input
                                                    (keyup)="calcReceipt(false, i, 'total')"
                                                    appNumbersOnly="positive"
                                                    autocomplete="off"
                                                    formControlName="total"
                                            />

                                            <app-sum-view
                                                    *ngIf="arrReceipt.controls[i].get('total').value"
                                                    [sum]="arrReceipt.controls[i].get('total').value"
                                                    class="text-item text-ellipsis"
                                            ></app-sum-view>

                                            <p
                                                    *ngIf="!arrReceipt.controls[i].get('total').value"
                                                    class="text-item text-ellipsis"
                                            >
                                                0
                                            </p>
                                        </div>
                                    </div>

                                    <div
                                            *ngIf="item.get('show_taxDeductionCustId').value"
                                            class="flex"
                                            style="
                      margin-bottom: 10px;
                      justify-content: space-between;
                      align-items: flex-start;
                      position: relative;
                    "
                                    >
                                        <ng-container
                                                *ngIf="
                        arrReceipt.controls[i].get('taxDeductionCustId').value;
                        else alertNull
                      "
                                        >
                                            <div [ngStyle]="{
                                        width: (srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)) ? '170px' : '185px',
                                        'min-width': (srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)) ? '170px' : '185px'
                                        }"
                                                 style="width: 195px; min-width: 195px">
                                                <!-- taxDeductionCustId ניקוי מס-->

                                                <app-dropdown-wrap
                                                    #ccc
                                                    #formDropdowns
                                                    (onChange)="setTaxDeductionCustIdReceipt(i)"
                                                    [autoDisplayFirst]="false"
                                                    [class.invalid]="
                            arrReceipt.controls[i].get('taxDeductionCustId')
                              .enabled &&
                            arrReceipt.controls[i].get('taxDeductionCustId')
                              .invalid && !journalPaymentPrompt
                          "
                                                    [dropdownIcon]="'fa fa-fw fa-caret-down'"
                                                    [filter]="true"
                                                    [options]="
                            userService.appData.userData.companyCustomerDetails
                              ? arrReceipt.controls[i].get('taxDeductionCustId')
                                  .disabled
                                ? userService.appData.userData
                                    .companyCustomerDetails.all
                                : rowToSplit?.hova
                                ? userService.appData.userData
                                    .companyCustomerDetails
                                    .customerTaxDeductionCustIdExpenseArr
                                : userService.appData.userData
                                    .companyCustomerDetails.taxDeductionArr
                              : []
                          "
                                                    [style]="{ width: (srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)) ? '170px' : '185px' }"


                                                    [virtualScrollItemSize]="38"
                                                    [virtualScroll]="true"
                                                    appendTo="body"
                                                    dataKey="custId"
                                                    emptyFilterMessage="לא נמצאו תוצאות"
                                                    filterBy="lName,custId,hp"
                                                    formControlName="taxDeductionCustId"
                                                    name="taxDeductionCustId"

                                                    optionLabel="custId"
                                                    panelStyleClass="company-customer-dropdown-panel cardsDD card195"
                                                    placeholder="בחירה"
                                                >
                                                    <ng-template let-item pTemplate="selectedItem">
                            <span
                                #spanElement
                                [pTooltip]="item.cartisName"
                                [tooltipDisabled]="
                                spanElement.offsetWidth >=
                                spanElement.scrollWidth
                              "
                                style="
                                vertical-align: middle;
                                display: block;
                                white-space: nowrap;
                                overflow: hidden;
                                text-overflow: ellipsis;
                                line-height: 20px;
                              "
                                tooltipPosition="top"
                            >{{ item.cartisName }}</span
                            >
                                                    </ng-template>

                                                    <!--                                                    [ngStyle]="((arrReceipt.controls[i].get('taxDeductionCustId').value && arrReceipt.controls[i].get('taxDeductionCustId').value.custId && arrReceipt.controls[i].get('taxDeductionCustId').value.custId === item.custId)-->
                                                    <!--                                                    ) ? {'opacity': '0.4', 'cursor': 'default'} : ''"-->
                                                    <!--                                                    (click)="((arrReceipt.controls[i].get('taxDeductionCustId').value && arrReceipt.controls[i].get('taxDeductionCustId').value.custId && arrReceipt.controls[i].get('taxDeductionCustId').value.custId === item.custId)-->
                                                    <!--                                                    ) ? $event.stopPropagation() : null"-->
                                                    <ng-template let-item pTemplate="item">
                                                        <div
                                                                class="p-helper-clearfix"
                                                                style="flex-flow: column"
                                                        >
                                                            <div>
                      <span class="text-ellipsis">{{
                          item.custId
                          }}
                          {{item.lName ? (' - ' + item.lName) : ''}}
                      </span>
                                                            </div>


                                                        </div>
                                                    </ng-template>

                                                    <!--                                                <ng-template pTemplate="noItem">-->
                                                    <!--                                                    <div class="p-helper-clearfix"-->
                                                    <!--                                                         style="font-size: .95em; padding: .3em 1em;">-->
                                                    <!--                                                        <div>לא מצאת את הכרטיס שחיפשת?</div>-->
                                                    <!--                                                        <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                    <!--                                                        <button class="button-link"-->
                                                    <!--                                                                style="padding: 0; font-size: inherit;"-->
                                                    <!--                                                                (click)="getCompanyCustomerDetails();ccc.putStyle(); $event.stopPropagation()">-->
                                                    <!--                                                            ולחצו על-->
                                                    <!--                                                            רענון הנתונים-->
                                                    <!--                                                        </button>-->
                                                    <!--                                                    </div>-->
                                                    <!--                                                </ng-template>-->

                                                    <ng-template pTemplate="empty">
                                                        <div
                                                                class="p-helper-clearfix"
                                                                style="font-size: 0.95em; padding: 0.3em 1em"
                                                        >
                                                            <ng-container>
                                                                <!--                                                                <div>לא מצאת את הכרטיס?</div>-->
                                                                <!--                                                                <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                                <!--                                                                <div>-->
                                                                <!--                                                                    ובנתיים-->
                                                                <!--                                                                    <button class="button-link"-->
                                                                <!--                                                                            style="padding: 0; font-size: inherit; text-decoration: underline"-->
                                                                <!--                                                                            (click)="setValCartisModal(formDropdowns, arrReceipt.controls[i].get('taxDeductionCustId'));  getCompanyCustomerDetailsTimer();">-->
                                                                <!--                                                                        לחצו לעדכון-->
                                                                <!--                                                                    </button>-->
                                                                <!--                                                                </div>-->

                                                                <div>לא מצאתם את הכרטיס שחיפשתם?</div>
                                                                <div>צרו כרטיס חדש בחשבשבת.</div>
                                                                <div>
                                                                    בינתיים ניתן לעדכן ידנית את
                                                                    <strong style="font-weight: 700">
                                                                        מפתח הכרטיס במדויק
                                                                    </strong>
                                                                    <br/>
                                                                    עד שנמשוך את פרטי הכרטיס.
                                                                </div>
                                                                <button
                                                                        (click)="
                                    setValCartisModal(
                                      formDropdowns,
                                      arrReceipt.controls[i].get(
                                        'taxDeductionCustId'
                                      )
                                    );
                                    getCompanyCustomerDetailsTimer()
                                  "
                                                                        class="button-link"
                                                                        style="
                                    padding: 0;
                                    font-size: inherit;
                                    text-decoration: underline;
                                  "
                                                                >
                                                                    לעדכון ידני לחצו פה
                                                                </button>
                                                            </ng-container>

                                                            <!--                                                            <ng-container *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                                                            <!--                                                                <div>לא מצאתם את הכרטיס שחיפשתם?</div>-->
                                                            <!--                                                                <div>צרו כרטיס חדש בחשבשבת.</div>-->
                                                            <!--                                                                <div>-->
                                                            <!--                                                                    בנתיים ניתן לעדכן ידנית עד שנמשוך <br>-->
                                                            <!--                                                                    את פרטי הכרטיס.-->
                                                            <!--                                                                </div>-->
                                                            <!--                                                                <button class="button-link" style="padding: 0; font-size: inherit;"-->
                                                            <!--                                                                        (click)="setValCartisModal(formDropdowns, arrReceipt.controls[i].get('taxDeductionCustId')); formDropdowns.putStyle(); getCompanyCustomerDetailsTimer(); $event.stopPropagation()">-->
                                                            <!--                                                                    לעדכון ידני לחצו פה-->
                                                            <!--                                                                </button>-->
                                                            <!--                                                            </ng-container>-->
                                                            <!--                                                            <ng-template #loader>-->
                                                            <!--                                                                <div style="height: 84px;">-->
                                                            <!--                                                                    <div class="loaderPercent blueCircle"-->
                                                            <!--                                                                         style="background: #e6e5e5;">-->
                                                            <!--                                                                        <div class="circle"></div>-->
                                                            <!--                                                                    </div>-->
                                                            <!--                                                                </div>-->
                                                            <!--                                                                <div style="-->
                                                            <!--    z-index: 999;-->
                                                            <!--    position: absolute;-->
                                                            <!--    bottom: 26px;-->
                                                            <!--    font-size: 14.5px;-->
                                                            <!--    text-align: center;-->
                                                            <!--    font-weight: 600;-->
                                                            <!--    left: 0;-->
                                                            <!--    right: 0;-->
                                                            <!--">-->
                                                            <!--                                                                    מתבצע סינכרון-->
                                                            <!--                                                                </div>-->
                                                            <!--                                                            </ng-template>-->
                                                        </div>

                                                    </ng-template>
                                                    <ng-template pTemplate="emptyfilter">
                                                        <div
                                                                class="p-helper-clearfix"
                                                                style="font-size: 0.95em; padding: 0.3em 1em"
                                                        >
                                                            <ng-container>
                                                                <!--                                                                <div>לא מצאת את הכרטיס?</div>-->
                                                                <!--                                                                <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                                <!--                                                                <div>-->
                                                                <!--                                                                    ובנתיים-->
                                                                <!--                                                                    <button class="button-link"-->
                                                                <!--                                                                            style="padding: 0; font-size: inherit; text-decoration: underline"-->
                                                                <!--                                                                            (click)="setValCartisModal(formDropdowns, arrReceipt.controls[i].get('taxDeductionCustId'));  getCompanyCustomerDetailsTimer();">-->
                                                                <!--                                                                        לחצו לעדכון-->
                                                                <!--                                                                    </button>-->
                                                                <!--                                                                </div>-->

                                                                <div>לא מצאתם את הכרטיס שחיפשתם?</div>
                                                                <div>צרו כרטיס חדש בחשבשבת.</div>
                                                                <div>
                                                                    בינתיים ניתן לעדכן ידנית את
                                                                    <strong style="font-weight: 700">
                                                                        מפתח הכרטיס במדויק
                                                                    </strong>
                                                                    <br/>
                                                                    עד שנמשוך את פרטי הכרטיס.
                                                                </div>
                                                                <button
                                                                        (click)="
                                    setValCartisModal(
                                      formDropdowns,
                                      arrReceipt.controls[i].get(
                                        'taxDeductionCustId'
                                      )
                                    );
                                    getCompanyCustomerDetailsTimer()
                                  "
                                                                        class="button-link"
                                                                        style="
                                    padding: 0;
                                    font-size: inherit;
                                    text-decoration: underline;
                                  "
                                                                >
                                                                    לעדכון ידני לחצו פה
                                                                </button>
                                                            </ng-container>

                                                            <!--                                                            <ng-container *ngIf="!loaderGetCompanyCustomerDetails; else loader">-->
                                                            <!--                                                                <div>לא מצאתם את הכרטיס שחיפשתם?</div>-->
                                                            <!--                                                                <div>צרו כרטיס חדש בחשבשבת.</div>-->
                                                            <!--                                                                <div>-->
                                                            <!--                                                                    בנתיים ניתן לעדכן ידנית עד שנמשוך <br>-->
                                                            <!--                                                                    את פרטי הכרטיס.-->
                                                            <!--                                                                </div>-->
                                                            <!--                                                                <button class="button-link" style="padding: 0; font-size: inherit;"-->
                                                            <!--                                                                        (click)="setValCartisModal(formDropdowns, arrReceipt.controls[i].get('taxDeductionCustId')); formDropdowns.putStyle(); getCompanyCustomerDetailsTimer(); $event.stopPropagation()">-->
                                                            <!--                                                                    לעדכון ידני לחצו פה-->
                                                            <!--                                                                </button>-->
                                                            <!--                                                            </ng-container>-->
                                                            <!--                                                            <ng-template #loader>-->
                                                            <!--                                                                <div style="height: 84px;">-->
                                                            <!--                                                                    <div class="loaderPercent blueCircle"-->
                                                            <!--                                                                         style="background: #e6e5e5;">-->
                                                            <!--                                                                        <div class="circle"></div>-->
                                                            <!--                                                                    </div>-->
                                                            <!--                                                                </div>-->
                                                            <!--                                                                <div style="-->
                                                            <!--    z-index: 999;-->
                                                            <!--    position: absolute;-->
                                                            <!--    bottom: 26px;-->
                                                            <!--    font-size: 14.5px;-->
                                                            <!--    text-align: center;-->
                                                            <!--    font-weight: 600;-->
                                                            <!--    left: 0;-->
                                                            <!--    right: 0;-->
                                                            <!--">-->
                                                            <!--                                                                    מתבצע סינכרון-->
                                                            <!--                                                                </div>-->
                                                            <!--                                                            </ng-template>-->
                                                        </div>

                                                    </ng-template>

                                                </app-dropdown-wrap>

                                                <div
                                                        *ngIf="
                            arrReceipt.controls[i].get('taxDeductionCustId')
                              .disabled
                          "
                                                        style="font-weight: bold; line-height: 14px"
                                                >
                                                    נעול בהתאם לסוג תנועה
                                                </div>
                                            </div>
                                            <ng-container
                                                    *ngIf="(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))">
                                                <mat-icon
                                                        (click)="
                            item
                              .get('show_taxDeductionCustId')
                              .patchValue(false);
                            calcDisabledPaymentTotal(i);
                            item.get(srcCurrencyId === 1 ? 'paymentNikui' : 'paymentNikuiMatah').patchValue(0);
                            calcReceipt(false, i, srcCurrencyId === 1 ? 'paymentNikui' : 'paymentNikuiMatah')
                          "
                                                        *ngIf="
                            !arrReceipt.controls[i].get('taxDeductionCustId')
                              .disabled
                          "
                                                        style="
                            color: #022258;
                            position: absolute;
                            left: -16px;
                            top: 4px;
                            margin-right: 3px;
                            cursor: pointer;
                            width: 15px;
                            height: 15px;
                            display: block;
                          "
                                                        svgIcon="trash"
                                                >
                                                </mat-icon>
                                            </ng-container>

                                            <div
                                                    *ngIf="!(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"
                                                    style="align-self: stretch; width: 11px; height: auto"
                                            ></div>
                                            <div *ngIf="!(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"
                                                 [class.disabled]="
                          arrReceipt.controls[i].get('paymentNikui').disabled
                        "
                                                 [class.invalid]="
                          arrReceipt.controls[i].get('paymentNikui').enabled &&
                          arrReceipt.controls[i].get('paymentNikui').invalid &&
                          this.getNum(
                            arrReceipt.controls[i].get('paymentNikui').value
                          ) !== 0 && !journalPaymentPrompt
                        "
                                                 class="input"
                                                 style="width: 83px; position: relative"
                                            >
                                                <input
                                                        (keyup)="calcReceipt(false, i, 'paymentNikui')"
                                                        appNumbersOnly="positive"
                                                        autocomplete="off"
                                                        formControlName="paymentNikui"
                                                />

                                                <app-sum-view
                                                        *ngIf="
                            arrReceipt.controls[i].get('paymentNikui').value
                          "
                                                        [sum]="
                            arrReceipt.controls[i].get('paymentNikui').value
                          "
                                                        class="text-item text-ellipsis"
                                                ></app-sum-view>

                                                <p
                                                        *ngIf="
                            !arrReceipt.controls[i].get('paymentNikui').value
                          "
                                                        class="text-item text-ellipsis"
                                                >
                                                    0
                                                </p>

                                                <mat-icon
                                                        (click)="
                            item
                              .get('show_taxDeductionCustId')
                              .patchValue(false);
                            calcDisabledPaymentTotal(i);
                            item.get('paymentNikui').patchValue(0);
                            calcReceipt(false, i, 'paymentNikui')
                          "
                                                        *ngIf="
                            !arrReceipt.controls[i].get('taxDeductionCustId')
                              .disabled
                          "
                                                        style="
                            color: #022258;
                            position: absolute;
                            left: -16px;
                            top: 4px;
                            margin-right: 3px;
                            cursor: pointer;
                            width: 15px;
                            height: 15px;
                            display: block;
                          "
                                                        svgIcon="trash"
                                                >
                                                </mat-icon>
                                            </div>
                                        </ng-container>
                                        <ng-template #alertNull>
                                            <div *ngIf="!(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"
                                                 style="color: #cd1010">
                                                יש להגדיר כרטיס ניכוי מס במסך נתוני חברה
                                            </div>
                                            <div *ngIf="(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"
                                                 style="color: #cd1010">
                                                יש להגדיר כרטיס ניכוי
                                                <br>
                                                מס במסך נתוני חברה
                                            </div>
                                        </ng-template>
                                    </div>

                                    <div
                                            *ngIf="!item.get('show_taxDeductionCustId').value && !journalPaymentPrompt"
                                            class="flex"
                                            style="margin-bottom: 10px; justify-content: space-between">
                                        <div
                                                (click)="
                        item.get('show_taxDeductionCustId').patchValue(true);
                        calcDisabledPaymentTotal(i)
                      "
                                                class="link"
                                                style="
                        position: relative;
                        display: flex;
                        align-items: center;
                        cursor: pointer;
                      "
                                        >
                                            <img
                                                    src="/assets/images/plusIconAsmachta.png"
                                                    style="padding-left: 5px"
                                            />
                                            הוספת ניכוי
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                            <ng-template #incomeTemp>
                                <div>
                                    <div
                                            class="flex"
                                            style="
                      margin-bottom: 10px;
                      justify-content: space-between;
                      align-items: flex-start;
                    "
                                    >
                                        <div [ngStyle]="{
                                        width: (srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)) ? '170px' : '185px',
                                        'min-width': (srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)) ? '170px' : '185px'
                                        }"
                                             style="width: 195px; min-width: 195px">
                                            <!-- paymentCustId קופה-->
                                            <app-dropdown-wrap
                                                #bbb
                                                #formDropdowns
                                                (onChange)="selectCustCard(i)"
                                                (onShow)="disabledValues([arrReceipt.controls[i].get('taxDeductionCustId').value, arrReceipt.controls[i].get('custId').value])"
                                                [autoDisplayFirst]="false"
                                                [class.invalid]="
                          arrReceipt.controls[i].get('paymentCustId').enabled &&
                          arrReceipt.controls[i].get('paymentCustId').invalid && !journalPaymentPrompt
                        "
                                                [dropdownIcon]="'fa fa-fw fa-caret-down'"
                                                [filter]="true"
                                                [options]="
                          userService.appData.userData.companyCustomerDetails.all
                        "
                                                [style]="{ width: (srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)) ? '170px' : '185px' }"
                                                [virtualScrollItemSize]="38"
                                                [virtualScroll]="true"
                                                appendTo="body"
                                                dataKey="custId"
                                                emptyFilterMessage="לא נמצאו תוצאות"
                                                filterBy="lName,custId,hp"
                                                formControlName="paymentCustId"
                                                name="paymentCustId"

                                                optionDisabled="disabledVal"
                                                optionLabel="custId"
                                                panelStyleClass="company-customer-dropdown-panel cardsDD card195"
                                                placeholder="בחירה"
                                            >
                                                <ng-template let-item pTemplate="selectedItem">
                          <span
                              #spanElement
                              [pTooltip]="item.cartisName"
                              [tooltipDisabled]="
                              spanElement.offsetWidth >= spanElement.scrollWidth
                            "
                              style="
                              vertical-align: middle;
                              display: block;
                              white-space: nowrap;
                              overflow: hidden;
                              text-overflow: ellipsis;
                              line-height: 20px;
                            "
                              tooltipPosition="top"
                          >{{ item.cartisName }}</span
                          >
                                                </ng-template>

                                                <ng-template let-item pTemplate="item">
                                                    <div

                                                            [ngStyle]="
                              (arrReceipt.controls[i].get('taxDeductionCustId')
                                .value &&
                                arrReceipt.controls[i].get('taxDeductionCustId')
                                  .value.custId &&
                                arrReceipt.controls[i].get('taxDeductionCustId')
                                  .value.custId === item.custId) ||
                              (arrReceipt.controls[i].get('custId').value &&
                                arrReceipt.controls[i].get('custId').value
                                  .custId &&
                                arrReceipt.controls[i].get('custId').value
                                  .custId === item.custId)
                                ? { opacity: '0.4', cursor: 'default' }
                                : {}
                            "
                                                            class="p-helper-clearfix"
                                                            style="flex-flow: column"
                                                    >
                                                        <div>
                      <span class="text-ellipsis">{{
                          item.custId
                          }}
                          {{item.lName ? (' - ' + item.lName) : ''}}
                      </span>
                                                        </div>
                                                        <div style="font-size: 12px">
                        <span

                                class="text-ellipsis secondary"
                        >




                                     <ng-container
                                             *ngIf="
                                arrReceipt.controls[i].get('custId').value &&
                                arrReceipt.controls[i].get('custId').value
                                  .custId &&
                                arrReceipt.controls[i].get('custId').value
                                  .custId === item.custId
                              "

                                     >
                                                    הכרטיס כבר נבחר בכרטיס
                                         {{ fileStatus === 'BANK' ? 'בנק' : 'אשראי' }}
                                                </ng-container>
                                                <ng-container
                                                        *ngIf="
                                arrReceipt.controls[i].get('taxDeductionCustId')
                                  .value &&
                                arrReceipt.controls[i].get('taxDeductionCustId')
                                  .value.custId &&
                                arrReceipt.controls[i].get('taxDeductionCustId')
                                  .value.custId === item.custId
                              "

                                                >
                                                    הכרטיס כבר נבחר בכרטיס ניכוי מס
                                                </ng-container>

						</span>
                                                        </div>

                                                    </div>
                                                </ng-template>


                                                <ng-template pTemplate="empty">
                                                    <div
                                                            class="p-helper-clearfix"
                                                            style="font-size: 0.95em; padding: 0.3em 1em"
                                                    >
                                                        <ng-container>
                                                            <div>לא מצאתם את הכרטיס שחיפשתם?</div>
                                                            <button
                                                                    (click)="
                                  cupaAllTheOptions_paymentCustId = true;
                                  $event.stopPropagation()
                                "
                                                                    *ngIf="!cupaAllTheOptions_paymentCustId"
                                                                    class="button-link"
                                                                    style="padding: 0; font-size: inherit"
                                                            >
                                                                חפשו בין כל הכרטיסים בהנה״ח
                                                            </button>
                                                            <ng-container
                                                                    *ngIf="cupaAllTheOptions_paymentCustId"
                                                            >
                                                                <!--                                                                <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                                <!--                                                                <div>-->
                                                                <!--                                                                    ובנתיים-->
                                                                <!--                                                                    <button class="button-link"-->
                                                                <!--                                                                            style="padding: 0; font-size: inherit; text-decoration: underline"-->
                                                                <!--                                                                            (click)="setValCartisModal(formDropdowns, arrReceipt.controls[i].get('paymentCustId'));  getCompanyCustomerDetailsTimer();">-->
                                                                <!--                                                                        לחצו לעדכון-->
                                                                <!--                                                                    </button>-->
                                                                <!--                                                                </div>-->

                                                                <div>צרו כרטיס חדש בחשבשבת.</div>
                                                                <div>
                                                                    בינתיים ניתן לעדכן ידנית את
                                                                    <strong style="font-weight: 700">
                                                                        מפתח הכרטיס במדויק
                                                                    </strong>
                                                                    <br/>
                                                                    עד שנמשוך את פרטי הכרטיס.
                                                                </div>
                                                                <button
                                                                        (click)="
                                    setValCartisModal(
                                      formDropdowns,
                                      arrReceipt.controls[i].get(
                                        'paymentCustId'
                                      )
                                    );
                                    getCompanyCustomerDetailsTimer()
                                  "
                                                                        class="button-link"
                                                                        style="
                                    padding: 0;
                                    font-size: inherit;
                                    text-decoration: underline;
                                  "
                                                                >
                                                                    לעדכון ידני לחצו פה
                                                                </button>
                                                            </ng-container>
                                                        </ng-container>

                                                        <!--                                                        <ng-template #loader>-->
                                                        <!--                                                            <div style="height: 84px;">-->
                                                        <!--                                                                <div class="loaderPercent blueCircle"-->
                                                        <!--                                                                     style="background: #e6e5e5;">-->
                                                        <!--                                                                    <div class="circle"></div>-->
                                                        <!--                                                                </div>-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                            <div style="-->
                                                        <!--    z-index: 999;-->
                                                        <!--    position: absolute;-->
                                                        <!--    bottom: 26px;-->
                                                        <!--    font-size: 14.5px;-->
                                                        <!--    text-align: center;-->
                                                        <!--    font-weight: 600;-->
                                                        <!--    left: 0;-->
                                                        <!--    right: 0;-->
                                                        <!--">-->
                                                        <!--                                                                מתבצע סינכרון-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                        </ng-template>-->
                                                    </div>

                                                </ng-template>
                                                <ng-template pTemplate="emptyfilter">
                                                    <div
                                                            class="p-helper-clearfix"
                                                            style="font-size: 0.95em; padding: 0.3em 1em"
                                                    >
                                                        <ng-container>
                                                            <div>לא מצאתם את הכרטיס שחיפשתם?</div>
                                                            <button
                                                                    (click)="
                                  cupaAllTheOptions_paymentCustId = true;
                                  $event.stopPropagation()
                                "
                                                                    *ngIf="!cupaAllTheOptions_paymentCustId"
                                                                    class="button-link"
                                                                    style="padding: 0; font-size: inherit"
                                                            >
                                                                חפשו בין כל הכרטיסים בהנה״ח
                                                            </button>
                                                            <ng-container
                                                                    *ngIf="cupaAllTheOptions_paymentCustId"
                                                            >
                                                                <!--                                                                <div>צרו כרטיס חדש בהנה"ח</div>-->
                                                                <!--                                                                <div>-->
                                                                <!--                                                                    ובנתיים-->
                                                                <!--                                                                    <button class="button-link"-->
                                                                <!--                                                                            style="padding: 0; font-size: inherit; text-decoration: underline"-->
                                                                <!--                                                                            (click)="setValCartisModal(formDropdowns, arrReceipt.controls[i].get('paymentCustId'));  getCompanyCustomerDetailsTimer();">-->
                                                                <!--                                                                        לחצו לעדכון-->
                                                                <!--                                                                    </button>-->
                                                                <!--                                                                </div>-->

                                                                <div>צרו כרטיס חדש בחשבשבת.</div>
                                                                <div>
                                                                    בינתיים ניתן לעדכן ידנית את
                                                                    <strong style="font-weight: 700">
                                                                        מפתח הכרטיס במדויק
                                                                    </strong>
                                                                    <br/>
                                                                    עד שנמשוך את פרטי הכרטיס.
                                                                </div>
                                                                <button
                                                                        (click)="
                                    setValCartisModal(
                                      formDropdowns,
                                      arrReceipt.controls[i].get(
                                        'paymentCustId'
                                      )
                                    );
                                    getCompanyCustomerDetailsTimer()
                                  "
                                                                        class="button-link"
                                                                        style="
                                    padding: 0;
                                    font-size: inherit;
                                    text-decoration: underline;
                                  "
                                                                >
                                                                    לעדכון ידני לחצו פה
                                                                </button>
                                                            </ng-container>
                                                        </ng-container>

                                                        <!--                                                        <ng-template #loader>-->
                                                        <!--                                                            <div style="height: 84px;">-->
                                                        <!--                                                                <div class="loaderPercent blueCircle"-->
                                                        <!--                                                                     style="background: #e6e5e5;">-->
                                                        <!--                                                                    <div class="circle"></div>-->
                                                        <!--                                                                </div>-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                            <div style="-->
                                                        <!--    z-index: 999;-->
                                                        <!--    position: absolute;-->
                                                        <!--    bottom: 26px;-->
                                                        <!--    font-size: 14.5px;-->
                                                        <!--    text-align: center;-->
                                                        <!--    font-weight: 600;-->
                                                        <!--    left: 0;-->
                                                        <!--    right: 0;-->
                                                        <!--">-->
                                                        <!--                                                                מתבצע סינכרון-->
                                                        <!--                                                            </div>-->
                                                        <!--                                                        </ng-template>-->
                                                    </div>

                                                </ng-template>
                                            </app-dropdown-wrap>

                                            <div
                                                    *ngIf="
                          arrReceipt.controls[i].get('paymentCustId').disabled
                        "
                                                    style="font-weight: bold; line-height: 14px"
                                            >
                                                נעול בהתאם לסוג תנועה
                                            </div>
                                        </div>
                                        <div *ngIf="!(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"
                                             style="align-self: stretch; width: 11px; height: auto"
                                        ></div>
                                        <div *ngIf="!(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"
                                             [class.disabled]="
                        arrReceipt.controls[i].get('paymentTotal').disabled
                      "
                                             [class.invalid]="
                        arrReceipt.controls[i].get('paymentTotal').enabled &&
                        (arrReceipt.controls[i].get('paymentTotal').invalid ||
                          getNum(
                            arrReceipt.controls[i].get('paymentTotal').value
                          ) === 0)&& !journalPaymentPrompt
                      "
                                             class="input"
                                             style="width: 83px"
                                        >
                                            <input
                                                    (keyup)="calcReceipt(false, i, 'paymentTotal')"
                                                    appNumbersOnly="positive"
                                                    autocomplete="off"
                                                    formControlName="paymentTotal"
                                            />

                                            <app-sum-view
                                                    *ngIf="arrReceipt.controls[i].get('paymentTotal').value"
                                                    [sum]="arrReceipt.controls[i].get('paymentTotal').value"
                                                    class="text-item text-ellipsis"
                                            ></app-sum-view>

                                            <p
                                                    *ngIf="
                          !arrReceipt.controls[i].get('paymentTotal').value
                        "
                                                    class="text-item text-ellipsis"
                                            >
                                                0
                                            </p>
                                        </div>
                                    </div>
                                    <!--                                    *ngIf="((!rowToSplit?.hova || (rowToSplit?.hova && report856)))"-->

                                    <div
                                            *ngIf="
                      arrReceipt.controls[i].get('custId').value &&
                      arrReceipt.controls[i].get('paymentCustId').value &&
                      arrReceipt.controls[i].get('custId').value.custId ===
                        arrReceipt.controls[i].get('paymentCustId').value.custId
                    "
                                            class="flex"
                                            style="
                      margin-bottom: 10px;
                      justify-content: space-between;
                      color: #cd1010;
                    "
                                    >
                                        לא ניתן לבחור שני כרטיסים זהים
                                    </div>
                                </div>
                            </ng-template>

                            <ng-template #expenseTempILS>
                                <div>
                                    <div>
                                        <div
                                                [class.disabled]="
                        arrReceipt.controls[i].get('total').disabled
                      "
                                                [class.invalid]="
                        arrReceipt.controls[i].get('total').enabled &&
                        (arrReceipt.controls[i].get('total').invalid ||
                          getNum(arrReceipt.controls[i].get('total').value) ===
                            0) && !journalPaymentPrompt
                      "
                                                class="input"
                                                style="width: 85px; display: flex"
                                        >
                                            <input
                                                    (keyup)="calcReceipt(false, i, 'total')"
                                                    appNumbersOnly="positive"
                                                    autocomplete="off"
                                                    formControlName="total"
                                            />

                                            <app-sum-view
                                                    *ngIf="arrReceipt.controls[i].get('total').value"
                                                    [sum]="arrReceipt.controls[i].get('total').value"
                                                    class="text-item text-ellipsis"
                                                    style="padding-left: 0"
                                            ></app-sum-view>

                                            <p
                                                    *ngIf="!arrReceipt.controls[i].get('total').value"
                                                    class="text-item text-ellipsis"
                                            >
                                                0
                                            </p>
                                        </div>
                                    </div>
                                    <div
                                            *ngIf="item.get('show_taxDeductionCustId').value"
                                    >
                                        <ng-container
                                                *ngIf="
                        arrReceipt.controls[i].get('taxDeductionCustId').value;
                        else alertNull
                      "
                                        >
                                            <div
                                                    [class.disabled]="
                          arrReceipt.controls[i].get('paymentNikui').disabled
                        "
                                                    [class.invalid]="
                          arrReceipt.controls[i].get('paymentNikui').enabled &&
                          arrReceipt.controls[i].get('paymentNikui').invalid &&
                          this.getNum(
                            arrReceipt.controls[i].get('paymentNikui').value
                          ) !== 0 && !journalPaymentPrompt
                        "
                                                    class="input"
                                                    style="width: 85px; display: flex; position: relative"
                                            >
                                                <input
                                                        (keyup)="calcReceipt(false, i, 'paymentNikui')"
                                                        appNumbersOnly="positive"
                                                        autocomplete="off"
                                                        formControlName="paymentNikui"
                                                />

                                                <app-sum-view
                                                        *ngIf="
                            arrReceipt.controls[i].get('paymentNikui').value
                          "
                                                        [sum]="
                            arrReceipt.controls[i].get('paymentNikui').value
                          "
                                                        class="text-item text-ellipsis"
                                                        style="padding-left: 0"
                                                ></app-sum-view>

                                                <p
                                                        *ngIf="
                            !arrReceipt.controls[i].get('paymentNikui').value
                          "
                                                        class="text-item text-ellipsis"
                                                >
                                                    0
                                                </p>

                                                <!--                                                <mat-icon-->
                                                <!--                                                        (click)="-->
                                                <!--                            item-->
                                                <!--                              .get('show_taxDeductionCustId')-->
                                                <!--                              .patchValue(false);-->
                                                <!--                            calcDisabledPaymentTotal(i);-->
                                                <!--                            item.get('paymentNikui').patchValue(0);-->
                                                <!--                            calcReceipt(false, i, 'paymentNikui')-->
                                                <!--                          "-->
                                                <!--                                                        *ngIf="-->
                                                <!--                            !arrReceipt.controls[i].get('taxDeductionCustId')-->
                                                <!--                              .disabled-->
                                                <!--                          "-->
                                                <!--                                                        style="-->
                                                <!--                            color: #022258;-->
                                                <!--                            position: absolute;-->
                                                <!--                            left: -16px;-->
                                                <!--                            top: 4px;-->
                                                <!--                            margin-right: 3px;-->
                                                <!--                            cursor: pointer;-->
                                                <!--                            width: 15px;-->
                                                <!--                            height: 15px;-->
                                                <!--                            display: block;-->
                                                <!--                          "-->
                                                <!--                                                        svgIcon="trash"-->
                                                <!--                                                >-->
                                                <!--                                                </mat-icon>-->
                                            </div>
                                        </ng-container>
                                        <ng-template #alertNull>
                                            <div>&nbsp;</div>
                                        </ng-template>
                                    </div>
                                </div>
                            </ng-template>
                            <ng-template #incomeTempILS>
                                <div>
                                    <div>
                                        <div [class.disabled]="
                        arrReceipt.controls[i].get('paymentTotal').disabled
                      "
                                             [class.invalid]="
                        arrReceipt.controls[i].get('paymentTotal').enabled &&
                        (arrReceipt.controls[i].get('paymentTotal').invalid ||
                          getNum(
                            arrReceipt.controls[i].get('paymentTotal').value
                          ) === 0)&& !journalPaymentPrompt
                      "
                                             class="input"
                                             style="width: 85px; display: flex">
                                            <input
                                                    (keyup)="calcReceipt(false, i, 'paymentTotal')"
                                                    appNumbersOnly="positive"
                                                    autocomplete="off"
                                                    formControlName="paymentTotal"
                                            />

                                            <app-sum-view
                                                    *ngIf="arrReceipt.controls[i].get('paymentTotal').value"
                                                    [sum]="arrReceipt.controls[i].get('paymentTotal').value"
                                                    class="text-item text-ellipsis"
                                                    style="padding-left: 0"
                                            ></app-sum-view>

                                            <p
                                                    *ngIf="
                          !arrReceipt.controls[i].get('paymentTotal').value
                        "
                                                    class="text-item text-ellipsis"
                                            >
                                                0
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>


                            <ng-template #expenseTempMatah>
                                <div>
                                    <div>
                                        <div
                                                [class.disabled]="
                        arrReceipt.controls[i].get('totalMatah').disabled
                      "
                                                [class.invalid]="
                        arrReceipt.controls[i].get('totalMatah').enabled &&
                        (arrReceipt.controls[i].get('totalMatah').invalid ||
                          getNum(arrReceipt.controls[i].get('totalMatah').value) ===
                            0) && !journalPaymentPrompt
                      "
                                                class="input"
                                                style="width: 85px; display: flex"
                                        >
                                            <input
                                                    (keyup)="calcReceipt(false, i, 'totalMatah')"
                                                    appNumbersOnly="positive"
                                                    autocomplete="off"
                                                    formControlName="totalMatah"
                                            />

                                            <app-sum-view
                                                    *ngIf="arrReceipt.controls[i].get('totalMatah').value"
                                                    [sum]="arrReceipt.controls[i].get('totalMatah').value"
                                                    class="text-item text-ellipsis"
                                                    style="padding-left: 0"
                                            ></app-sum-view>

                                            <p
                                                    *ngIf="!arrReceipt.controls[i].get('totalMatah').value"
                                                    class="text-item text-ellipsis"
                                            >
                                                0
                                            </p>
                                        </div>
                                    </div>
                                    <div
                                            *ngIf="item.get('show_taxDeductionCustId').value"
                                    >
                                        <ng-container
                                                *ngIf="
                        arrReceipt.controls[i].get('taxDeductionCustId').value;
                        else alertNull
                      "
                                        >
                                            <div
                                                    [class.disabled]="
                          arrReceipt.controls[i].get('paymentNikuiMatah').disabled
                        "
                                                    [class.invalid]="
                          arrReceipt.controls[i].get('paymentNikuiMatah').enabled &&
                          arrReceipt.controls[i].get('paymentNikuiMatah').invalid &&
                          this.getNum(
                            arrReceipt.controls[i].get('paymentNikuiMatah').value
                          ) !== 0 && !journalPaymentPrompt
                        "
                                                    class="input"
                                                    style="width: 85px; display: flex; position: relative"
                                            >
                                                <input
                                                        (keyup)="calcReceipt(false, i, 'paymentNikuiMatah')"
                                                        appNumbersOnly="positive"
                                                        autocomplete="off"
                                                        formControlName="paymentNikuiMatah"
                                                />

                                                <app-sum-view
                                                        *ngIf="
                            arrReceipt.controls[i].get('paymentNikuiMatah').value
                          "
                                                        [sum]="
                            arrReceipt.controls[i].get('paymentNikuiMatah').value
                          "
                                                        class="text-item text-ellipsis"
                                                        style="padding-left: 0"
                                                ></app-sum-view>

                                                <p
                                                        *ngIf="
                            !arrReceipt.controls[i].get('paymentNikuiMatah').value
                          "
                                                        class="text-item text-ellipsis"
                                                >
                                                    0
                                                </p>
                                                <!--                                                <mat-icon-->
                                                <!--                                                        (click)="-->
                                                <!--                            item-->
                                                <!--                              .get('show_taxDeductionCustId')-->
                                                <!--                              .patchValue(false);-->
                                                <!--                            calcDisabledPaymentTotal(i);-->
                                                <!--                            item.get('paymentNikui').patchValue(0);-->
                                                <!--                            calcReceipt(false, i, 'paymentNikui')-->
                                                <!--                          "-->
                                                <!--                                                        *ngIf="-->
                                                <!--                            !arrReceipt.controls[i].get('taxDeductionCustId')-->
                                                <!--                              .disabled-->
                                                <!--                          "-->
                                                <!--                                                        style="-->
                                                <!--                            color: #022258;-->
                                                <!--                            position: absolute;-->
                                                <!--                            left: -16px;-->
                                                <!--                            top: 4px;-->
                                                <!--                            margin-right: 3px;-->
                                                <!--                            cursor: pointer;-->
                                                <!--                            width: 15px;-->
                                                <!--                            height: 15px;-->
                                                <!--                            display: block;-->
                                                <!--                          "-->
                                                <!--                                                        svgIcon="trash"-->
                                                <!--                                                >-->
                                                <!--                                                </mat-icon>-->
                                                <!--                                                <mat-icon-->
                                                <!--                                                        (click)="-->
                                                <!--                            item-->
                                                <!--                              .get('show_taxDeductionCustId')-->
                                                <!--                              .patchValue(false);-->
                                                <!--                            calcDisabledPaymentTotal(i);-->
                                                <!--                            item.get('paymentNikuiMatah').patchValue(0);-->
                                                <!--                            calcReceipt(false, i, 'paymentNikuiMatah')-->
                                                <!--                          "-->
                                                <!--                                                        *ngIf="-->
                                                <!--                            !arrReceipt.controls[i].get('taxDeductionCustId')-->
                                                <!--                              .disabled-->
                                                <!--                          "-->
                                                <!--                                                        style="-->
                                                <!--                            color: #022258;-->
                                                <!--                            position: absolute;-->
                                                <!--                            left: -16px;-->
                                                <!--                            top: 4px;-->
                                                <!--                            margin-right: 3px;-->
                                                <!--                            cursor: pointer;-->
                                                <!--                            width: 15px;-->
                                                <!--                            height: 15px;-->
                                                <!--                            display: block;-->
                                                <!--                          "-->
                                                <!--                                                        svgIcon="trash"-->
                                                <!--                                                >-->
                                                <!--                                                </mat-icon>-->
                                            </div>
                                        </ng-container>
                                        <ng-template #alertNull>
                                            <div>&nbsp;</div>
                                        </ng-template>
                                    </div>
                                </div>
                            </ng-template>
                            <ng-template #incomeTempMatah>
                                <div>
                                    <div>
                                        <div [class.disabled]="
                        arrReceipt.controls[i].get('paymentTotalMatah').disabled
                      "
                                             [class.invalid]="
                        arrReceipt.controls[i].get('paymentTotalMatah').enabled &&
                        (arrReceipt.controls[i].get('paymentTotalMatah').invalid ||
                          getNum(
                            arrReceipt.controls[i].get('paymentTotalMatah').value
                          ) === 0)&& !journalPaymentPrompt
                      "
                                             class="input"
                                             style="width: 85px; display: flex"
                                        >
                                            <input
                                                    (keyup)="calcReceipt(false, i, 'paymentTotalMatah')"
                                                    appNumbersOnly="positive"
                                                    autocomplete="off"
                                                    formControlName="paymentTotalMatah"
                                            />

                                            <app-sum-view
                                                    *ngIf="arrReceipt.controls[i].get('paymentTotalMatah').value"
                                                    [sum]="arrReceipt.controls[i].get('paymentTotalMatah').value"
                                                    class="text-item text-ellipsis"
                                                    style="padding-left: 0"
                                            ></app-sum-view>

                                            <p
                                                    *ngIf="
                          !arrReceipt.controls[i].get('paymentTotalMatah').value
                        "
                                                    class="text-item text-ellipsis"
                                            >
                                                0
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>

                        </div>
                    </div>
                </div>

                <ng-container *ngIf="getJournalHistory; else loader">
                    <ng-container *ngIf="isSamePayment()">
                        <div
                                *ngFor="
                let item of getJournalHistory;
                let i = index;
                first as isFirst
              "
                                [class.first]="isFirst"
                                class="row"
                        >
                            <div class="dateFl">
                                <div
                                        *ngIf="isFirst"
                                        style="font-size: 16px; font-weight: 700; margin-bottom: 5px"
                                >
                                    היסטוריה
                                </div>
                                <div
                                        class="date flex"
                                        style="margin-bottom: 10px; justify-content: space-between"
                                >
                                    <p>תאריך</p>

                                    <div style="width: 85px">
                                        {{ item.referenceDate | date: 'dd/MM/yyyy' }}
                                    </div>
                                </div>
                                <div
                                        class="date flex"
                                        style="margin-bottom: 10px; justify-content: space-between"
                                >
                                    <p>תאריך ערך</p>

                                    <div style="width: 85px">
                                        {{ item.paymentDate | date: 'dd/MM/yyyy' }}
                                    </div>
                                </div>
                            </div>
                            <div class="border"></div>

                            <ng-container *ngIf="bankProcessTransType">
                                <div>
                                    {{ item.transTypeCode }}
                                </div>
                                <div class="border"></div>
                            </ng-container>

                            <ng-container
                                    *ngTemplateOutlet="rowToSplit?.hova ? expenseTemp : incomeTemp"
                            >
                            </ng-container>
                            <div class="border"></div>
                            <ng-container
                                    *ngTemplateOutlet="rowToSplit?.hova ? incomeTemp : expenseTemp"
                            >
                            </ng-container>


                            <ng-container
                                    *ngIf="srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)">
                                <div class="border"></div>
                                <ng-container
                                        *ngTemplateOutlet="
                  rowToSplit?.hova ? expenseTempSums : incomeTempSums
                "
                                >
                                </ng-container>
                                <ng-container
                                        *ngTemplateOutlet="
                  rowToSplit?.hova ? incomeTempSums : expenseTempSums
                "
                                >
                                </ng-container>
                            </ng-container>

                            <ng-container
                                    *ngIf="srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1)">
                                <div class="border"></div>
                                <ng-container
                                        *ngTemplateOutlet="
                  rowToSplit?.hova ? expenseMatahTemp : incomeMatahTemp
                "
                                >
                                </ng-container>
                                <ng-container
                                        *ngTemplateOutlet="
                  rowToSplit?.hova ? incomeMatahTemp : expenseMatahTemp
                "
                                >
                                </ng-container>
                            </ng-container>


                            <div class="border"></div>
                            <div style="position: relative">
                                <div class="flex" style="margin-bottom: 10px">
                                    <p style="width: 90px">
                                        אסמכ.

                                        <!--                                    {{fileFieldsForm.get('21')?.get('effectiveValue').value === 0 ?-->
                                        <!--                                        (incomeAsmachtaType === 2 ? '2' : '1')-->
                                        <!--                                        :-->
                                        <!--                                        (expenseAsmachtaType === 1 ? '1' : '2')}}-->
                                    </p>
                                    <div style="width: 91px; margin-left: 20px">
                                        <input
                                                [(ngModel)]="item.asmachta1"
                                                appNumbersOnly="positive"
                                                autocomplete="off"
                                                class="input-show"
                                                disabled
                                                readonly
                                        />
                                    </div>
                                    <p style="width: 40px">מנה</p>
                                    <div style="width: 65px">
                                        <input
                                                [(ngModel)]="item.batchNum"
                                                autocomplete="off"
                                                class="input-show"
                                                disabled
                                                readonly
                                        />
                                    </div>
                                </div>
                                <div class="flex" style="margin-bottom: 10px">
                                    <p style="width: 90px">אסמכ. תשלום</p>
                                    <div style="width: 91px; margin-left: 20px">
                                        <input
                                                [(ngModel)]="item.asmachta2"
                                                appNumbersOnly="positive"
                                                autocomplete="off"
                                                class="input-show"
                                                disabled
                                                readonly
                                        />
                                    </div>
                                    <p style="width: 40px">פקודה</p>
                                    <div style="width: 65px">
                                        <input
                                                [(ngModel)]="item.misparTnua"
                                                autocomplete="off"
                                                class="input-show"
                                                disabled
                                                readonly
                                        />
                                    </div>
                                </div>
                                <div class="flex">
                                    <p style="width: 90px">פרטים</p>
                                    <div style="max-width: 200px">
                                        <input
                                            #inputElement
                                            [(ngModel)]="item.details"
                                            [pTooltip]="item.details"
                                            [tooltipDisabled]="
                        inputElement.offsetWidth >= inputElement.scrollWidth
                      "
                                            autocomplete="off"
                                            class="input-show text-ellipsis"
                                            disabled
                                            readonly
                                            tooltipPosition="top"
                                        />
                                    </div>
                                </div>
                            </div>
                            <ng-template #expenseTemp>
                                <div>
                                    <div
                                            class="flex"
                                            style="margin-bottom: 10px; justify-content: space-between"
                                    >
                                        <div style="width: 195px; min-width: 195px">
                                            <div *ngIf="item.cust; else empty" class="p-dropdown">
                                                <label class="p-dropdown-label">
                          <span
                              #spanElement
                              [pTooltip]="item.cust.cartisName"
                              [tooltipDisabled]="
                              spanElement.offsetWidth >= spanElement.scrollWidth
                            "
                              style="
                              vertical-align: middle;
                              display: block;
                              white-space: nowrap;
                              overflow: hidden;
                              text-overflow: ellipsis;
                              line-height: 20px;
                            "
                              tooltipPosition="top"
                          >{{ item.cust.cartisName }}</span
                          >
                                                </label>
                                            </div>
                                        </div>

                                        <div *ngIf="!(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"
                                             style="align-self: stretch; width: 11px; height: auto"
                                        ></div>
                                        <div *ngIf="!(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"
                                             class="input disabled" style="width: 83px">
                                            <app-sum-view
                                                    *ngIf="item.totalIncludeMaam !== null"
                                                    [sum]="item.totalIncludeMaam"
                                                    class="text-item text-ellipsis"
                                            ></app-sum-view>

                                            <!--                                            <p *ngIf="!item.totalIncludeMaam"-->
                                            <!--                                               class="text-item text-ellipsis">-->
                                            <!--                                                0-->
                                            <!--                                            </p>-->
                                        </div>
                                    </div>
                                </div>
                            </ng-template>

                            <ng-template #incomeTemp>
                                <div>
                                    <div
                                            class="flex"
                                            style="margin-bottom: 10px; justify-content: space-between"
                                    >
                                        <div style="width: 195px; min-width: 195px">
                                            <div
                                                    *ngIf="item.oppositCust; else empty"
                                                    class="p-dropdown"
                                            >
                                                <label class="p-dropdown-label">
                          <span
                              #spanElement
                              [pTooltip]="item.oppositCust.cartisName"
                              [tooltipDisabled]="
                              spanElement.offsetWidth >= spanElement.scrollWidth
                            "
                              style="
                              vertical-align: middle;
                              display: block;
                              white-space: nowrap;
                              overflow: hidden;
                              text-overflow: ellipsis;
                              line-height: 20px;
                            "
                              tooltipPosition="top"
                          >{{ item.oppositCust.cartisName }}</span
                          >
                                                </label>
                                            </div>
                                        </div>

                                        <div *ngIf="!(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"
                                             style="align-self: stretch; width: 11px; height: auto"
                                        ></div>
                                        <div *ngIf="!(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"
                                             class="input disabled" style="width: 83px">
                                            <app-sum-view
                                                    *ngIf="item.totalBeforeMaam !== null"
                                                    [sum]="item.totalBeforeMaam"
                                                    class="text-item text-ellipsis"
                                            ></app-sum-view>

                                            <!--                                            <p *ngIf="!item.totalBeforeMaam"-->
                                            <!--                                               class="text-item text-ellipsis">-->
                                            <!--                                                0-->
                                            <!--                                            </p>-->
                                        </div>
                                    </div>
                                    <div
                                            class="flex"
                                            style="margin-bottom: 10px; justify-content: space-between"
                                    >
                                        <div style="width: 195px; min-width: 195px">
                                            <div
                                                    *ngIf="item.taxDeductionCustId; else empty"
                                                    class="p-dropdown"
                                            >
                                                <label class="p-dropdown-label">
                          <span
                              #spanElement
                              [pTooltip]="item.taxDeductionCustId.cartisName"
                              [tooltipDisabled]="
                              spanElement.offsetWidth >= spanElement.scrollWidth
                            "
                              style="
                              vertical-align: middle;
                              display: block;
                              white-space: nowrap;
                              overflow: hidden;
                              text-overflow: ellipsis;
                              line-height: 20px;
                            "
                              tooltipPosition="top"
                          >{{ item.taxDeductionCustId.cartisName }}</span
                          >
                                                </label>
                                            </div>
                                        </div>

                                        <div *ngIf="!(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"
                                             style="align-self: stretch; width: 11px; height: auto"
                                        ></div>
                                        <div *ngIf="!(srcCurrencyId !== 1 || (srcCurrencyId === 1 && currencyIdDD && currencyIdDD['id'] !== 1))"
                                             class="input disabled" style="width: 83px">
                                            <app-sum-view
                                                    *ngIf="item.paymentNikui !== null"
                                                    [sum]="item.paymentNikui"
                                                    class="text-item text-ellipsis"
                                            ></app-sum-view>

                                            <!--                                            <p *ngIf="!item.paymentNikui"-->
                                            <!--                                               class="text-item text-ellipsis">-->
                                            <!--                                                0-->
                                            <!--                                            </p>-->
                                        </div>
                                    </div>
                                </div>
                            </ng-template>

                            <ng-template #empty>
                                <div>&nbsp;</div>
                            </ng-template>

                            <ng-template #expenseTempSums>
                                <div>
                                    <div>
                                        <div class="input disabled" style="width: 85px">
                                            <app-sum-view
                                                    *ngIf="item.totalBeforeMaam"
                                                    [sum]="item.totalBeforeMaam"
                                                    class="text-item text-ellipsis"
                                            ></app-sum-view>

                                            <p
                                                    *ngIf="!item.totalBeforeMaam"
                                                    class="text-item text-ellipsis"
                                            >
                                                0
                                            </p>
                                        </div>
                                    </div>
                                    <div *ngIf="item.taxDeductionCustId">
                                        <div class="input disabled" style="width: 85px">
                                            <app-sum-view
                                                    *ngIf="item.totalMaam"
                                                    [sum]="item.totalMaam"
                                                    class="text-item text-ellipsis"
                                            ></app-sum-view>

                                            <p *ngIf="!item.totalMaam" class="text-item text-ellipsis">
                                                0
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                            <ng-template #incomeTempSums>
                                <div>
                                    <div>
                                        <div class="input disabled" style="width: 85px">
                                            <app-sum-view
                                                    *ngIf="item.totalIncludeMaam"
                                                    [sum]="item.totalIncludeMaam"
                                                    class="text-item text-ellipsis"
                                            ></app-sum-view>

                                            <p
                                                    *ngIf="!item.totalIncludeMaam"
                                                    class="text-item text-ellipsis"
                                            >
                                                0
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>

                            <ng-template #expenseMatahTemp>
                                <div>
                                    <div>
                                        <div class="input disabled" style="width: 85px">
                                            <app-sum-view
                                                    *ngIf="item.totalBeforeMaamMatah"
                                                    [sum]="item.totalBeforeMaamMatah"
                                                    class="text-item text-ellipsis"
                                            ></app-sum-view>

                                            <p
                                                    *ngIf="!item.totalBeforeMaamMatah"
                                                    class="text-item text-ellipsis"
                                            >
                                                0
                                            </p>
                                        </div>
                                    </div>
                                    <div *ngIf="item.taxDeductionCustId">
                                        <div class="input disabled" style="width: 85px">
                                            <app-sum-view
                                                    *ngIf="item.totalMaamMatah"
                                                    [sum]="item.totalMaamMatah"
                                                    class="text-item text-ellipsis"
                                            ></app-sum-view>

                                            <p
                                                    *ngIf="!item.totalMaamMatah"
                                                    class="text-item text-ellipsis"
                                            >
                                                0
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                            <ng-template #incomeMatahTemp>
                                <div style="position: relative; align-self: stretch">
                                    <div class="input disabled" style="width: 85px">
                                        <app-sum-view
                                                *ngIf="item.matahAmount"
                                                [sum]="item.matahAmount"
                                                class="text-item text-ellipsis"
                                        ></app-sum-view>

                                        <p *ngIf="!item.matahAmount" class="text-item text-ellipsis">
                                            0
                                        </p>
                                    </div>
                                </div>
                            </ng-template>

                        </div>
                    </ng-container>
                </ng-container>
            </div>
        </div>

        <div *ngIf="showDocumentListStorageDataFiredRece">
            <div
                    [ngStyle]="{
          top: editOrderModal.container['clientHeight'] + 'px',
          maxHeight: scrHeight - editOrderModal.container['clientHeight'] - 10 + 'px'
        }"
                    class="showDocumentListStorageDataFired showDocumentListStorageDataFiredRece"
            >
                <div
                        style="
            overflow: hidden;
            display: flex;
            justify-content: flex-end;
            height: 30px;
            align-items: center;
            padding: 0px 22px 0px 22px;
          "
                >
                    <img
                            (click)="printAdditionalDetails()"
                            class="button-link"
                            height="19"
                            src="/assets/images/printIcon.png"
                            style="height: 19px !important; width: 19px !important; padding: 0"
                            width="19"
                    />
                </div>
                <div
                        [ngStyle]="{
            maxHeight:
              scrHeight - editOrderModal.container['clientHeight'] - 10 - 30 + 'px'
          }"
                        class="wrapData scrollbar-dynamic scroll-chrome"
                        style="overflow-y: auto; overflow-x: auto"
                >
                    <div style="overflow: hidden">
                        <ng-container
                                *ngIf="
                rowToSplit.pictureLink ||
                  (rowToSplit.splitArrayBase &&
                    rowToSplit.splitArrayBase.paymentDesc === 'Checks');
                else linkId
              "
                        >
                            <ng-container
                                    *ngFor="
                  let img of additionalDetails;
                  index as i;
                  last as isLast
                "
                            >
                                <div *ngIf="img.image" style="margin-top: 5px">
                                    <img
                                            [src]="checkImageSourceFrom(img)"
                                            alt="{{ img.chequeBankNumber }}"
                                            style="height: auto; width: 100%; position: relative;display: block; margin: 0 auto"

                                    />
                                </div>
                                <div
                                        *ngIf="!img.image"
                                        style="
                    margin-top: 5px;
                    width: 100%;
                    height: 210px;
                    position: relative;
                    margin-top: 5px;
                    border-radius: 0;
                    background: white;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                  "
                                >
                                    <div class="no-rows-found" style="padding-top: 0">
                                        לא נמצאה סריקה עבור צ'ק זה
                                    </div>
                                </div>
                            </ng-container>
                        </ng-container>
                        <ng-template #linkId>
                            <ng-container *ngIf="!rowToSplit.unionId && rowToSplit.linkId">
                                <div
                                        *ngIf="!(additionalDetails?.length > 0)"
                                        class="no-rows-found"
                                >
                                    {{ 'expressions.noDetailsForTransfer' | translate }}
                                </div>

                                <div
                                        class="additional-details-container"
                                        style="
                    width: 100%;
                    height: auto;
                    position: relative;
                    margin-top: 5px;
                    border-radius: 0;
                  "
                                >
                                    <div
                                            *ngIf="additionalDetails.length > 1"
                                            class="additional-details-transfer"
                                    >
                                        <div class="header-container">
                                            <div class="header-row">
                                                <div class="cell-1 text-ellipsis">
                                                    {{ 'titles.beneficiaryName' | translate }}
                                                </div>
                                                <div class="cell-2">
                                                    {{ 'titles.bank' | translate }}
                                                </div>
                                                <div class="cell-3">
                                                    {{ 'titles.branch' | translate }}
                                                </div>
                                                <div class="cell-4">
                                                    {{ 'titles.accountNumber' | translate }}
                                                </div>
                                                <div class="cell-7">{{ 'titles.sum' | translate }}</div>
                                                <div class="cell-isCustIdCards">כרטיס נגדי</div>
                                                <div class="cell-8"></div>
                                            </div>
                                        </div>
                                        <div
                                                *ngIf="
                        transTypesService.selectedCompanyTransTypes
                          | async as categories
                      "
                                                [appScrollHeight]="234"
                                                appendTo="parent"
                                                class="scroll-chrome"
                                        >
                                            <div
                                                    *ngFor="let adtnlRow of additionalDetails"
                                                    class="body-row"
                                            >
                                                <div class="cell-1 text-ellipsis">
                                                    {{ adtnlRow.namepayertransfer }}
                                                </div>
                                                <div class="cell-2 text-ellipsis">
                                                    <app-bank-view
                                                            [bankNumber]="adtnlRow.banktransfernumber"
                                                            [showName]="true"
                                                            style="
                              align-self: center;
                              flex: 0 0 auto;
                              -ms-flex: 0 0 auto;
                            "
                                                    ></app-bank-view>
                                                </div>
                                                <div class="cell-3">
                                                    {{ adtnlRow.branchtransfernumber }}
                                                </div>
                                                <div class="cell-4">
                                                    {{ adtnlRow.accounttransfernumber }}
                                                </div>
                                                <div class="cell-7 ltrNum">
                                                    <app-sum-view
                                                            [sum]="adtnlRow.transfertotal"
                                                    ></app-sum-view>
                                                </div>
                                                <div
                                                        [pTooltip]="getCustName(adtnlRow['custId'])"
                                                        class="cell-isCustIdCards btnDDArrow"
                                                        tooltipPosition="top"
                                                >
                                                    {{ adtnlRow['custId'] ? adtnlRow['custId'] : ' ' }}
                                                </div>
                                                <div class="cell-8">
                                                    <ng-container
                                                            *ngIf="adtnlRow['fileId'] === null; else fileId"
                                                    >
                                                        <mat-icon
                                                                style="
                                width: 14px;
                                vertical-align: middle;
                                color: #141414;
                                cursor: pointer;
                              "
                                                                svgIcon="doc"
                                                        ></mat-icon>
                                                    </ng-container>

                                                    <ng-template #fileId>
                                                        <ng-container
                                                                *ngIf="
                                (!adtnlRow.linkId ||
                                  (adtnlRow.linkId &&
                                    adtnlRow.linkId ===
                                      '00000000-0000-0000-0000-000000000000')) &&
                                (!adtnlRow.pictureLink ||
                                  (adtnlRow.pictureLink &&
                                    adtnlRow.pictureLink ===
                                      '00000000-0000-0000-0000-000000000000'))
                              "
                                                        >
                                                            <mat-icon
                                                                    style="
                                  width: 14px;
                                  vertical-align: middle;
                                  color: #41aae0;
                                "
                                                                    svgIcon="doc"
                                                            ></mat-icon>
                                                        </ng-container>
                                                    </ng-template>
                                                </div>
                                            </div>
                                        </div>
                                        <div
                                                *ngIf="additionalDetails.length > 1"
                                                class="footer-container isCustIdCards"
                                        >
                                            <div>
                                                {{ 'sumsTitles.total' | translate }}
                                                {{ additionalDetails.length }}
                                                {{ 'expressions.transfers' | translate }}
                                            </div>
                                            <div class="ltrNum">
                                                <app-sum-view
                                                        [sum]="transactionAdditionalDetailsSum"
                                                ></app-sum-view>
                                            </div>
                                        </div>
                                    </div>

                                    <div
                                            *ngIf="additionalDetails.length === 1"
                                            class="additional-details-transfer-one"
                                    >
                                        <div class="header">
                                            {{ 'titles.transferDetails' | translate }}
                                        </div>
                                        <div class="body">
                                            <div class="column">
                                                <div class="row">
                                                    <div class="label">
                                                        {{ 'titles.beneficiaryName' | translate }}
                                                    </div>
                                                    <div class="value">
                                                        {{ additionalDetails[0].namepayertransfer }}
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="label">
                                                        {{ 'titles.branch' | translate }}
                                                    </div>
                                                    <div class="value">
                                                        {{
                                                        additionalDetails[0].biziboxMutavId
                                                            ? additionalDetails[0].branchtransfernumber
                                                            : additionalDetails[0].branchnumber
                                                        }}
                                                    </div>
                                                </div>
                                                <div
                                                        [class.sumToPrintFlex]="printWorker"
                                                        class="row sumToPrint"
                                                >
                                                    <div class="label">
                                                        {{ 'titles.sum' | translate }}
                                                    </div>
                                                    <div class="value">
                                                        <app-sum-view
                                                                [isABS]="true"
                                                                [sum]="additionalDetails[0].transfertotal"
                                                        ></app-sum-view>

                                                        {{ rowToSplit.hova ? 'בחובה' : 'בזכות' }}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="column">
                                                <div class="row">
                                                    <div class="label">
                                                        {{ 'titles.bank' | translate }}
                                                    </div>
                                                    <div class="value">
                                                        <app-bank-view
                                                                [bankNumber]="
                                additionalDetails[0].biziboxMutavId
                                  ? additionalDetails[0].banktransfernumber
                                  : additionalDetails[0].banknumber
                              "
                                                                [showName]="true"
                                                                style="
                                align-self: center;
                                flex: 0 0 auto;
                                -ms-flex: 0 0 auto;
                              "
                                                        ></app-bank-view>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="label">
                                                        {{ 'titles.accountFull' | translate }}
                                                    </div>
                                                    <div class="value">
                                                        {{
                                                        additionalDetails[0].biziboxMutavId
                                                            ? additionalDetails[0].accounttransfernumber
                                                            : additionalDetails[0].accountnumber
                                                        }}
                                                    </div>
                                                </div>
                                            </div>
                                            <div
                                                    class="column"
                                                    style="flex: 2 0 100%; -ms-flex: 2 0 100%"
                                            >
                                                <div
                                                        *ngIf="
                            additionalDetails[0].detailsContentType ===
                              'html' ||
                              additionalDetails[0].detailstransfer?.length >
                                200;
                            else notInlinedValue
                          "
                                                >
                                                    <div class="label">
                                                        {{ 'titles.transferEssence' | translate }}
                                                    </div>
                                                    <div class="value forceLTR html-inlined">
                                                        <div
                                                                [appScrollbar]="true"
                                                                [innerHtml]="additionalDetails[0].detailstransfer"
                                                                class="scrollbar-dynamic forceLTR"
                                                                style="
                                height: 250px;
                                overflow: auto;
                                background-color: white;
                                text-align: left;
                              "
                                                        ></div>
                                                    </div>
                                                </div>
                                                <ng-template #notInlinedValue>
                                                    <div
                                                            [ngStyle]="
                              additionalDetails[0].detailsContentType && {
                                'border-bottom-color': 'transparent'
                              }
                            "
                                                            class="row"
                                                    >
                                                        <div class="label">
                                                            {{ 'titles.note' | translate }}
                                                        </div>
                                                        <ng-container
                                                                *ngIf="
                                additionalDetails[0].detailsContentType;
                                else plainDetailsValue
                              "
                                                        >
                                                            <div
                                                                    *ngIf="
                                  additionalDetails[0].detailsContentType ===
                                  'json'
                                "
                                                                    class="value"
                                                            >
                                                                <div
                                                                        [appScrollbar]="true"
                                                                        class="scrollbar-dynamic"
                                                                        style="
                                    height: 270px;
                                    overflow: auto;
                                    background-color: white;
                                  "
                                                                >
                                                                    <div
                                                                            *ngFor="
                                      let item of additionalDetails[0]
                                        .detailstransfer
                                    "
                                                                            class="row"
                                                                    >
                                                                        <div class="label">{{ item.key }}</div>
                                                                        <div class="value">{{ item.value }}</div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </ng-container>
                                                        <ng-template #plainDetailsValue>
                                                            <div class="value">
                                                                {{ additionalDetails[0].detailstransfer }}
                                                            </div>
                                                        </ng-template>
                                                    </div>
                                                </ng-template>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                        </ng-template>
                    </div>

                    <div *ngIf="rowToSplit.fileId" style="overflow: hidden">
                        <div *ngIf="!sidebarImgs" class="loader">
                            <div class="circle"></div>
                        </div>
                        <ng-container *ngIf="sidebarImgs">
                            <div class="zoom-controls-inside">
                                <button (click)="imageScaleNewInvoice = 1" mat-icon-button>
                                    <mat-icon class="rotate-90">height</mat-icon>
                                </button>
                                <button
                                        (click)="rotateInside(); $event.stopPropagation()"
                                        mat-icon-button
                                >
                                    <mat-icon
                                            style="width: 17px; height: 17px"
                                            svgIcon="rotate"
                                    ></mat-icon>
                                </button>
                                <button
                                        (click)="zoomStepInside(1, 'imageScaleNewInvoice')"
                                        mat-icon-button
                                >
                                    <mat-icon>add</mat-icon>
                                </button>
                                <button
                                        (click)="zoomStepInside(-1, 'imageScaleNewInvoice')"
                                        mat-icon-button
                                >
                                    <mat-icon>remove</mat-icon>
                                </button>
                            </div>

                            <ng-container *ngFor="let imgLink of sidebarImgs; index as i">
                                <ng-container *ngIf="!finishedLoadedImgView">
                                    <div class="loader">
                                        <div class="circle"></div>
                                    </div>
                                </ng-container>
                                <div
                                        class="scroll-chrome-doc-wrap"
                                        style="position: relative; overflow: auto; margin-top: 5px"
                                >
                                    <img
                                            (load)="finishedLoadedImgView = true"
                                            (loadstart)="finishedLoadedImgView = false"
                                            [hidden]="!finishedLoadedImgView"
                                            [ngStyle]="{ transform: 'rotate(' + degRotateImg + 'deg)' }"
                                            [src]="imgLink.contentUrl"
                                            [style.zoom.%]="imageScaleNewInvoice * 100"


                                            style="height: auto; width: 675px; position: relative;display: block; margin: 0 auto"

                                    />
                                </div>
                            </ng-container>
                        </ng-container>
                    </div>
                </div>
            </div>
        </div>

        <p-footer>
            <button
                    (click)="editReceiptModalShow = false; selectedTransaction = rowToSplit"
                    class="button-link"
            >
                {{ 'actions.cancellation' | translate }}
            </button>
            <button
                    (click)="splitReceiptJournalTrans(true)"
                    *ngIf="rowToSplit.journalPaymentPrompt && rowToSplit.splitMultiPayment"
                    class="button-dark"
                    style="
    margin: 0px 10px;
"
            >
                ביטול פקודה מרובה
            </button>
            <button
                    (click)="splitReceiptJournalTrans()"
                    [disabled]="isDisabledSplitReceiptJournalTrans()"
                    class="button-dark"
            >
                {{ 'actions.save' | translate }}
            </button>
        </p-footer>
    </p-dialog>
</ng-container>

<ng-container *ngIf="exportFileCancelPrompt">
    <p-dialog (visibleChange)="exportFileCancelPrompt.visible = false"
              [modal]="true"
              [resizable]="false"
              [visible]="(
exportFileCancelPrompt.visible
        )"
              appendTo="body"
              styleClass="exportFileCancelPrompt"
    >
        <p-header>
            <h1>ביטל קובץ</h1>
        </p-header>

        <p>
            הקובץ יימחק מהתקייה של {{ exportFileCancelPrompt.prompt }} ויהיה ניתן
            ליצור קובץ חדש
        </p>
        <p>האם להמשיך?</p>

        <p-footer>
            <button (click)="exportFileCancelPrompt.decline()" class="button-link">
                {{ 'actions.cancellation' | translate }}
            </button>
            <button
                    (click)="exportFileCancelPrompt.approve()"
                    class="button-dark"
                    style="width: 121px; height: 33px !important; padding: 0"
            >
                {{ 'actions.approve' | translate }}
            </button>
        </p-footer>
    </p-dialog>
</ng-container>

<ng-container *ngIf="deleteCommandModal">
    <p-dialog (visibleChange)="deleteCommandModal = false"
              [modal]="true"
              [resizable]="false"
              [visible]="(
deleteCommandModal
        )"
              appendTo="body"
              styleClass="ocrExportFileToRemove"
    >
        <p-header>
            <h1>מחיקת פקודות</h1>
        </p-header>

        <p>הקובץ עם פקודות היומן יתבטל וסטטוס התנועות</p>
        <p>בבנק ובאשראי יהפוך להיות ״לא לטיפול״.</p>
        <p>האם ברצונכם להמשיך?</p>

        <p-footer>
            <button (click)="deleteCommandModal = false" class="button-link">
                {{ 'actions.cancellation' | translate }}
            </button>
            <button (click)="deleteCommandSend()" class="button-dark">
                {{ 'actions.approve' | translate }}
            </button>
        </p-footer>
    </p-dialog>
</ng-container>

<ng-container *ngIf="deleteCommandRowModal">
    <p-dialog (visibleChange)="deleteCommandRowModal = false"
              [modal]="true"
              [resizable]="false"
              [visible]="(
deleteCommandRowModal
        )"
              appendTo="body"
              styleClass="ocrExportFileToRemove"
    >
        <p-header>
            <h1>מחיקת פקודה</h1>
        </p-header>

        <p>פקודת היומן שנוצרה תוסר מהקובץ וסטטוס התנועה</p>
        <p>בבנק יהפוך להיות ״לא לטיפול״.</p>
        <p>האם ברצונכם להמשיך?</p>

        <p-footer>
            <button (click)="deleteCommandRowModal = false" class="button-link">
                {{ 'actions.cancellation' | translate }}
            </button>
            <button (click)="deleteCommandRowSend()" class="button-dark">
                {{ 'actions.approve' | translate }}
            </button>
        </p-footer>
    </p-dialog>
</ng-container>

<ng-container *ngIf="fileToRemove">
    <p-dialog (onHide)="fileToRemove = false"
              (visibleChange)="fileToRemove = false"
              [modal]="true"
              [resizable]="false"
              [visible]="(
fileToRemove
        )"
              appendTo="body"
              styleClass="ocrExportFileToRemove"
    >
        <p-header>
            <h1>
                מחיקת
                {{
                showFloatNav && showFloatNav?.selcetedFiles.length === 1
                    ? ' פקודה'
                    : ' פקודות'
                }}
            </h1>
        </p-header>

        <p
                *ngIf="
        showFloatNav && showFloatNav?.selcetedFiles.length === 1;
        else many
      "
                class="text"
        >
            הפקודת יומן שנוצרה תוסר מהקובץ וסטטוס התנועה
            <br/>
            בבנק יהפוך להיות ״לא לטיפול״.
        </p>
        <ng-template #many>
            <p class="text">
                הפקודות יומן שנוצרו יוסרו מהקובץ וסטטוס התנועות
                <br/>
                בבנק יהפוך להיות ״לא לטיפול״.
                <br/>
                האם למחוק?
            </p>
        </ng-template>

        <p-footer>
            <button (click)="fileToRemove = false" class="button-link">
                {{ 'actions.cancellation' | translate }}
            </button>
            <button (click)="deleteFile()" class="button-dark">
                {{ 'actions.approve' | translate }}
            </button>
        </p-footer>
    </p-dialog>
</ng-container>

<ng-container *ngIf="printData">
    <div #elemToPrint style="display: none">
        <style>
            @page {
                size: landscape;
            }

            .new-page {
                page-break-before: always;
            }
        </style>
        <div
                *ngFor="
        let parent of printData;
        let iParent = index;
        trackBy: trackByIdJournalTransData
      "
        >
            <div class="journalTransDataBank new-page">
                <div class="header">
                    <div>&nbsp;</div>
                    <div>
                        תאריך

                        <mat-icon
                                [class.active]="
                companyFilesSortControl.value?.orderBy === 'invoiceDate'
              "
                                [svgIcon]="
                (companyFilesSortControl.value?.orderBy === 'invoiceDate'
                  ? companyFilesSortControl.value.order
                  : null
                ) | sortIcon
              "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div>
                        סוג תנועה

                        <mat-icon
                                [class.active]="
                companyFilesSortControl.value?.orderBy === 'sugTnua'
              "
                                [svgIcon]="
                (companyFilesSortControl.value?.orderBy === 'sugTnua'
                  ? companyFilesSortControl.value.order
                  : null
                ) | sortIcon
              "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div>
                        תיאור

                        <mat-icon
                                [class.active]="
                companyFilesSortControl.value?.orderBy === 'details'
              "
                                [svgIcon]="
                (companyFilesSortControl.value?.orderBy === 'details'
                  ? companyFilesSortControl.value.order
                  : null
                ) | sortIcon
              "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>
                    <div>
                        בנק/אשראי

                        <mat-icon
                                [class.active]="
                companyFilesSortControl.value?.orderBy === 'cardAccName'
              "
                                [svgIcon]="
                (companyFilesSortControl.value?.orderBy === 'cardAccName'
                  ? companyFilesSortControl.value.order
                  : null
                ) | sortIcon
              "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>

                    <div>
                        כרטיס

                        <mat-icon
                                [class.active]="
                companyFilesSortControl.value?.orderBy === 'izuCustId'
              "
                                [svgIcon]="
                (companyFilesSortControl.value?.orderBy === 'izuCustId'
                  ? companyFilesSortControl.value.order
                  : null
                ) | sortIcon
              "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>

                    <div>
                        סכום

                        <mat-icon
                                [class.active]="
                companyFilesSortControl.value?.orderBy === 'total'
              "
                                [svgIcon]="
                (companyFilesSortControl.value?.orderBy === 'total'
                  ? companyFilesSortControl.value.order
                  : null
                ) | sortIcon
              "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>

                    <div>
                        כרטיס נגדי

                        <mat-icon
                                [class.active]="
                companyFilesSortControl.value?.orderBy === 'custId'
              "
                                [svgIcon]="
                (companyFilesSortControl.value?.orderBy === 'custId'
                  ? companyFilesSortControl.value.order
                  : null
                ) | sortIcon
              "
                                class="sort-icon"
                        >
                        </mat-icon>
                    </div>

                    <div>
                        <div style="flex: 25px">&nbsp;</div>

                        <div class="iconPic">&nbsp;</div>

                        <div>&nbsp;</div>
                    </div>
                </div>
                <div class="body" style="position: relative">
                    <div>
                        <div
                                [class]="'group-rows-bank ' + parent.status"
                                class="group-rows active"
                        >
                            <div>
                                <img
                                        [src]="'/assets/images/stateOpen.png'"
                                        height="9"
                                        style="
                    width: 14px;
                    height: 9px;
                    vertical-align: middle;
                    cursor: pointer;
                  "
                                        width="14"
                                />
                            </div>
                            <div>
                                <p-checkbox *ngIf="
                    parent.status !== 'JOURNAL_TRANS_PROCESS' &&
                    parent.status !== 'PERMANENT_COMMAND'
                  "
                                            [binary]="true"
                                            [ngModel]="parent.selcetFiles"
                                            checkboxIcon="fa fa-check"
                                >
                                </p-checkbox>
                            </div>
                            <div>
                                <ng-container [ngSwitch]="parent.status">
                                    <ng-container *ngSwitchCase="'CREATE_JOURNAL_TRANS'">
                                        <div style="width: 576px">
                      <span *ngIf="parent.fileType === 'BANK_AND_CREDIT'">
                        <ng-container
                                *ngIf="
                            parent.numOfBankData && parent.numOfCreditData;
                            else notBothFull
                          "
                        >
                          {{ parent.numOfBankData }} תנועות בנק ו{{
                            parent.numOfCreditData
                            }}
                            תנועות אשראי
                        </ng-container>
                        <ng-template #notBothFull>
                          {{
                            parent.numOfBankData
                                ? parent.numOfBankData + ' תנועות בנק '
                                : parent.numOfCreditData + ' תנועות אשראי '
                            }}
                        </ng-template>
                      </span>
                                            <span
                                                    *ngIf="
                          parent.fileType === 'CCARD_TRANS' &&
                          parent.numOfCreditData
                        "
                                            >
                        {{ parent.numOfCreditData }} תנועות אשראי
                      </span>
                                            <span
                                                    *ngIf="
                          parent.fileType === 'BANK_TRANS' &&
                          parent.numOfBankData
                        "
                                            >
                        {{ parent.numOfBankData }} תנועות בנק
                      </span>
                                            <span>
                        ע”ס

                                                {{ roundAndAddCommaFunc(parent.total) }} מחכות
                        לקליטה</span
                                            >
                                        </div>
                                        <ng-container *ngIf="parent.dateLastModified">
                      <span [ngStyle]="{ 'margin-right': '1em' }">
                        ({{ (parent.dateLastModified | date: 'H:mm') || '' }}
                          )
                          {{ (parent.dateLastModified | date: 'd/M/yy') || '' }}
                      </span>
                                        </ng-container>

                                        <div class="text-ellipsis leftSide">
                                            <div
                                                    *ngIf="parent.dateCreatedOld"
                                                    class="red"
                                                    style="margin-left: 40px"
                                            >
                                                שימו לב, הקובץ טרם נקלט בהנה”ח
                                            </div>
                                            <span
                                                    *ngIf="
                          !parent.dateCreatedOld && parent.collapseText !== null
                        "
                                                    style="margin-left: 40px"
                                            >
                        {{ parent.collapseText }}
                      </span>

                                            <ng-container *ngIf="parent.dateCreatedOld">
                                                <div class="alert">מחיקת הפקודות</div>

                                                <div style="color: #022258">|</div>
                                            </ng-container>

                                            <div *ngIf="parent.collapseText === null" class="alert">
                                                {{!userService?.appData?.userData?.companySelect?.folderPlus ? 'ליצירת קובץ' : 'קלוט קובץ בתוכנת הנה”ח'}}
                                            </div>
                                            <div
                                                    *ngIf="parent.collapseText !== null"
                                                    [pTooltip]="
                          parent.dateCreatedOld ? parent.collapseText : null
                        "
                                                    class="alert"
                                            >
                                                ביטול הקובץ
                                            </div>
                                        </div>
                                    </ng-container>
                                    <ng-container *ngSwitchCase="'TEMP_COMMAND'">
                                        <div style="width: 576px">
                      <span *ngIf="parent.fileType === 'BANK_AND_CREDIT'">
                        <ng-container
                                *ngIf="
                            parent.numOfBankData && parent.numOfCreditData;
                            else notBothFull
                          "
                        >
                          {{ parent.numOfBankData }} תנועות בנק ו{{
                            parent.numOfCreditData
                            }}
                            תנועות אשראי
                        </ng-container>
                        <ng-template #notBothFull>
                          {{
                            parent.numOfBankData
                                ? parent.numOfBankData + ' תנועות בנק '
                                : parent.numOfCreditData + ' תנועות אשראי '
                            }}
                        </ng-template>
                      </span>
                                            <span
                                                    *ngIf="
                          parent.fileType === 'CCARD_TRANS' &&
                          parent.numOfCreditData
                        "
                                            >
                        {{ parent.numOfCreditData }} תנועות אשראי
                      </span>
                                            <span
                                                    *ngIf="
                          parent.fileType === 'BANK_TRANS' &&
                          parent.numOfBankData
                        "
                                            >
                        {{ parent.numOfBankData }} תנועות בנק
                      </span>
                                            <span>
                        ע”ס

                                                {{ roundAndAddCommaFunc(parent.total) }}

                                                נקלטו במנה
                                                {{ parent.batchNumber }}
                      </span>
                                        </div>

                                        <ng-container *ngIf="parent.dateLastModified">
                      <span [ngStyle]="{ 'margin-right': '1em' }">
                        ({{ (parent.dateLastModified | date: 'H:mm') || '' }}
                          )
                          {{ (parent.dateLastModified | date: 'd/M/yy') || '' }}
                      </span>
                                        </ng-container>
                                        <div class="text-ellipsis leftSide">
                                            <div
                                                    *ngIf="parent.dateCreatedOld"
                                                    class="red"
                                                    style="margin-left: 40px"
                                            >
                                                שימו לב, הקובץ טרם נקלט בהנה”ח
                                            </div>
                                            <div class="red">הקובץ נקלט במנה זמנית</div>
                                        </div>
                                    </ng-container>
                                    <ng-container *ngSwitchCase="'NOT_TEMP_COMMAND'">
                                        <div style="width: 576px">
                      <span *ngIf="parent.fileType === 'BANK_AND_CREDIT'">
                        <ng-container
                                *ngIf="
                            parent.numOfBankData && parent.numOfCreditData;
                            else notBothFull
                          "
                        >
                          {{ parent.numOfBankData }} תנועות בנק ו{{
                            parent.numOfCreditData
                            }}
                            תנועות אשראי
                        </ng-container>
                        <ng-template #notBothFull>
                          {{
                            parent.numOfBankData
                                ? parent.numOfBankData + ' תנועות בנק '
                                : parent.numOfCreditData + ' תנועות אשראי '
                            }}
                        </ng-template>
                      </span>
                                            <span
                                                    *ngIf="
                          parent.fileType === 'CCARD_TRANS' &&
                          parent.numOfCreditData
                        "
                                            >
                        {{ parent.numOfCreditData }} תנועות אשראי
                      </span>
                                            <span
                                                    *ngIf="
                          parent.fileType === 'BANK_TRANS' &&
                          parent.numOfBankData
                        "
                                            >
                        {{ parent.numOfBankData }} תנועות בנק
                      </span>
                                            <span class="red">
                        נמחקו ממנה זמנית
                                                {{ parent.batchNumber }}
                      </span>
                                        </div>

                                        <div class="text-ellipsis leftSide">
                                            <div class="alert">מחיקת הפקודות</div>

                                            <div style="color: #022258">|</div>
                                            <div class="alert">הוספה לקובץ קליטה</div>
                                        </div>
                                    </ng-container>
                                    <ng-container *ngSwitchCase="'NOT_PERMANENT_COMMAND'">
                                        <div style="width: 576px">
                      <span *ngIf="parent.fileType === 'BANK_AND_CREDIT'">
                        <ng-container
                                *ngIf="
                            parent.numOfBankData && parent.numOfCreditData;
                            else notBothFull
                          "
                        >
                          {{ parent.numOfBankData }} תנועות בנק ו{{
                            parent.numOfCreditData
                            }}
                            תנועות אשראי
                        </ng-container>
                        <ng-template #notBothFull>
                          {{
                            parent.numOfBankData
                                ? parent.numOfBankData + ' תנועות בנק '
                                : parent.numOfCreditData + ' תנועות אשראי '
                            }}
                        </ng-template>
                      </span>
                                            <span
                                                    *ngIf="
                          parent.fileType === 'CCARD_TRANS' &&
                          parent.numOfCreditData
                        "
                                            >
                        {{ parent.numOfCreditData }} תנועות אשראי
                      </span>
                                            <span
                                                    *ngIf="
                          parent.fileType === 'BANK_TRANS' &&
                          parent.numOfBankData
                        "
                                            >
                        {{ parent.numOfBankData }} תנועות בנק
                      </span>
                                            <span class="alert red">
                        נמחקו ממנה קבועה
                                                {{ parent.batchNumber }}
                      </span>
                                        </div>
                                        <div class="text-ellipsis leftSide">
                                            <div class="alert">מחיקת הפקודות</div>

                                            <div style="color: #022258">|</div>

                                            <div class="alert">הוספה לקובץ קליטה</div>
                                        </div>
                                    </ng-container>
                                    <ng-container *ngSwitchCase="'JOURNAL_TRANS_PROCESS'">
                                        <div style="width: 576px">
                      <span *ngIf="parent.fileType === 'BANK_AND_CREDIT'">
                        <ng-container
                                *ngIf="
                            parent.numOfBankData && parent.numOfCreditData;
                            else notBothFull
                          "
                        >
                          {{ parent.numOfBankData }} תנועות בנק ו{{
                            parent.numOfCreditData
                            }}
                            תנועות אשראי
                        </ng-container>
                        <ng-template #notBothFull>
                          {{
                            parent.numOfBankData
                                ? parent.numOfBankData + ' תנועות בנק '
                                : parent.numOfCreditData + ' תנועות אשראי '
                            }}
                        </ng-template>
                      </span>
                                            <span
                                                    *ngIf="
                          parent.fileType === 'CCARD_TRANS' &&
                          parent.numOfCreditData
                        "
                                            >
                        {{ parent.numOfCreditData }} תנועות אשראי
                      </span>
                                            <span
                                                    *ngIf="
                          parent.fileType === 'BANK_TRANS' &&
                          parent.numOfBankData
                        "
                                            >
                        {{ parent.numOfBankData }} תנועות בנק
                      </span>
                                            <span> בתהליך קליטה </span>
                                        </div>
                                    </ng-container>
                                    <ng-container *ngSwitchCase="'PERMANENT_COMMAND'">
                                        <div style="width: 576px">
                      <span *ngIf="parent.fileType === 'BANK_AND_CREDIT'">
                        <ng-container
                                *ngIf="
                            parent.numOfBankData && parent.numOfCreditData;
                            else notBothFull
                          "
                        >
                          {{ parent.numOfBankData }} תנועות בנק ו{{
                            parent.numOfCreditData
                            }}
                            תנועות אשראי
                        </ng-container>
                        <ng-template #notBothFull>
                          {{
                            parent.numOfBankData
                                ? parent.numOfBankData + ' תנועות בנק '
                                : parent.numOfCreditData + ' תנועות אשראי '
                            }}
                        </ng-template>
                      </span>
                                            <span
                                                    *ngIf="
                          parent.fileType === 'CCARD_TRANS' &&
                          parent.numOfCreditData
                        "
                                            >
                        {{ parent.numOfCreditData }} תנועות אשראי
                      </span>
                                            <span
                                                    *ngIf="
                          parent.fileType === 'BANK_TRANS' &&
                          parent.numOfBankData
                        "
                                            >
                        {{ parent.numOfBankData }} תנועות בנק
                      </span>
                                            <span>
                        ע”ס
                                                {{ roundAndAddCommaFunc(parent.total) }}
                                                נקלטו במנה
                                                {{ parent.batchNumber }}
                      </span>
                                        </div>
                                        <ng-container *ngIf="parent.dateLastModified">
                      <span [ngStyle]="{ 'margin-right': '1em' }">
                        ({{ (parent.dateLastModified | date: 'H:mm') || '' }}
                          )
                          {{ (parent.dateLastModified | date: 'd/M/yy') || '' }}
                      </span>
                                        </ng-container>
                                        <div class="text-ellipsis leftSide">
                                            <mat-icon
                                                    style="color: #022258; height: 18px; width: 35px"
                                                    svgIcon="tick"
                                            ></mat-icon>
                                            <div>הקובץ נקלט במנה קבועה</div>
                                        </div>
                                    </ng-container>
                                    <ng-container *ngSwitchCase="'FOLDER_PLUS_ISSUE'">
                                        <div style="width: 576px">
                      <span *ngIf="parent.fileType === 'BANK_AND_CREDIT'">
                        <ng-container
                                *ngIf="
                            parent.numOfBankData && parent.numOfCreditData;
                            else notBothFull
                          "
                        >
                          {{ parent.numOfBankData }} תנועות בנק ו{{
                            parent.numOfCreditData
                            }}
                            תנועות אשראי
                        </ng-container>
                        <ng-template #notBothFull>
                          {{
                            parent.numOfBankData
                                ? parent.numOfBankData + ' תנועות בנק '
                                : parent.numOfCreditData + ' תנועות אשראי '
                            }}
                        </ng-template>
                      </span>
                                            <span
                                                    *ngIf="
                          parent.fileType === 'CCARD_TRANS' &&
                          parent.numOfCreditData
                        "
                                            >
                        {{ parent.numOfCreditData }} תנועות אשראי
                      </span>
                                            <span
                                                    *ngIf="
                          parent.fileType === 'BANK_TRANS' &&
                          parent.numOfBankData
                        "
                                            >
                        {{ parent.numOfBankData }} תנועות בנק
                      </span>
                                            <span>
                        ע”ס

                                                {{ roundAndAddCommaFunc(parent.total) }}

                                                לא נקלטו בחשבשבת
                      </span>
                                        </div>

                                        <div class="text-ellipsis leftSide">
                                            <img
                                                    [pTooltip]="parent.folderErrorDesc"
                                                    [tooltipDisabled]="!parent.folderErrorDesc"
                                                    height="15"
                                                    src="/assets/images/infoTooltip.png"
                                                    style="margin-left: 5px"
                                                    tooltipPosition="top"
                                                    width="15"
                                            />
                                            <div class="red" style="text-decoration:underline;color: #df0000;">קיימת
                                                בעיה בקליטת הקובץ לתוכנת הנה״ח
                                            </div>
                                        </div>
                                    </ng-container>
                                </ng-container>
                            </div>
                        </div>

                        <div
                                *ngFor="let child of parent.transData"
                                [class.disabled]="
                parent.status === 'JOURNAL_TRANS_PROCESS' ||
                parent.status === 'PERMANENT_COMMAND'||
                     parent.status === 'FOLDER_PLUS_ISSUE'
              "
                                class="row"
                        >
                            <div>
                                <p-checkbox *ngIf="
                    parent.status !== 'JOURNAL_TRANS_PROCESS' &&
                    parent.status !== 'PERMANENT_COMMAND' &&
                                        parent.status !== 'FOLDER_PLUS_ISSUE'
                  "
                                            [binary]="true"
                                            [ngModel]="child.selcetFile"
                                            checkboxIcon="fa fa-check"
                                >
                                </p-checkbox>
                            </div>
                            <div style="display: flex">
                                <div
                                        [innerHTML]="
                    (child.invoiceDate | date: 'dd/MM/y') || '-'
                      | highlight: queryString
                  "
                                        [ngStyle]="{
                    'margin-right': child.invoiceDate !== null ? '0' : '12%'
                  }"
                                        class="text-ellipsis"
                                ></div>
                            </div>
                            <div class="text-ellipsis">
                                <div
                                        [innerHTML]="child.sugTnua || '-' | highlight: queryString"
                                        [ngStyle]="{
                    'margin-right': child.sugTnua !== null ? '0' : '12%'
                  }"
                                ></div>
                            </div>
                            <div class="text-ellipsis">
                                <div
                                        [innerHTML]="child.details || '-' | highlight: queryString"
                                        [ngStyle]="{
                    'margin-right': child.details !== null ? '0' : '12%'
                  }"
                                        class="text-ellipsis"
                                ></div>
                            </div>
                            <div class="text-ellipsis">
                                <div
                                        [innerHTML]="
                    child.cardAccName || '-' | highlight: queryString
                  "
                                        [ngStyle]="{
                    'margin-right': child.cardAccName !== null ? '0' : '12%'
                  }"
                                        class="text-ellipsis"
                                ></div>
                            </div>
                            <div class="text-ellipsis">
                                <div
                                        [innerHTML]="child.izuCustId || '-' | highlight: queryString"
                                        [ngStyle]="{
                    'margin-right': child.izuCustId !== null ? '0' : '12%'
                  }"
                                        class="text-ellipsis"
                                ></div>
                            </div>
                            <div class="text-ellipsis">
                                <div
                                        [class.sum-credit]="!child.hova"
                                        [class.sum-debit]="child.hova"
                                        [ngStyle]="{
                    'margin-right': child.total !== null ? '0' : '12%'
                  }"
                                        class="text-ellipsis"
                                >
                                    <ng-container *ngIf="child.total !== null; else empty">
                                        <app-sum-view
                                                [highlight]="queryString"
                                                [ngStyle]="{ 'margin-right': child.hova ? '15px' : '0' }"
                                                [sum]="child.total"
                                        ></app-sum-view>
                                    </ng-container>
                                    <ng-template #empty> -</ng-template>
                                </div>
                            </div>
                            <div class="text-ellipsis" style="flex: 221">
                                <div
                                        [innerHTML]="child.custId || '-' | highlight: queryString"
                                        [ngStyle]="{
                    'margin-right': child.custId !== null ? '0' : '12%'
                  }"
                                        class="text-ellipsis"
                                ></div>
                            </div>
                            <div style="flex: 50px">
                                <div style="flex: 25px">
                                    <div *ngIf="child.splitNum" class="childrenNum">
                                        <span>{{ child.splitNum }}</span>
                                    </div>
                                    <div *ngIf="!child.splitNum">&nbsp;</div>
                                </div>
                                <div class="iconPic">
                                    <mat-icon
                                            style="
                      width: 17px;
                      height: 17px;
                      color: #939393;
                      display: none;
                    "
                                            svgIcon="picIcon"
                                    ></mat-icon>
                                </div>
                                <div>
                                    <i class="fas fa-ellipsis-v"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-container>

<ng-container *ngIf="shoeModalSelectType">
    <p-dialog (onHide)="shoeModalSelectType = false"
              (visibleChange)="shoeModalSelectType = false"
              [modal]="true"
              [resizable]="false"
              [visible]="true"
              appendTo="body"
              styleClass="modalEditCardsBeforeSendAuto"
    >
        <p-header>
            <h1>שיוך סוג תנועה</h1>
        </p-header>

        <p>
            בחרתם לשנות את

            <strong> סוג תנועה "{{ shoeModalSelectType.userTransTypeLink }}" </strong>

            <br/>

            <strong>
                לסוג תנועה "{{
                shoeModalSelectType.dataText ? shoeModalSelectType.dataText : ''
                }}".
            </strong>
            <br/>

            הגדירו לנו מה לעשות -
        </p>

        <ul>
            <li>
                <p-radioButton
                        [(ngModel)]="shoeModalSelectType.param.popupType"
                        [inputId]="'setFieldValueForFuture1'"
                        [label]="'תחליפו ל״' + shoeModalSelectType.dataText + '״ רק הפעם'"
                        [value]="1"
                        name="changeOption"
                ></p-radioButton>
            </li>
            <li>
                <p-radioButton
                        [(ngModel)]="shoeModalSelectType.param.popupType"
                        [inputId]="'setFieldValueForFuture2'"
                        [label]="'תשאירו תמיד את ״' + shoeModalSelectType.dataText + '״'"
                        [value]="2"
                        name="changeOption"
                ></p-radioButton>
            </li>
            <li>
                <p-radioButton
                        [(ngModel)]="shoeModalSelectType.param.popupType"
                        [inputId]="'setFieldValueForFuture3'"
                        [label]="'תנו לי לבחור כל פעם מחדש (השדה יגיע ריק)'"
                        [value]="3"
                        name="changeOption"
                ></p-radioButton>
            </li>
        </ul>

        <p-footer>
            <button (click)="shoeModalSelectType = false" class="button-link">
                {{ 'actions.cancellation' | translate }}
            </button>
            <button
                    (click)="typeChangeSelected(shoeModalSelectType.param)"
                    class="button-dark"
                    style="width: 121px; height: 33px !important; padding: 0"
            >
                {{ 'actions.approve' | translate }}
            </button>
        </p-footer>
    </p-dialog>
</ng-container>

<ng-container *ngIf="showModalCheckFolderFile === true">
    <p-dialog (onHide)="exportFileFolderCreatePrompt.cancelFile()"
              (visibleChange)="showModalCheckFolderFile = false; exportFileFolderCreatePrompt.cancelFile()"
              [modal]="true"
              [resizable]="false"
              [visible]="(
showModalCheckFolderFile === true
        )"
              appendTo="body"
              styleClass="exportFileFolderCreatePrompt"
    >
        <p-header>
            <h1>התקנת תיקיית bizibox</h1>
        </p-header>

        <div
                style="
        position: relative;
        margin: 0 auto 10px auto;
        width: 50px;
        height: 50px;
      "
        >
            <div
                    class="loaderPercent blueCircleBig"
                    style="background: transparent; opacity: 1"
            >
                <div class="circle"></div>
            </div>
        </div>

        <p style="text-align: center; margin-bottom: 15px; font-size: 20px">
            הקובץ בהכנה
        </p>
    </p-dialog>
</ng-container>

<ng-container *ngIf="responseRestPath && showModalCheckFolderFile === 'OK'">
    <p-dialog (onHide)="responseRestPath = false; startChild()"
              (visibleChange)="responseRestPath = false; startChild()"

              [modal]="true"
              [resizable]="false"
              [visible]="(
responseRestPath && showModalCheckFolderFile === 'OK'
        )"
              appendTo="body"
              styleClass="responseRestPath"
    >
        <p-header>
            <h1>נתיב הקובץ</h1>
        </p-header>

        <p style="margin-top: 10px">הקובץ שירד נמצא במחשבכם בתיקיה -</p>

        <p
                style="
        direction: ltr;
        text-align: left;
        display: flex;
        align-content: center;
        align-items: flex-start;
        margin: 0px 15px;
      "
        >
            <mat-icon
                    (click)="copyText(responseRestPath.filePath)"
                    style="
          margin-right: 3px;
          width: 12px;
          vertical-align: middle;
          cursor: pointer;
          color: #007ebf;
          display: block;
        "
                    svgIcon="copy"
            ></mat-icon>
            {{ responseRestPath.filePath }}
        </p>

        <p>
            ניתן להעתיק את הנתיב בלחיצה על האייקון

            <mat-icon
                    style="
          margin-right: 3px;
          margin-left: 3px;
          width: 12px;
          color: #022258;
          vertical-align: text-top;
          height: 13px;
        "
                    svgIcon="copy"
            ></mat-icon>

            ולהדביקו בחשבשבת
        </p>

        <img
                src="/assets/images/psHash.png"
                style="text-align: center; margin: 15px auto 0 auto; display: block"
        />

        <p-footer>
            <button
                    (click)="responseRestPath = false; startChild()"
                    class="button-dark"
                    style="width: 115px; height: 33px !important; padding: 0"
            >
                סגירה
            </button>
        </p-footer>
    </p-dialog>
</ng-container>

<ng-container *ngIf="responseRestPath && showModalCheckFolderFile === 'ERROR'">
    <p-dialog (onHide)="responseRestPath = false; startChild()"
              (visibleChange)="responseRestPath = false; startChild()"
              [modal]="true"

              [resizable]="false"
              [visible]="(
responseRestPath && showModalCheckFolderFile === 'ERROR'
        )"
              appendTo="body"
              styleClass="exportFileFolderCreatePrompt"
    >
        <p-header>
            <h1>יצירת קובץ</h1>
        </p-header>

        <img
                src="/assets/images/logobiziboxTrialExpired.png"
                style="
        text-align: center;
        margin: 0px auto 0 auto;
        width: 40px;
        height: auto;
        display: block;
      "
        />

        <p style="text-align: center; margin-top: 10px; font-size: 18px">
            קיימת שגיאה בהורדת הקובץ, אנחנו מטפלים בנושא.
        </p>
        <p style="text-align: center; margin-bottom: 10px; font-size: 18px">
            נעדכן ברגע שיסתדר.
        </p>
    </p-dialog>
</ng-container>

<ng-container
        *ngIf="responseRestPath && showModalCheckFolderFile === 'SYNC_ERROR'"
>
    <p-dialog (onHide)="
      responseRestPath = false;
      startChild();
      enabledDownloadLink = true;
      enabledDownloadLink_docfile = true;
      enabledDownloadLink_paramsfile = true
    "
              (visibleChange)="      responseRestPath = false;
      startChild();
      enabledDownloadLink = true;
      enabledDownloadLink_docfile = true;
      enabledDownloadLink_paramsfile = true"
              [modal]="true"

              [resizable]="false"
              [visible]="(
responseRestPath && showModalCheckFolderFile === 'SYNC_ERROR'
        )"
              appendTo="body"
              styleClass="exportFileFolderCreatePrompt"
    >
        <p-header>
            <h1>יצירת קובץ</h1>
        </p-header>
        <p style="text-align: center; margin-top: 10px; font-size: 18px">
            התעוררה תקלה בסנכרון הקובץ למחשב.
        </p>
        <p style="text-align: center; margin-bottom: 10px; font-size: 18px">
            ניתן להוריד את הקבצים בצורה ידנית
        </p>
        <p
                style="
        text-align: center;
        margin-bottom: 10px;
        font-size: 18px;
        text-decoration: underline;
        font-weight: 600;
      "
        >
            חייבים להוריד את שני הקבצים לקליטה בחשבשבת
        </p>
        <div
                style="
        display: flex;
        justify-content: space-around;
        align-items: center;
        margin-top: 30px;
        margin-bottom: 10px;
      "
        >
            <button
                    (click)="downloadFiles('enabledDownloadLink_docfile')"
                    [class.disabledDownloadLink]="!enabledDownloadLink_docfile"
                    [disabled]="!enabledDownloadLink_docfile"
                    class="button-dark"
                    style="font-weight: 600; font-size: 18px"
            >
                קובץ 1
            </button>
            <button
                    (click)="downloadFiles('enabledDownloadLink_paramsfile')"
                    [class.disabledDownloadLink]="!enabledDownloadLink_paramsfile"
                    [disabled]="!enabledDownloadLink_paramsfile"
                    class="button-dark"
                    style="font-weight: 600; font-size: 18px"
            >
                קובץ 2
            </button>
        </div>
        <!--        <img style="height: auto; width: auto; position: relative;" fill ngSrc="/assets/images/GENERAL_ERROR.png" style="    text-align: center;-->
        <!--    margin: 0px auto 0 auto;-->
        <!--    display: block;">-->

        <!--        <p style="text-align: center;margin-top: 10px;font-size: 18px;">-->
        <!--            התעוררה תקלה בסנכרון הקובץ למחשב.-->
        <!--        </p>-->
        <!--        <p style="text-align: center;margin-bottom: 10px;font-size: 18px;">-->
        <!--            ניתן להוריד את-->
        <!--            <a class="button-link"-->
        <!--               (click)="enabledDownloadLink ? exportFileFolderCreatePrompt.manualDownloadLink() : null"-->
        <!--               [class.disabledDownloadLink]="!enabledDownloadLink">2 הקבצים בצורה ידנית</a></p>-->
        <div
                *ngIf="!enabledDownloadLink"
                class="loaderPercent"
                style="opacity: 1; flex-direction: column"
        >
            <div
                    style="
          position: relative;
          margin: 0 auto 10px auto;
          width: 50px;
          height: 50px;
        "
            >
                <div
                        class="loaderPercent blueCircleBig"
                        style="background: transparent; opacity: 1"
                >
                    <div class="circle"></div>
                </div>
            </div>

            <p style="text-align: center; margin-bottom: 15px; font-size: 20px">
                הקובץ בהכנה
            </p>
        </div>
    </p-dialog>
</ng-container>

<!--<ng-container *ngIf="logicTypeShow">-->
<!--    <p-dialog (visibleChange)="aaa = false" [visible]="logicTypeShow"-->
<!--                (onHide)="logicTypeShow = false; openTopMessage(); reloadData();"-->
<!--                appendTo="body"-->
<!--                [modal]="false"-->
<!--                [resizable]="false"-->
<!--                [draggable]="false"-->
<!--                [closeOnEscape]="true"-->
<!--                [closable]="true"-->
<!--                styleClass="logicTypeShow {{hasTopBar ? 'hasTopBar' : ''}}">-->
<!--        <p-header>-->
<!--            <h1>-->
<!--                התאמות בנקים-->
<!--            </h1>-->
<!--        </p-header>-->
<!--  -->
<!--    </p-dialog>-->
<!--</ng-container>-->

<ng-container *ngIf="showModalAfterSelected">
    <p-dialog (onHide)="showModalAfterSelected = false;"
              (visibleChange)="showModalAfterSelected = false"
              [closable]="true"
              [closeOnEscape]="true"
              [dismissableMask]="true"
              [draggable]="false"
              [modal]="true"
              [resizable]="false"
              [visible]="showModalAfterSelected"
              appendTo="body"
              styleClass="showModalAfterSelected">
        <p>
            נא אשר או בטל המלצות ביזיבוקס
            <br>
            לפני המשך התאמה ידנית.
        </p>
    </p-dialog>
</ng-container>


<ng-container *ngIf="showNotUpToDatePopup">
    <p-dialog (onHide)="showNotUpToDatePopup = false;"
              (visibleChange)="showNotUpToDatePopup = false"
              [closable]="true"
              [closeOnEscape]="true"
              [dismissableMask]="true"
              [draggable]="false"
              [modal]="true"
              [resizable]="false"
              [visible]="showNotUpToDatePopup"
              appendTo="body"
              styleClass="showModalAfterSelected">
        <h1 style="
    text-align: center;
    font-size: 22px;
    font-weight: 700;
    padding-bottom: 15px;
">
            נתוני הנה״ח לא מעודכנים
        </h1>
        <p style="text-align: center;line-height: 32px;">
            החל מ-
            {{showNotUpToDatePopup.lastExporterSyncDate | date: 'dd/MM/yy'}}

            ב-
            {{showNotUpToDatePopup.lastExporterSyncDate | date: 'HH:mm'}}
        </p>
        <p style="text-align: center;line-height: 32px;">
            על מנת למנוע כפילויות יש לעבוד על נתונים ישנים מתאריך זה.
        </p>
        <h3 style="text-align: center;font-size: 21px;font-weight: 600;padding-top: 20px;">
            עבודה נעימה!
        </h3>
    </p-dialog>
</ng-container>

<ng-container *ngIf="exportFileFolderCreatePrompt">
    <p-dialog
        #exportFileFolderBothFilesNeededDialog
        (onHide)="onHide_exportFileFolderCreatePrompt(false, true)"
        (visibleChange)="onHide_exportFileFolderCreatePrompt(true, true)"
        [modal]="true"
        [resizable]="false"
        [visible]="(exportFileFolderCreatePrompt.alertDownloadedOneFileOnly)"
        appendTo="body"
        styleClass="exportFileFolderCreatePromptContentDownloadAgain">
        <p
                style="
            text-align: center;
            font-size: 16px;
            font-weight: 600;
          "
        >
            שני הקבצים נחוצים לקליטה בחשבשבת
        </p>
        <div class="btnDownloadBtn">
            <button (click)="downloadFiles('enabledDownloadLink_docfile');
                            exportFileFolderCreatePrompt.alertDownloadedOneFileOnly = false;
                            exportFileFolderCreatePrompt.visible = false;"
                    *ngIf="enabledDownloadLink_docfile"
                    [class.disabledDownloadLink]="!enabledDownloadLink_docfile"
                    [disabled]="!enabledDownloadLink_docfile"
                    class="button-dark"
                    style="font-weight: 600; font-size: 18px"
            >
                קובץ 1
            </button>
            <button (click)="downloadFiles('enabledDownloadLink_paramsfile');
                            exportFileFolderCreatePrompt.alertDownloadedOneFileOnly = false;
                            exportFileFolderCreatePrompt.visible = false;"
                    *ngIf="enabledDownloadLink_paramsfile"
                    [class.disabledDownloadLink]="!enabledDownloadLink_paramsfile"
                    [disabled]="!enabledDownloadLink_paramsfile"
                    class="button-dark"
                    style="font-weight: 600; font-size: 18px"
            >
                קובץ 2
            </button>
        </div>
    </p-dialog>
    <p-dialog #exportFileFolderCreatePromptDlg
              (onHide)="onHide_exportFileFolderCreatePrompt()"
              (visibleChange)="onHide_exportFileFolderCreatePrompt(true)"
              [modal]="true"
              [resizable]="false"
              [visible]="(exportFileFolderCreatePrompt.visible)"
              appendTo="body"
              styleClass="exportFileFolderCreatePromptContentFlex exportFileFolderCreatePrompt {{
     (( !(
        !exportFileFolderCreatePrompt.approveSubscription &&
        responseRestPath.folderState === 'NOT_EXIST'
      ) && !exportFileFolderCreatePrompt.approveSubscription?.closed) || (exportFileFolderCreatePrompt.approveSubscription?.closed && responseRestPath.folderState === 'NOT_EXIST'))
        ? 'hideFooter'
        : ''
    }}"
    >
        <p-header>
            <h1>
                {{
                responseRestPath.folderState !== 'NOT_EXIST'
                    ? 'תקלה בתיקיית bizibox'
                    : 'התקנת תיקיית bizibox'
                }}
            </h1>
        </p-header>


        <ng-container *ngIf="!exportFileFolderCreatePrompt.approveSubscription">
            <ng-container *ngIf="responseRestPath.folderState === 'NOT_EXIST'">
                <p style="width: 358px;">
                    על מנת להוריד ולשמור את הקובץ, יש לבצע תהליך ראשוני של התקנת התיקייה
                    הראשית בשולחן העבודה.
                </p>
                <p>התיקייה תכיל את כל התיקיות לכל החברות שמשויכות אלייך</p>
            </ng-container>
            <ng-container *ngIf="responseRestPath.folderState === 'NOT_OK'">
                <div class="folderStateNOT_OKFilesModal">
                    <p class="generalTitle">
                        זיהינו שיש תקלה בתיקיית bizibox
                    </p>
                    <ul>
                        <li>
                            <div class="titleWithIcon">
                                <img src="/assets/images/install.png">
                                <p>
                                    לתיקון והתקנה
                                    <br>
                                    מחדש
                                </p>
                            </div>
                            <div class="btnDownloadInstall" style="justify-content: center;">
                                <a
                                        [href]="FOLDER_REPAIR_URL"
                                        class="button-dark"
                                        download
                                >
                                    התקנה
                                </a>
                            </div>

                        </li>

                        <li>
                            <div class="titleWithIcon">
                                <img src="/assets/images/download-files.png">
                                <p>
                                    להורדה ידנית
                                    <br>
                                    של הקבצים
                                </p>
                            </div>
                            <div class="btnDownloadInstall">
                                <button
                                        (click)="downloadFiles('enabledDownloadLink_docfile')"
                                        [class.disabledDownloadLink]="!enabledDownloadLink_docfile"
                                        [disabled]="!enabledDownloadLink_docfile"
                                        class="button-dark"
                                >
                                    קובץ 1
                                </button>
                                <button
                                        (click)="downloadFiles('enabledDownloadLink_paramsfile')"
                                        [class.disabledDownloadLink]="!enabledDownloadLink_paramsfile"
                                        [disabled]="!enabledDownloadLink_paramsfile"
                                        class="button-dark"
                                >
                                    קובץ 2
                                </button>
                            </div>

                        </li>
                    </ul>
                    <p class="linkOpenTicket">
                        <a
                                (click)="sharedComponent.showOpenTicket()"
                                class="button-link"
                        >לפרטים נוספים ניתן לפתוח קריאת שרות</a>
                        <mat-icon
                                [svgIcon]="'icon_support'"
                                style="width: 25px;height: 25px;display: inline-block;margin-right: 10px;">
                        </mat-icon>
                    </p>
                    <div
                            *ngIf="!enabledDownloadLink"
                            class="loaderPercent"
                            style="opacity: 1; flex-direction: column"
                    >
                        <div
                                style="
              position: relative;
              margin: 0 auto 10px auto;
              width: 50px;
              height: 50px;
            "
                        >
                            <div
                                    class="loaderPercent blueCircleBig"
                                    style="background: transparent; opacity: 1"
                            >
                                <div class="circle"></div>
                            </div>
                        </div>

                        <p style="text-align: center; margin-bottom: 15px; font-size: 20px">
                            הקובץ בהכנה
                        </p>
                    </div>
                </div>


                <!--                <p style="text-align: center">-->
                <!--                    ניתן להוריד את-->
                <!--                    <a class="button-link"-->
                <!--                       (click)="enabledDownloadLink ? exportFileFolderCreatePrompt.manualDownloadLink() : null"-->
                <!--                       [class.disabledDownloadLink]="!enabledDownloadLink">2 הקבצים בצורה ידנית</a></p>-->
                <!--                <p style="text-align: center">-->
                <!--                    יש לשמור כל קובץ בנפרד.-->
                <!--                </p>-->
                <!--                <p style="text-align: center; font-size: 17px;">-->
                <!--                    שימו לב, יש לקלוט לחשבשבת את שני הקבצים.-->
                <!--                </p>-->

                <!--                <p>לפתרון התקלה <a [href]="FOLDER_REPAIR_URL" download class="button-link"-->
                <!--                                   (click)="exportFileFolderCreatePrompt.onAnchorClick()">לחצו כאן</a></p>-->
            </ng-container>
        </ng-container>
        <ng-container *ngIf="exportFileFolderCreatePrompt.pending">
            <mat-spinner
                    color="primary"
                    diameter="48"
                    style="margin: auto"
            ></mat-spinner>
        </ng-container>
        <ng-container
                *ngIf="exportFileFolderCreatePrompt.approveSubscription?.closed">
            <ng-container *ngIf="responseRestPath.folderState === 'OK'">
                <p>התקלה תוקנה.</p>
                <p>הקובץ ממתין בתיקייה שבמחשב לקליטה בהנה"ח</p>
            </ng-container>
            <ng-container *ngIf="responseRestPath.folderState === 'NOT_OK'">
                <p style="text-align: center">התקלה לא נפתרה, אנו מטפלים בנושא.</p>

                <p style="text-align: center">ניתן להוריד את הקבצים בצורה ידנית</p>
                <p
                        style="
            text-align: center;
            margin-bottom: 10px;
            font-size: 18px;
            text-decoration: underline;
            font-weight: 600;
          "
                >
                    חייבים להוריד את שני הקבצים לקליטה בחשבשבת
                </p>
                <div
                        style="
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-top: 30px;
            margin-bottom: 10px;
          "
                >
                    <button
                            (click)="downloadFiles('enabledDownloadLink_docfile')"
                            [class.disabledDownloadLink]="!enabledDownloadLink_docfile"
                            [disabled]="!enabledDownloadLink_docfile"
                            class="button-dark"
                            style="font-weight: 600; font-size: 18px"
                    >
                        קובץ 1
                    </button>
                    <button
                            (click)="downloadFiles('enabledDownloadLink_paramsfile')"
                            [class.disabledDownloadLink]="!enabledDownloadLink_paramsfile"
                            [disabled]="!enabledDownloadLink_paramsfile"
                            class="button-dark"
                            style="font-weight: 600; font-size: 18px"
                    >
                        קובץ 2
                    </button>
                </div>
                <!--                <p style="text-align: center">-->
                <!--                    ניתן להוריד את-->
                <!--                    <a class="button-link"-->
                <!--                       (click)="enabledDownloadLink ? exportFileFolderCreatePrompt.manualDownloadLink() : null"-->
                <!--                       [class.disabledDownloadLink]="!enabledDownloadLink">2 הקבצים בצורה ידנית</a></p>-->
                <!--                <p style="text-align: center">-->
                <!--                    יש לשמור כל קובץ בנפרד.-->
                <!--                </p>-->
                <!--                <p style="text-align: center; font-size: 17px;">-->
                <!--                    שימו לב, יש לקלוט לחשבשבת את שני הקבצים.-->
                <!--                </p>-->

                <div
                        *ngIf="!enabledDownloadLink"
                        class="loaderPercent"
                        style="opacity: 1; flex-direction: column"
                >
                    <div
                            style="
              position: relative;
              margin: 0 auto 10px auto;
              width: 50px;
              height: 50px;
            "
                    >
                        <div
                                class="loaderPercent blueCircleBig"
                                style="background: transparent; opacity: 1"
                        >
                            <div class="circle"></div>
                        </div>
                    </div>

                    <p style="text-align: center; margin-bottom: 15px; font-size: 20px">
                        הקובץ בהכנה
                    </p>
                </div>
            </ng-container>
            <ng-container *ngIf="responseRestPath.folderState === 'NOT_EXIST'">
                <div style="width: 503px;">
                    <h2 style="font-family: 'Assistant';
font-style: normal;
font-weight: 700;
font-size: 24px;
text-align: center;
color: #02225C;">
                        לא בוצעה התקנה
                    </h2>
                    <p style="font-family: Assistant;font-style: normal;font-weight: 400;font-size: 18px;line-height: 26px;text-align: center;color: #02225C;margin-top: 10px;margin-bottom: 20px;">
                        ניתן להוריד את הקבצים בצורה ידנית.
                        <br>
                        <span style="text-decoration: underline">
            חייבים להוריד את שני הקבצים לקליטה בחשבשבת
    </span>
                    </p>


                    <div class="footer"
                         style="display: flex; justify-content: space-between; align-items: center; margin: 60px 0px 5px 0px;"
                    >
                        <p class="colorBlueFill" style="display: flex;flex: 1;align-items: flex-end;">
                            <a
                                    (click)="
              exportFileFolderCreatePromptDlg.close($event);
              sharedComponent.showOpenTicket()
            "
                                    class="button-link"
                            >

                                לפרטים נוספים
                                <br>
                                ניתן לפתוח קריאת שרות
                            </a>
                            <mat-icon
                                    [svgIcon]="'icon_support'"
                                    style="width: 25px;height: 25px;display: inline-block;margin-right: 10px;margin-bottom: 5px;">
                            </mat-icon>
                        </p>

                        <div class="btnDownloadBtn" style="
    flex: 1;
    justify-content: flex-end;
    margin:0;
">
                            <button
                                    (click)="downloadFiles('enabledDownloadLink_docfile')"
                                    [class.disabledDownloadLink]="!enabledDownloadLink_docfile"
                                    [disabled]="!enabledDownloadLink_docfile"
                                    class="button-dark"
                                    style="font-weight: 600;font-size: 18px;width: 94px;height: 40px !important; display: flex;align-items: center;justify-content: center;"
                            >
                                קובץ 1

                                <img src="/assets/images/download-white.png" style="margin-right: 5px">
                            </button>
                            <button
                                    (click)="downloadFiles('enabledDownloadLink_paramsfile')"
                                    [class.disabledDownloadLink]="!enabledDownloadLink_paramsfile"
                                    [disabled]="!enabledDownloadLink_paramsfile"
                                    class="button-dark"
                                    style="font-weight: 600;font-size: 18px;width: 94px;height: 40px !important;display: flex;align-items: center;justify-content: center;margin-right: 19px;"
                            >
                                קובץ 2

                                <img src="/assets/images/download-white.png" style="margin-right: 5px">
                            </button>
                        </div>
                    </div>


                </div>


                <div
                        *ngIf="!enabledDownloadLink"
                        class="loaderPercent"
                        style="opacity: 1; flex-direction: column"
                >
                    <div
                            style="
              position: relative;
              margin: 0 auto 10px auto;
              width: 50px;
              height: 50px;
            "
                    >
                        <div
                                class="loaderPercent blueCircleBig"
                                style="background: transparent; opacity: 1"
                        >
                            <div class="circle"></div>
                        </div>
                    </div>

                    <p style="text-align: center; margin-bottom: 15px; font-size: 22px">
                        הקובץ בהכנה
                    </p>
                </div>
            </ng-container>
        </ng-container>
        <p-footer>
            <ng-container
                    *ngIf="
          !exportFileFolderCreatePrompt.approveSubscription &&
          responseRestPath.folderState === 'NOT_EXIST'
        "
            >
                <button
                        (click)="exportFileFolderCreatePromptDlg.close($event)"
                        class="button-link"
                >
                    {{ 'actions.cancellation' | translate }}
                </button>
                <a
                        (click)="exportFileFolderCreatePrompt.onAnchorClick()"
                        [href]="FOLDER_REPAIR_URL"
                        class="button-dark"
                        download
                        style="width: 121px; height: 33px !important; padding: 0"
                >
                    הורדה
                </a>
            </ng-container>
            <ng-container
                    *ngIf="exportFileFolderCreatePrompt.approveSubscription?.closed && responseRestPath.folderState !== 'NOT_EXIST'"
            >
                <button
                        (click)="exportFileFolderCreatePromptDlg.close($event)"
                        class="button-dark"
                        style="width: 121px; height: 33px !important; padding: 0"
                >
                    סיום
                </button>
            </ng-container>
        </p-footer>
    </p-dialog>
</ng-container>

<ng-container *ngIf="showModalCheckFolderFile === true">
    <p-dialog (onHide)="exportFileFolderCreatePrompt.cancelFile()"
              (visibleChange)="showModalCheckFolderFile = false; exportFileFolderCreatePrompt.cancelFile()"
              [modal]="true"
              [resizable]="false"
              [visible]="(showModalCheckFolderFile === true)"
              appendTo="body"
              styleClass="exportFileFolderCreatePrompt">
        <p-header>
            <h1>התקנת תיקיית bizibox</h1>
        </p-header>

        <div style="
        position: relative;
        margin: 0 auto 10px auto;
        width: 50px;
        height: 50px;
      ">
            <div
                    class="loaderPercent blueCircleBig"
                    style="background: transparent; opacity: 1"
            >
                <div class="circle"></div>
            </div>
        </div>

        <p style="text-align: center; margin-bottom: 15px; font-size: 20px">
            הקובץ בהכנה
        </p>
    </p-dialog>
</ng-container>

<ng-container *ngIf="responseRestPath && showModalCheckFolderFile === 'OK'">
    <p-dialog (onHide)="responseRestPath = false; startChild()"
              (visibleChange)="responseRestPath = false; startChild()"
              [modal]="true"
              [resizable]="false"
              [visible]="(responseRestPath && showModalCheckFolderFile === 'OK')"
              appendTo="body"
              styleClass="responseRestPath">
        <p-header>
            <h1>נתיב הקובץ</h1>
        </p-header>

        <p style="margin-top: 10px">הקובץ שירד נמצא במחשבכם בתיקיה -</p>

        <p style="
        direction: ltr;
        text-align: left;
        display: flex;
        align-content: center;
        align-items: flex-start;
        margin: 0px 15px;
      ">
            <mat-icon
                    (click)="copyText(responseRestPath.filePath)"
                    style="
          margin-right: 3px;
          width: 12px;
          vertical-align: middle;
          cursor: pointer;
          color: #007ebf;
          display: block;
        "
                    svgIcon="copy"
            ></mat-icon>
            {{ responseRestPath.filePath }}
        </p>

        <p>
            ניתן להעתיק את הנתיב בלחיצה על האייקון

            <mat-icon
                    style="
          margin-right: 3px;
          margin-left: 3px;
          width: 12px;
          color: #022258;
          vertical-align: text-top;
          height: 13px;
        "
                    svgIcon="copy"
            ></mat-icon>

            ולהדביקו בחשבשבת
        </p>

        <img
                src="/assets/images/psHash.png"
                style="text-align: center; margin: 15px auto 0 auto; display: block"
        />

        <p-footer>
            <button
                    (click)="responseRestPath = false; startChild()"
                    class="button-dark"
                    style="width: 115px; height: 33px !important; padding: 0"
            >
                סגירה
            </button>
        </p-footer>
    </p-dialog>
</ng-container>

<ng-container *ngIf="responseRestPath && showModalCheckFolderFile === 'ERROR'">
    <p-dialog (onHide)="responseRestPath = false; showModalCheckFolderFile = null;
                        onHide_exportFileFolderCreatePrompt(true);"
              (visibleChange)="responseRestPath = false; showModalCheckFolderFile = null;
                               onHide_exportFileFolderCreatePrompt(true);"
              [modal]="true"
              [resizable]="false"
              [visible]="(responseRestPath && showModalCheckFolderFile === 'ERROR')"
              appendTo="body"
              styleClass="exportFileFolderCreatePrompt"
    >
        <p-header>
            <h1>יצירת קובץ</h1>
        </p-header>

        <img
                src="/assets/images/logobiziboxTrialExpired.png"
                style="
        text-align: center;
        margin: 0px auto 0 auto;
        width: 40px;
        height: auto;
        display: block;
      "
        />

        <p style="text-align: center; margin-top: 10px; font-size: 18px">
            קיימת שגיאה בהורדת הקובץ, אנחנו מטפלים בנושא.
        </p>
        <p style="text-align: center; margin-bottom: 10px; font-size: 18px">
            נעדכן ברגע שיסתדר.
        </p>
    </p-dialog>
</ng-container>

<ng-container *ngIf="responseRestPath && showModalCheckFolderFile === 'SYNC_ERROR'">
    <p-dialog (onHide)="responseRestPath = false;
      startChild();
      enabledDownloadLink = true;
      enabledDownloadLink_docfile = true;
      enabledDownloadLink_paramsfile = true"
              (visibleChange)="responseRestPath = false;
      startChild();
      enabledDownloadLink = true;
      enabledDownloadLink_docfile = true;
      enabledDownloadLink_paramsfile = true"
              [modal]="true"
              [resizable]="false"
              [visible]="(responseRestPath && showModalCheckFolderFile === 'SYNC_ERROR')"
              appendTo="body"
              styleClass="exportFileFolderCreatePrompt"
    >
        <p-header>
            <h1>יצירת קובץ</h1>
        </p-header>
        <p style="text-align: center; margin-top: 10px; font-size: 18px">
            התעוררה תקלה בסנכרון הקובץ למחשב.
        </p>
        <p style="text-align: center; margin-bottom: 10px; font-size: 18px">
            ניתן להוריד את הקבצים בצורה ידנית
        </p>
        <p
                style="
        text-align: center;
        margin-bottom: 10px;
        font-size: 18px;
        text-decoration: underline;
        font-weight: 600;
      "
        >
            חייבים להוריד את שני הקבצים לקליטה בחשבשבת
        </p>
        <div
                style="
        display: flex;
        justify-content: space-around;
        align-items: center;
        margin-top: 30px;
        margin-bottom: 10px;
      "
        >
            <button
                    (click)="downloadFiles('enabledDownloadLink_docfile')"
                    [class.disabledDownloadLink]="!enabledDownloadLink_docfile"
                    [disabled]="!enabledDownloadLink_docfile"
                    class="button-dark"
                    style="font-weight: 600; font-size: 18px"
            >
                קובץ 1
            </button>
            <button
                    (click)="downloadFiles('enabledDownloadLink_paramsfile')"
                    [class.disabledDownloadLink]="!enabledDownloadLink_paramsfile"
                    [disabled]="!enabledDownloadLink_paramsfile"
                    class="button-dark"
                    style="font-weight: 600; font-size: 18px"
            >
                קובץ 2
            </button>
        </div>
        <!--        <img style="height: auto; width: auto; position: relative;" fill ngSrc="/assets/images/GENERAL_ERROR.png" style="    text-align: center;-->
        <!--    margin: 0px auto 0 auto;-->
        <!--    display: block;">-->

        <!--        <p style="text-align: center;margin-top: 10px;font-size: 18px;">-->
        <!--            התעוררה תקלה בסנכרון הקובץ למחשב.-->
        <!--        </p>-->
        <!--        <p style="text-align: center;margin-bottom: 10px;font-size: 18px;">-->
        <!--            ניתן להוריד את-->
        <!--            <a class="button-link"-->
        <!--               (click)="enabledDownloadLink ? exportFileFolderCreatePrompt.manualDownloadLink() : null"-->
        <!--               [class.disabledDownloadLink]="!enabledDownloadLink">2 הקבצים בצורה ידנית</a></p>-->
        <div
                *ngIf="!enabledDownloadLink"
                class="loaderPercent"
                style="opacity: 1; flex-direction: column"
        >
            <div
                    style="
          position: relative;
          margin: 0 auto 10px auto;
          width: 50px;
          height: 50px;
        "
            >
                <div
                        class="loaderPercent blueCircleBig"
                        style="background: transparent; opacity: 1"
                >
                    <div class="circle"></div>
                </div>
            </div>

            <p style="text-align: center; margin-bottom: 15px; font-size: 20px">
                הקובץ בהכנה
            </p>
        </div>
    </p-dialog>
</ng-container>


