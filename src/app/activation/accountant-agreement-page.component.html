<div class="agreementPageComponent">
    <div *ngIf="companyContactId && !showAlertsThanks" class="page w-form">
        <form id="wf-form-tos-form" method="get" name="wf-form-tos-form">
            <div class="container" style="min-height: 100vh">
                <div style="margin-bottom: 40px">
                    <div class="title" style="margin-bottom: 0">
                        הסכם רישיון שימוש בתוכנת bizibox לרו"ח ויועצי מס
                    </div>
                    <div class="last-updated">[עודכן בתאריך: 27.10.22]</div>
                </div>
                <div class="text-block">
                    <strong>הקדמה</strong>
                </div>

                <div class="text-block">
                    <ul style="
    list-style-type: square;
    list-style-position: inside;
">
                        <li>
                            השימוש בתוכנת bizibox ("התוכנה") ע"י רו"ח ויועצי מס ("המשתמש" או "אתה" או "רו"ח") מבית חברת
                            איי-פקט בע"מ ("החברה" או "אנחנו"), על השירותים הניתנים ו/או שיינתנו בה ו/או באמצעותה
                            ("השירותים") כפוף גם ל
                            <a
                                    href="https://bizibox.biz/privacy-policy-bizibox/"
                                    target="_blank"
                            >מדיניות הפרטיות</a>
                            ,
                            <a
                                    href="https://bizibox.biz/general-responsibility-policy/"
                                    target="_blank"
                            >מדיניות האחריות הכללית</a>
                            ו-
                            <a
                                    href="https://bizibox.biz/the-companys-intellectual-property-policy-and-prohibited-uses/"
                                    target="_blank"
                            >מדיניות הקניין הרוחני והשימושים אסורים</a
                            >
                            של החברה (ביחד יקראו תנאי הסכם רישיון זה ומסמכי המדיניות "תנאי הרישיון" או "ההסכם").
                        </li>
                        <li>
                            אישור תנאי הרישיון מהווים את הסכמתך לתוכנם ואת והתחייבותך לפעול בהתאם להם. הינך רשאי לסיים
                            את ההסכם והרישיון בכל רגע נתון באמצעות שליחת הודעה לחברה, זאת ע"י "קריאת שרות" הזמינה בתוכנה
                            ו/או ע"י קריאת שרות דרך התוכנה ב"צור קשר" באתר החברה

                            <a
                                    href="http://www.bizibox.biz/"
                                    target="_blank"
                            >www.bizibox.biz</a>
                            . בטרם שליחת ההודעה, עליך לדאוג לגבות מהמערכת את כל המידע הנחוץ לך להמשך עבודתך. לאחר קבלת
                            הודעה כאמור, החברה תחסום את גישתך לתוכנה ותשמיד כל מידע שנאסף באמצעות התוכנה אודותיך ואודות
                            לקוחותיך ונשמר במערכותיה בהתאם לתנאי ההסכם.
                        </li>
                        <li>
                            השימוש בשירותים שלנו כפוף לתנאי הרישיון העדכניים ביותר. עליך לדעת כי תנאי ההסכם ו/או תנאי
                            השימוש עלולים להשתנות ולכן מומלץ לעיין בהם מפעם לפעם, אנו ניידע אותך ונבקש את הסכמתך לכך בעת
                            שינויים מהותיים, על-ידי הודעה בפורטל/ אפליקציה במסך הגדרות בטאב "החשבון שלי". והמשך השימוש
                            שלך במוצר לאחר תאריך העדכון יהווה הסכמה לכך שהשינויים יחייבו אותך. במידה ונצטרך לשנות את
                            התנאים על מנת לעמוד בדרישות הדין, שינויים אלה יכנסו לתוקף באופן מידי או כנדרש על פי דין,
                            וזאת ללא מתן הודעה מוקדמת. האמור בתנאים אלה מתייחס באופן שווה לנשים וגברים, והשימוש בלשון
                            זכר נעשה מטעמי נוחות. כותרות הסעיפים בהסכם זה נועדו לנוחות בלבד, ואין להתחשב בהן בפרשנות
                            תנאי הרישיון.
                        </li>
                    </ul>
                </div>


                <div class="text-block">
                    <strong>רישיון השימוש בתוכנה</strong>
                </div>

                <div class="text-block">
                    <ul style="
    list-style-type: square;
    list-style-position: inside;
">
                        <li>
                            במהלך תקופת ההסכם, בכפוף לכל דין, לנכונות הצהרותיך ומילוי כלל התחייבויותיך על פיו, ובכפוף
                            לתשלום התמורה החודשית כפי שתסוכם בינך לבין החברה, החברה מעניקה לך בזאת רישיון שימוש מוגבל
                            (כלומר, הרישיון ניתן לביטול, בלתי-ייחודי, בלתי ניתן להעברה, ולא ניתן להעניק בו
                            רישיונות-משנה) בתוכנה, יצוין כי הרישיון מוענק למטרת ניהול נתוני רו"ח ו/או הנתונים הפיננסיים
                            של לקוחותיך אשר בהם אתה מבצע שימוש במסגרת מתן השירות להם ובהתאם להרשאתם המפורשת לעשות זאת
                            (להלן בהתאמה: "רישיון השימוש" וה- "נתונים").
                        </li>
                        <li>
                            מובהר בזאת כי החברה תהיה זכאית להעניק לכל צד שלישי אחר רישיון זהה או דומה לרישיון השימוש לפי
                            שיקול דעתה הבלעדי.
                        </li>
                    </ul>
                </div>

                <div class="text-block">
                    <strong>שימוש בתוכנה</strong>
                </div>

                <div class="text-block">
                    <ul style="
    list-style-type: square;
    list-style-position: inside;
">
                        <li>
                            באמצעות טכנולוגיית ליקוט, יבוא, עיבוד וקריאה אוטומטית, התוכנה קולטת את הנתונים הפיננסיים של
                            לקוחותיך (לרבות נתוני כרטיסי אשראי וסליקה, הלוואות, פיקדונות, מסגרות אשראי) (בהתאמה :
                            "הטכנולוגיה" ו"הנתונים"), ובאמצעות רכיב תוכנה המתממשק לתוכנות הנהלת החשבונות ניתן להציג את
                            הנתונים הפיננסיים ביחס ללקוח או לקבוצת לקוחות ב-Dashboard, ולבצע מגוון פעולות ביחס אליהם,
                            בין השאר: איתור מגמות ושינויים בהשוואה לתקופות קודמות, העברת כלל הנתונים אל תוכנות הנהלת
                            החשבונות באופן אוטומטי ומהיר, הצגת דו"חות חשבונאיים על פי נתוני תוכנות הנה"ח, ויצירת פקודות
                            יומן אוטומטיות זמניות (לתוכנת הנה"ח, לחשבוניות ספקים/לקוחות, לתנועות בדפי הבנק). כן התוכנה
                            מהווה ארכיון ממוחשב לכל המסמכים שהועלו אליה ומאפשרת שימושי BI שונים ( להלן, יחדיו: ה"תוצרי
                            השימוש" או "שימושי התוכנה המותרים").
                        </li>
                        <li>
                            יובהר כי חלק מהשירותים יהיו זמינים בעתיד בתשלום נוסף והחברה שומרת לעצמה את הזכות הבלעדית
                            לשנות ו/או לעדכן ו/או להסיר חלק מהשירותים על פי שיקול דעתה הבלעדי.
                        </li>
                        <li>
                            בהתאם לאמור בסעיף 14 להוראה לבעלי רישיון למתן שירות מידע פיננסי בעניין העברת מידע לאחר לפי
                            סעיף 29(ז) לחוק שירות מידע פיננסי, התשפ"ב-2021 (להלן: "חוק שירות מידע פיננסי"), הרינו
                            להודיעך כי – (1) המידע המועבר מטעמנו התקבל ממקור מידע באמצעות מערכת הממשק למידע פיננסי, ועל
                            כן חלות על מידע זה כל הוראות החוק הרלוונטיות. בנוסף, הוראות החוק הרלוונטיות יחולו גם עם כל
                            המידע הפיננסי המתקבל שלא דרך מערכת הממשק, במקרים בהם יעשה שימוש על ידנו בפרטי ההזדהות של
                            הלקוחאצל מקור המידע; (2) התקשורת שלנו עימך הכוללת מידע פיננסי, תעשה אך ורק באמצעות הממשק
                            בתעבורה מוצפנת על פי הטכנולוגיה העדכנית הקיימת בשוק.
                        </li>
                    </ul>
                </div>

                <div class="text-block">
                    <strong>הרשאת שימוש</strong>
                </div>

                <div class="text-block">
                    <ul style="
    list-style-type: square;
    list-style-position: inside;
">
                        <li>
                            בהתאם לסעיפים 2 ו-9 להוראה לבעלי רישיון למתן שירות מידע פיננסי בעניין העברת מידע לאחר,
                            השירות מותנה בכך שלקוחותיך יעבירו לידינו הרשאה [
                            <a
                                    href="https://bizibox.biz/%d7%90%d7%99%d7%a9%d7%95%d7%a8-%d7%9c%d7%9e%d7%aa%d7%9f-%d7%99%d7%99%d7%a4%d7%95%d7%99-%d7%9b%d7%97-%d7%9c%d7%a8%d7%95%d7%90%d7%94-%d7%97%d7%a9%d7%91%d7%95%d7%9f-%d7%99%d7%95%d7%a2%d7%a5-%d7%9e%d7%a1/"
                                    target="_blank"
                            >מצ"ב העתק הרשאה לעיון</a>
                            ] באמצעות האמצעים הטכנולוגיים המצויים ברשותנו ובשיתוף פעולה מצידכם לפיה הם מסכימים למתן
                            השירות וכן אישור מטעם הלקוחות כי אכן הינכם מייצגים אותם מכוח יפוי כוח כדין לצורך קבלת השירות
                            לרבות לעניין וידוא הסכמה להמשך העברת המידע במהלך מתן השירותים, ככל שהשירותים יסופקו במשך
                            תקופה העולה על שישה חודשים. מובהר כי לקוחות שלא יתנו לנו הרשאה כאמור לא נוכל לספק לכם את
                            השירות בנוגע להם.
                        </li>
                        <li>
                            עליך להביא לידיעת הלקוח במסגרת קבלת ההרשאה את ההיבטים הבאים: (1) תידרש גישה לנתוני הנהלת
                            החשבונות וכניסה לחשבונות במוסדות הפיננסים. (2) כחלק משימושך בתוכנה תבצע באמצעותה קריאה
                            אוטומטית של הנתונים מהם תפיק תוצרי השימוש. (3) במהלך ו/או במסגרת שימושך בתוכנה יישמר ו/או
                            יבוצע שימוש במידע ע”י החברה בכדי לאפשר למשתמשים את השימוש בתוכנה ואת קבלת השירות מאיתנו,
                            לאפשר לנו לשפר את השירות, להציע שירותים נוספים, לברר ולפעול בכל עניין הנוגע לתנאי שימוש אלו
                            ולמדיניות הפרטיות, לנתח, לחקור ולבקר עניינים נוספים בקשר לתוכנה ו/או לשירותי החברה ו/או ביחס
                            אליך וללקוחותיך. (4) אנו רשאים להסתייע בשירותי צד ג' בנוגע למידע (כגון גוגל ואמזון), והכול
                            כמפורט בתנאי השימוש הכלליים וב
                            <a
                                    href="https://bizibox.biz/privacy-policy-bizibox/"
                                    target="_blank"
                            >מדיניות הפרטיות</a>
                            . (5) הוראות מדיניות הפרטיות חלות על הלקוח מרגע שנתוניו הוכנסו לתוכנה והלקוח מודע לתוכן
                            מדיניות הפרטיות ומסכים לאמור בה.
                        </li>
                    </ul>
                </div>

                <div class="text-block" style="display: block">
                    <strong>הצהרת המשתמש</strong>
                </div>

                <div class="text-block">
                    באישורך והסכמתך לתנאי השימוש, יש בכדי להוות את הצהרתך להיבטים הבאים:

                    <ul style="
    list-style-type: disc;
    list-style-position: inside;
">
                        <li>
                            אתה רשאי ומוסמך להתקשר בהסכם זה ולא קיימת כל מניעה חוקית, חוזית או אחרת להתקשרותך בו ו/או
                            בביצוע התחייבויותיך על פיו ו/או ביחס לשימושך בתוכנה.
                        </li>
                        <li>
                            לא תעשה כל שימוש בלתי מורשה עפ"י הסכם זה. שימושך בתוכנה יעשה רק לצרכי שימושי התוכנה המותרים
                            כהגדרתם, בהתאם לכל דין לרבות חוק הגנת הפרטיות והתקנות מכוחו וכאמור, לאחר קבלת ההרשאה.
                        </li>
                        <li>
                            אתה תהייה אחראי כלפי החברה ו/או מי מטעמה לכל נזק, הפסד ו/או הוצאה שיגרמו לחברה ו/או מי מטעמה
                            כתוצאה מדרישה ו/או תביעה של צד ג' כלשהו כתוצאה ממעשה ו/או מחדל שלך המהווה הפרה של הסכם זה,
                            ותשפה את החברה ו/או מי מטעמה בגין כל נזק ו/או הוצאה שייגרמו לה.
                        </li>
                        <li>
                            אתה מתחייב, לחדול מלהשתמש בתוכנה עבור כל לקוח, שחדל להיות לקוח שלך ו/או שביטל את הסכמתו לגבי
                            המשך השימוש בתוכנה. עליך למסור לנו הודעה במקרה בו הלקוח הפסיק או הגביל את הרשאתו.
                        </li>
                        <li>
                            הינך מתחייב ליידע אותנו במקרה של אירוע אבטחת מידע לרבות דליפה או גישה לא מורשית למידע פיננסי
                            שמקורו קשור אל מידע שלנו.
                        </li>
                        <li>
                            בהתאם לאמור בסעיף 15 להוראה לבעלי רישיון למתן שירות מידע פיננסי בעניין העברת מידע לאחר לפי
                            סעיף 29(ז) לחוק שירות מידע פיננסי, הינך מתחייב לדברים הבאים –
                            <ol style="
    list-style-type: circle;
    list-style-position: inside;
    padding-right: 70px;
    padding-left: 22px;
">
                                <li>
                                    המידע הפיננסי נדרש לשם מתן שירות בתחום עיסוקך כמייצג לאותו לקוח.
                                </li>
                                <li>
                                    לא לעשות שימוש במידע הפיננסי המועבר אליך אלא לשם מתן שירות ללקוח בתחום עיסוקו כמייצג
                                    בהתאם לייפוי הכוח שקיבלת, ולא להעביר את המידע לאחר אלא לשם מתן שירות כאמור ולאחר
                                    שקיבלת את הסכמת הלקוח לכך.
                                </li>
                                <li>
                                    לעמוד בכל דרישות חוק הגנת הפרטיות והתקנות מכוחו ביחס למידע הפיננסי המועבר אליך.
                                </li>
                                <li>
                                    להחזיק ולמחוק את המידע הפיננסי שהגיע לידיך בהתאם להוראות סעיף 27 לחוק מידע פיננסי.
                                </li>
                                <li>
                                    להודיע לנו אם חדלת לתת שירות ללקוח שהמידע הפיננסי שלו מועבר אליך על ידנו.
                                </li>
                                <li>
                                    לשמור את המידע הפיננסי באופן מאובטח שימנע את דליפת המידע וגישה לא מורשית אליו לפי כל
                                    דין. בהתאם להוראת סעיף 15 להוראה לבעלי רישיון למתן שירות מידע פיננסי, עליך להתחייב
                                    להציג לנו אישור של מבקר בעל מומחיות מתאימה, אחת לתקופה שתקבע בהתאם להוראת סעיף 15
                                    כאמור, על עמידתך בחוק הגנת הפרטיות והתקנות מכוחו.
                                </li>
                            </ol>
                        </li>
                    </ul>
                </div>
                <div class="text-block" style="display: block">
                    <strong>כללי</strong>
                </div>

                <div class="text-block">
                    <ul style="
    list-style-type: square;
    list-style-position: inside;
">
                        <li>
                            התוכנה מסופקת לך לצורך שיפור תהליכי הנהלת החשבונות וייעול תהליכי העבודה בניהול המשרד ושיפור
                            השירות ללקוחותיך בלבד, ובכל מקרה אינה מיועדת לספק לך או ללקוחותיך שירותי ייעוץ מכל סוג. על
                            כן, השימוש בתוכנה אינו תחליף להפעלת שיקול דעתך העצמאי וכל פעולה ו/או החלטה על בסיס התוכנה
                            היא באחריותך בלבד.
                        </li>
                        <li>
                            מטעמי אבטחת מידע יידרש כי השימוש בנתונים שיעשה על ידך ו/או על ידי כל גורם מטעמך, יעשה אך ורק
                            לצורך מימושה של מטרת ההתקשרות המובאת לעיל. הינך מתחייב לוודא כי מורשי הגישה לנתונים מטעמך
                            התחייבו כי השימוש בנתונים יעשה אך ורק לצורך מטרת ההתקשרות, וכי תישמר סודיות המידע, בהתאם
                            להוראות הסכם זה ולהוראות כל דין, לרבות הוראות תקנות חוק הפרטיות (אבטחת מידע), תשע"ז -2017.
                        </li>
                        <li>
                            הגישה לשימוש תותנה בהקלדת שם משתמש וסיסמה ייעודיים עבור כל אחד מן המשתמשים המורשים מטעמך
                            במשרד, ואתה מתחייב לנקוט בכל האמצעים הנחוצים לשמירת סודיותם ולאי חשיפתם לצד ג' כלשהו.
                        </li>
                        <li>
                            תנאי שימוש אלה אינם יוצרים ולא יתפרשו כאילו הם יוצרים יחסי שותפות, מיזם משותף, יחסי
                            עובד-מעסיק, יחסי שליחות או יחסי נותן-מקבל זיכיון בין הצדדים.
                        </li>
                        <li>
                            סמכות השיפוט הבלעדית לדון בכל מחלוקת ו/או סכסוך בקשר עם תנאי הרישיון תהא נתונה לבית המשפט
                            המוסמך במחוז תל אביב.
                        </li>
                    </ul>
                </div>
                <div class="text-block" style="display: block">
                    <strong>פניה לחברה</strong>
                </div>

                <div class="text-block">
                    במידה ויש לך שאלות נוספות או הערות בנוגע לתנאים, הינך מוזמן לפנות אלינו ע"י קריאת שרות דרך התוכנה
                    ב"צור קשר" באתר החברה
                    <a
                            href="http://www.bizibox.biz/"
                            target="_blank"
                    >www.bizibox.biz</a>
                    באמצעות דואר אלקטרוני בכתובת:
                    <a
                            href="mailto:service@bizibox.biz"
                            target="_blank"
                    >service@bizibox.biz</a>

                    , אנו נעשה את מירב המאמצים לחזור אליך תוך זמן סביר.
                </div>
                <div class="agreement-checkboxes">
                    <label class="w-checkbox checkbox-field"
                    ><input
                            [(ngModel)]="marketInfo"
                            class="w-checkbox-input checkbox"
                            id="accept-communication"
                            name="accept-communication"
                            type="checkbox"
                    /><span
                            class="w-form-label"
                            for="checkbox-2"
                            style="font-weight: bold"
                    >
           קראתי והבנתי את תנאי ההסכם ואני מסכימ/ה לכל התנאים המפורטים בהם.
            </span></label
                    >
                </div>
            </div>

            <div class="button-fixed-container">
                <div class="container button-container">
                    <button
                            (click)="preSending = true;"
                            [disabled]="!marketInfo"
                            class="button w-button w-button-submit"
                            style="font-weight: bold"
                            type="submit"
                    >
                        לחץ לאישור
                    </button>
                    <!--                    <a href="#" class="button secondary-button w-button" (click)="updateContactInfo(false)">לא מאשר</a>-->
                </div>
            </div>
        </form>
    </div>

    <div
            *ngIf="!companyContactId"
            class="title"
            style="
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    "
    >
        יש להזין בשורת הכתובת את המזהה הרצוי
    </div>
</div>

<p-dialog (visibleChange)="showAlertsThanks = false"
          [modal]="true"
          [visible]="(showAlertsThanks)"
          appendTo="body"
          styleClass="landingPageCompaniesAlertsThanks"
>
    <div>
        <div id="div_v">
            <img fill ngSrc="/assets/images/companies-landing-v.png"
                 style="height: auto; width: auto; position: relative;"/>
        </div>
        <h3>
            תודה רבה! כעת אתה יכול
            <br/>
            להשתמש בתוכנת bizibox.
        </h3>
        <p style="font-size: 16px">ניתן לסגור את הדף</p>
    </div>
</p-dialog>

<ng-container *ngIf="otpInfo && otpInfo.displayPhoneNumber">
    <p-dialog (onHide)="otpInfo.displayPhoneNumber = false"
              (visibleChange)="otpInfo.displayPhoneNumber = false"
              [closable]="false"
              [closeOnEscape]="false"
              [draggable]="false"
              [modal]="true"
              [resizable]="false"
              [visible]="(otpInfo && otpInfo.displayPhoneNumber)"
              appendTo="body"
              styleClass="formLoginOtpModal formLoginOtpModalAgreement"
    >
        <div>
            <div>
                <div>
                    <div class="Login__otp">
                        <h1>הזנ/י את הקוד שקיבלת ב-SMS</h1>
                        <div>
                            <p>
                                קוד בן 4 ספרות נשלח למספר הטלפון ששוייך לך במערכת ({{
                                otpInfo.displayPhoneNumber
                                }})
                            </p>
                        </div>

                        <form
                                (ngSubmit)="
                updateContactInfo(formLoginOtp.value, formLoginOtp.valid, true, false)
              "
                                [formGroup]="formLoginOtp"
                                class="Form"
                                novalidate
                        >
                            <div
                                    class="Login__control"
                                    style="overflow: hidden; padding-bottom: 24px; margin-top: 24px"
                            >
                                <input
                                        appNumbersOnly="regexPositiveInt"
                                        autocomplete="off"
                                        class="forceLTR"
                                        formControlName="code"
                                        id="code"
                                        maxlength="256"
                                        placeholder="...הקוד שלך כאן"
                                        type="text"
                                />
                                <div
                                        *ngIf="
                    (!formLoginOtp.hasError('wrongCode') &&
                      !formLoginOtp.hasError('incorrect') &&
                      formLoginOtp.touched &&
                      formLoginOtp.invalid) ||
                    formLoginOtp.pristine
                  "
                                        style="font-size: 14px"
                                >
                                    <i class="fa fa-exclamation-triangle"></i>
                                    {{ 'formLogin.codeContainsNumbersOnly' | translate }}
                                </div>

                                <div
                                        *ngIf="
                    formLoginOtp.hasError('wrongCode') &&
                    !otpInfo.correctCode &&
                    formLoginOtp.touched &&
                    formLoginOtp.invalid
                  "
                                        class="popup-error-message"
                                >

                                    <ng-container *ngIf="(otpInfo && otpInfo.remainingAttempts === 0 && !otpInfo.correctCode)">
                                        הקוד שהזנת שגוי. אנא
                                        <span (click)="reload()" class="link">
                                              נסה שנית
                                        </span>
                                    </ng-container>
                                    <ng-container *ngIf="!(otpInfo && otpInfo.remainingAttempts === 0 && !otpInfo.correctCode)">
                                        הקוד שהזנת שגוי. אנא נסה שנית
                                    </ng-container>
                                    <ng-container
                                            *ngIf="
                                                          otpInfo.remainingAttempts ||
                                                          otpInfo.remainingAttempts === 0
                                                        "
                                    >
                                        <br/>
                                        <strong
                                                style="
                                                            display: block;
                                                            text-align: center;
                                                            font-weight: 700;
                                                            padding-top: 3px;
                                                            text-decoration: underline;
                                                          "
                                        >
                                            <ng-container *ngIf="otpInfo.remainingAttempts">
                                                נותרו עוד
                                                {{ otpInfo.remainingAttempts }}
                                                ניסיונות
                                            </ng-container>
                                            <ng-container *ngIf="otpInfo.remainingAttempts === 0">
                                                נחסמו אפשרויות שליחות קוד נוספות
                                            </ng-container>
                                        </strong>
                                    </ng-container>
                                </div>

                                <!--                                <div *ngIf="resendOtpCode" class="popup-resend-message">-->
                                <!--                                    הקוד נשלח אליך שוב-->
                                <!--                                </div>-->
                            </div>

                            <div class="Login__submit" style="padding-top: 0">
                                <button
                                        [disabled]="
                    !formLoginOtp.valid ||
                    formInProgress ||
                    (otpInfo && otpInfo.remainingAttempts === 0 && !otpInfo.correctCode)
                  "
                                        color="primary"
                                        id="loginOtpSubmit"
                                        mat-raised-button
                                        style="
                    display: inline-block !important;
                    padding: 9px 15px !important;
                    border: 0 !important;
                    line-height: inherit !important;
                    text-decoration: none !important;
                    cursor: pointer !important;
                    width: 100% !important;
                    padding-top: 18px !important;
                    padding-bottom: 18px !important;
                    border-radius: 100px !important;
                    background-color: #f2cb35 !important;
                    color: #00225c !important;
                    font-weight: 600 !important;
                    text-align: center !important;
                    margin-bottom: 12px !important;
                    height: auto !important;
                    box-shadow: none !important;
                  "
                                        type="submit"
                                >
                                    <mat-spinner
                                            *ngIf="formInProgress"
                                            color="accent"
                                            diameter="20"
                                    ></mat-spinner>
                                    <span *ngIf="!formInProgress">המשך</span>
                                </button>
                            </div>

                            <div
                                    *ngIf="
                  !formInProgress &&
                  !(otpInfo && otpInfo.remainingAttempts === 0) &&
                  !(otpInfo && otpInfo.remainingResends === 0)
                "
                                    class="Login__options"
                                    style="
    width: 268px;
    margin: 0 auto;
    text-align: right;
    padding-top: 10px;
"
                            >
                                <p
                                        style="
    text-align: right;
    padding: 0;
">
                                    {{ 'formLogin.didNotReceiveTheCode' | translate }}
                                </p>

                                <div
                                        style="height: 30px;display: flex;"
                                >
                                    <p style="
    padding: 0;
    color: #3898ec;
    line-height: 29px;
    padding-left: 11px;
">
                                        נסו שוב באמצעות
                                    </p>
                                    <p-radioButton
                                            (onClick)="resendOtp()"
                                            [label]="'SMS'"
                                            [value]="false"
                                            formControlName="vms"
                                            name="vms"
                                    >
                                    </p-radioButton>
                                    <span style="padding: 0px 6px"></span>
                                    <p-radioButton
                                            (onClick)="resendOfficeVms()"
                                            [label]="'הודעה קולית'"
                                            [value]="true"
                                            formControlName="vms"
                                            name="vms"
                                    >
                                    </p-radioButton>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </p-dialog>
</ng-container>

<ng-container *ngIf="mailInfo && mailInfo.displayEmail">
    <p-dialog (onHide)="mailInfo.displayPhoneNumber = false"
              (visibleChange)="mailInfo.displayPhoneNumber = false"
              [closable]="false"
              [closeOnEscape]="false"
              [draggable]="false"
              [modal]="true"
              [resizable]="false"
              [visible]="(mailInfo && mailInfo.displayEmail)"
              appendTo="body"
              styleClass="formLoginOtpModal formLoginOtpModalAgreement"
    >
        <div>
            <div>
                <div>
                    <div class="Login__otp">
                        <h1>הזנ/י את הקוד שקיבלת בדוא״ל</h1>
                        <div>
                            <p>
                                קוד בן 4 ספרות נשלח לכתובת הדוא״ל ששוייכה לך במערכת ({{
                                mailInfo.displayEmail
                                }})
                            </p>
                        </div>

                        <form
                                (ngSubmit)="
                updateContactInfo(formLoginOtp.value, formLoginOtp.valid, true, true)
              "
                                [formGroup]="formLoginOtp"
                                class="Form"
                                novalidate
                        >
                            <div
                                    class="Login__control"
                                    style="overflow: hidden; padding-bottom: 24px; margin-top: 24px"
                            >
                                <input
                                        appNumbersOnly="regexPositiveInt"
                                        autocomplete="off"
                                        class="forceLTR"
                                        formControlName="code"
                                        id="code"
                                        maxlength="256"
                                        placeholder="...הקוד שלך כאן"
                                        type="text"
                                />
                                <div
                                        *ngIf="
                    (!formLoginOtp.hasError('wrongCode') &&
                      !formLoginOtp.hasError('incorrect') &&
                      formLoginOtp.touched &&
                      formLoginOtp.invalid) ||
                    formLoginOtp.pristine
                  "
                                        style="font-size: 14px"
                                >
                                    <i class="fa fa-exclamation-triangle"></i>
                                    {{ 'formLogin.codeContainsNumbersOnly' | translate }}
                                </div>

                                <div
                                        *ngIf="
                    formLoginOtp.hasError('wrongCode') &&
                    !mailInfo.correctCode &&
                    formLoginOtp.touched &&
                    formLoginOtp.invalid
                  "
                                        class="popup-error-message"
                                >
                                    <ng-container *ngIf="(mailInfo && mailInfo.remainingAttempts === 0 && !mailInfo.correctCode)">
                                        הקוד שהזנת שגוי. אנא
                                        <span (click)="reload()" class="link">
                                              נסה שנית
                                        </span>
                                    </ng-container>
                                    <ng-container *ngIf="!(mailInfo && mailInfo.remainingAttempts === 0 && !mailInfo.correctCode)">
                                        הקוד שהזנת שגוי. אנא נסה שנית
                                    </ng-container>

                                    <ng-container
                                            *ngIf="
                      mailInfo.remainingAttempts ||
                      mailInfo.remainingAttempts === 0
                    "
                                    >
                                        <br/>
                                        <strong
                                                style="
                        display: block;
                        text-align: center;
                        font-weight: 700;
                        padding-top: 3px;
                        text-decoration: underline;
                      "
                                        >
                                            <ng-container *ngIf="mailInfo.remainingAttempts">
                                                נותרו עוד
                                                {{ mailInfo.remainingAttempts }}
                                                ניסיונות
                                            </ng-container>
                                            <ng-container *ngIf="mailInfo.remainingAttempts === 0">
                                                נחסמו אפשרויות שליחות קוד נוספות
                                            </ng-container>
                                        </strong>
                                    </ng-container>
                                </div>

                                <!--                                <div *ngIf="resendOtpCode" class="popup-resend-message">-->
                                <!--                                    הקוד נשלח אליך שוב-->
                                <!--                                </div>-->
                            </div>

                            <div class="Login__submit" style="padding-top: 0">
                                <button
                                        [disabled]="
                    !formLoginOtp.valid ||
                    formInProgress ||
                                        (mailInfo && mailInfo.remainingAttempts === 0 && !mailInfo.correctCode)
                  "
                                        color="primary"
                                        id="loginOtpSubmit"
                                        mat-raised-button
                                        style="
                    display: inline-block !important;
                    padding: 9px 15px !important;
                    border: 0 !important;
                    line-height: inherit !important;
                    text-decoration: none !important;
                    cursor: pointer !important;
                    width: 100% !important;
                    padding-top: 18px !important;
                    padding-bottom: 18px !important;
                    border-radius: 100px !important;
                    background-color: #f2cb35 !important;
                    color: #00225c !important;
                    font-weight: 600 !important;
                    text-align: center !important;
                    margin-bottom: 12px !important;
                    height: auto !important;
                    box-shadow: none !important;
                  "
                                        type="submit"
                                >
                                    <mat-spinner
                                            *ngIf="formInProgress"
                                            color="accent"
                                            diameter="20"
                                    ></mat-spinner>
                                    <span *ngIf="!formInProgress">המשך</span>
                                </button>
                            </div>

                            <div
                                    *ngIf="
                  !formInProgress &&
                  !(mailInfo && mailInfo.remainingAttempts === 0) &&
                  !(mailInfo && mailInfo.remainingResends === 0)
                "
                                    class="Login__options"
                            >
                                <p>
                                    לא קיבלת את הקוד?
                                    <a (click)="resendEmailOtp()" id="resendSms">שלח שוב</a>
                                </p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </p-dialog>
</ng-container>

<ng-container *ngIf="preSending">
    <p-dialog (onHide)="preSending = false"
              (visibleChange)="preSending = false"
              [closable]="false"
              [closeOnEscape]="false"
              [draggable]="false"
              [modal]="true"
              [resizable]="false"
              [visible]="preSending"
              appendTo="body"
              styleClass="formLoginOtpModal preSending"
    >
        <div class="popup-content auth-popup-content">
            <h1 class="popup-title">
                {{ getContactInfo.accountantFirstName }}
                , עליך להזדהות כדי לחתום על ההסכם</h1>
            <div class="popup-form-container" method="get">
                <a (click)="sendOtp()" class="button popup-button auth-button w-button" id="auth-sms">
                    <img alt="" class="auth-icon" src="/assets/images/textsms.svg">
                    הזדהות באמצעות הודעת SMS
                </a>
                <a (click)="sendMail()" class="button popup-button auth-button w-button" id="auth-email">
                    <img alt="" class="auth-icon" src="/assets/images/mailsvg.svg">
                    הזדהות באמצעות דוא״ל
                </a>
            </div>
            <div (click)="preSending = false" class="popup-paragraph" id="close-auth">ביטול</div>
        </div>
    </p-dialog>
</ng-container>
